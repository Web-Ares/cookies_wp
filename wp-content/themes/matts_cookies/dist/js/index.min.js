"use strict";!function(){$(function(){new e($(".preloader")),$.each($(".site__header"),function(){new o($(this))}),$.each($(".site__menu-nav_anchors"),function(){new s($(this))}),$.each($(".slides"),function(){new i($(this))})});var e=function(e){var o=this,s=$(window),i=e,n=$("body"),t=function(){s.on({load:function(){d()}})},a=function(){n[0].preloader=o,t()},d=function(){i.addClass("preloader_loaded"),setTimeout(function(){i.remove(),$(".site").addClass("site__loaded")},500)};a()},o=function(e){var o=this,s=e,i=$(window),n=$("html"),t=s.find(".site__menu"),a=($(".site__content"),!1),d=!1,l=!0,r=0,c=s.find(".site__menu-btn"),f=0,h=function(){i.on({load:function(){f=i.width()},resize:function(){f!=i.width()&&(f=i.width()+1,i.width()>=1024&&(t.scrollTop(0),_(c)))},scroll:function(){a=i.scrollTop()>=2*s.innerHeight(),i.scrollTop()>=s.innerHeight()?l&&(l=!1,s.addClass("site__header_hide")):(l=!0,s.removeClass("site__header_hide")),a?s.hasClass("site__header_hide")&&setTimeout(function(){s.addClass("site__header_fixed"),s.removeClass("site__header_hide")},100):i.scrollTop()<=3*s.innerHeight()&&s.removeClass("site__header_fixed")},DOMMouseScroll:function(e){var o=e.originalEvent.detail;if(o){var s=o>0?1:-1;u(s)}s<0?d=!0:setTimeout(function(){d=!1},300)},mousewheel:function(e){var o=e.originalEvent.wheelDelta;if(o){var s=o>0?-1:1;u(s)}s<0?d=!0:setTimeout(function(){d=!1},300)}}),$(window).scroll(function(e){var o=$(this).scrollTop();if(o>r){u(1);var s=1}else{u(-1);var s=-1}r=o,s<0?d=!0:setTimeout(function(){d=!1},300)}),c.on({click:function(){$(this).hasClass("opened")?_($(this)):p($(this))}})},u=function(e){e>0&&!s.hasClass("site__header_hidden")&&!c.hasClass("opened")&&a&&!d&&s.addClass("site__header_hidden"),e<0&&s.hasClass("site__header_hidden")&&!c.hasClass("opened")&&a&&d&&s.removeClass("site__header_hidden")},_=function(e){n.css({overflowY:"auto"}),e.removeClass("opened"),s.removeClass("opened-menu")},v=function(){s[0].obj=o,h()},p=function(e){e.addClass("opened"),s.addClass("opened-menu"),n.css({overflowY:"hidden"})};v()},s=function(e){var o=this,s=e,i=s.find(".site__menu-link"),n=$("html"),t=$(window),a=$("html, body"),d=$(".site__header"),l=($(".popup__cookies-info"),function(){t.on({resize:function(){r()},scroll:function(){r()}}),i.on({click:function(){var e=$(this),o=e.attr("data-href"),s=$("."+o).offset().top-d.innerHeight();return i.removeClass("active"),e.addClass("active"),s=t.width()>=1024?$("."+o).offset().top-91:$("."+o).offset().top-64,a.stop(!0,!1),a.animate({scrollTop:s},300),n.css({overflowY:"auto"}),d.find(".site__menu-btn").removeClass("opened"),d.removeClass("opened-menu"),!1}})}),r=function(){for(var e=$(window).scrollTop(),o=$("body").find('[data-scroll="scroll"]'),s=(o.offset().top,0);s<o.length;s++){var n=$(o[s]),t=$(o[s]).offset().top-d.outerHeight(!0),a=$(o[s]).outerHeight(!0);if(e>t){var l=n.attr("class").split(" "),r=i.filter("[data-href="+l[0]+"]");i.removeClass("active"),r.addClass("active")}e>t+a&&i.removeClass("active")}},c=function(){s[0].obj=o,l(),r()};c()},i=function(e){var o=this,s=e,i=$(window),n=function(){i.on({scroll:function(){t()}})},t=function(){var e=i.scrollTop(),o=i.height(),n=s.offset().top,t=n-e,a=1-t/o;a>.5&&(s.hasClass("slides_active")||s.addClass("slides_active"))},a=function(){s[0].slides=o,n(),t()};a()}}();
"use strict";!function(){$(function(){$.each($(".hero"),function(){new i($(this))})});var i=function(i){var o=this,t=i,n=$(window),c=$(".site__header"),e=0,s=null,f=$("html, body"),h=t.find(".hero__down"),r=function(){n.on({load:function(){e=n.width()},resize:function(){e!=n.width()&&(e=n.width()+1,a())}}),h.on({click:function(){return n.width()>=1024?(f.stop(!0,!1),f.animate({scrollTop:$(".our-cookies").offset().top-91},300)):(f.stop(!0,!1),f.animate({scrollTop:$(".our-cookies").offset().top-64},300)),!1}})},u=function(){t[0].obj=o,r(),l(),a()},l=function(){s=t.find(".slick-container").slick({dots:!0,autoplay:!0,autoplaySpeed:5e3,arrows:!1})},a=function(){var i=n.height();n.width()>=1024?t.find(".slick-list").css({height:i-c.innerHeight()}):t.find(".slick-list").css({height:i})};u()}}();
"use strict";!function(){$(function(){$.each($(".our-cookies"),function(){new n($(this))})});var n=function(n){var i=this,o=n,t=function(){o[0].obj=i,c()},c=function(){o.find(".slick-container").slick({dots:!0,autoplay:!0,autoplaySpeed:5e3})};t()}}();
"use strict";!function(){$(function(){$.each($(".real-stuff"),function(){new t($(this))}),$.each($(".real-stuff__products"),function(){new e($(this))})});var t=function(t){var e=this,n=t,o=$(window),i=0,s=n.find(".real-stuff__ingredients-list"),f=$("html, body"),d=n.find(".btn"),a=function(){o.on({load:function(){i=o.width()},resize:function(){i!=o.width()&&(i=o.width()+1,r(d,d.data("close")))}}),d.on({click:function(){var t=$(this),e=t.data("open"),n=t.data("close");return t.hasClass("opened")?r(t,n):c(t,e),!1}})},r=function(t,e){t.removeClass("opened"),t.text(e),s.css({height:0}),f.stop(!0,!1),f.animate({scrollTop:$(".real-stuff").offset().top-40-$(".site__header").innerHeight()},300)},c=function(t,e){t.addClass("opened"),t.text(e),s.css({height:s.find(">div").innerHeight()}),f.stop(!0,!1),f.animate({scrollTop:s.offset().top-40-$(".site__header").innerHeight()},300)},l=function(){n[0].obj=e,a()};l()},e=function(t){var e=this,n=t,o=$(".site__header"),i=15,s=5,f=6,d=7,a=$(window),r=0,c=$("html, body"),l=n.find(".real-stuff__description-content"),p=n.find(".real-stuff__description-btn"),u=function(){p.on({click:function(){if(a.width()>=1024){var t=$(this),e=t.next(),n=t.parent();return t.hasClass("opened")?_(t,n,e):h(t,n,e),!1}}}),a.on({load:function(){r=a.width()},resize:function(){a.width()>=1024?m():r!=a.width()&&(r=a.width()+1,_(p,n,l))}}),$(document).on("click",".real-stuff__description-content",function(t){t=t||window.event,t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}),$(document).on("click","body",function(){_(p,n,l),$(".real-stuff__description").removeClass("opened")}),$(document).on("mousemove","body",function(t){t=t||window.event;var e=$(this),r=(e.find(".real-stuff__products-img"),e.find(".real-stuff__description_1:not(.opened)")),c=e.find(".real-stuff__description_2:not(.opened)"),l=e.find(".real-stuff__description_3:not(.opened)"),p=e.find(".real-stuff__description_4:not(.opened)"),u=e.find(".real-stuff__description_5:not(.opened)"),_=e.find(".real-stuff__description_6:not(.opened)");if(a.width()>1024&&!o.hasClass("opened")){var h=t.clientX,m=t.clientY,C=n.width()/2,g=n.height()/2,b=(h-C)/C,x=(m-g)/g;a.outerWidth()>1024&&(v(b,x,s,r),w(b,x,f,c),v(b,x,d,l),w(b,x,s,p),w(b,x,i,u),w(b,x,d,_))}})},_=function(t,e,n){t.removeClass("opened"),e.removeClass("opened")},h=function(t,e,n){p.removeClass("opened"),$(".real-stuff__description").removeClass("opened"),t.addClass("opened"),e.addClass("opened"),c.stop(!0,!1),c.animate({scrollTop:n.offset().top-40-$(".site__header").innerHeight()},300)},m=function(){l.each(function(){var t=$(this);t.offset().left+t.innerWidth()>=a.width()?t.addClass("right_pos"):t.removeClass("right_pos"),t.offset().left<=0?t.addClass("left_pos"):t.removeClass("left_pos")})},w=function(t,e,n,o){o.css({"-webkit-transform":"translate( "+-(t*n)+"px,"+-(e*n)+"px )",transform:"translate( "+-(t*n)+"px, "+-(e*n)+"px  )"})},v=function(t,e,n,o){o.css({"-webkit-transform":"translate( "+t*n+"px ,"+e*n+"px  )",transform:"translate( "+t*n+"px , "+e*n+"px  )"})},C=function(){n[0].obj=e,u(),m()};C()}}();
"use strict";!function(){$(function(){$.each($(".cookies-info_btn"),function(){new i($(this))})});var i=function(i){var n=this,o=i,t=$(window),c=$(".popup__cookies-info"),f=function(){t.on({resize:function(){t.width()<1024}}),o.on({click:function(){if(t.width()<1024){var i=$(this),n=i.find(".cookies-info__title"),o=i.find(".cookies-info__text");c.find(".site__main-title").html(n.html()),c.find(".cookies-info__description").html(o.html())}}})},e=function(){o[0].obj=n,f()};e()}}();
"use strict";!function(){$(function(){$.each($(".products-cookies__items"),function(){new i($(this))}),$.each($(".shop"),function(){new n($(this))})});var i=function(i){var n,t=this,o=i,c=$(window),s=!1,e=function(){c.on({resize:function(){c.width()<768?s||(u(),s=!0):s&&(h(),s=!1)}})},u=function(){n=o.find(".slick-container").slick({dots:!1})},h=function(){n.slick("unslick")},f=function(){o[0].obj=t,e(),c.width()<768&&(s||(u(),s=!0))};f()},n=function(i){var n=this,t=i,o=$(window),c=$(".site__header"),s=0,e=function(){o.on({load:function(){s=o.width(),h()},resize:function(){s!=o.width()&&(s=o.width()+1,h())}})},u=function(){t[0].obj=n,e()},h=function(){var i=o.height();t.css({"min-height":i-c.innerHeight()-parseInt(t.css("padding-bottom"))-parseInt(t.css("padding-top"))-$(".site__main-title").outerHeight(!0)})};u()}}();
!function(){$(function(){$(".popup").each(function(){new o($(this))})});var o=function(o){var n,t=this,i=40,p=$(".popup__open"),e=o,c=e.find(".popup__close, .popup__cancel"),s=e.find(".popup__wrap"),u=e.find(".popup__content"),d=$("html"),a=$(window),h=setTimeout(function(){},1),f=function(){a.height()-2*i-s.height()>0?s.css({top:(a.height()-2*i-s.height())/2}):s.css({top:0})},r=function(){var o,n=document.createElement("div");return n.className="popup__scrollbar-measure",document.body.appendChild(n),o=n.offsetWidth-n.clientWidth,document.body.removeChild(n),o},l=function(){e.css({overflowY:"hidden"}),d.css({overflowY:"auto",paddingRight:0}),e.removeClass("popup_opened"),e.addClass("popup_hide"),h=setTimeout(function(){e.css({overflowY:"auto"}),e.removeClass("popup_hide")},300)},_=function(){e[0].obj=t,v()},v=function(){a.on({load:function(){n=a.width()},resize:function(){f(),a.width()>=1024&&n!=a.width()&&(n=a.width()+1,l())}}),p.on({click:function(){return $(this).hasClass("cookies-info_btn")?a.width()<1024?(w($(this).attr("data-popup")),!1):void 0:(w($(this).attr("data-popup")),!1)}}),s.on({click:function(o){o.stopPropagation()}}),e.on({click:function(){return l(),!1}}),c.on({click:function(){return l(),!1}})},w=function(o){m(o),d.css({overflowY:"hidden",paddingRight:r()}),e.addClass("popup_opened"),f()},m=function(o){var n=u.filter(".popup__"+o);u.css({display:"none"}),n.css({display:"block"})};_()}}();
!function(){$(function(){$("select").each(function(){new e({obj:$(this),optionType:1,showType:2})})});var e=function(e){var t,n,i=this,o=e.obj,s=e.optionType||0,c=e.showType||0,a=e.visible||5,l=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),p=$('<span class="websters-select__item"></span>'),d=$('<div class="websters-select"></div>'),r=$(window),f=($("body"),!1),u=function(){var e="";o.css({opacity:0}),o.wrap(d),d=o.parent(),d.append('<div class="websters-select__arrow"></div>'),o.before(p),o.find("option").each(function(){var t=$(this);"selected"==t.attr("selected")&&(e=t.text())}),""==e&&(e=o.find("option").eq(0).text()),p.text(e)},h=function(){f=!1,c?1==c?t.stop(!0,!1).slideUp(300,function(){t.remove()}):2==c&&t.stop(!0,!1).fadeOut(300,function(){t.remove()}):t.css({display:"none"}),d.removeClass("websters-select_opened")},v=function(){o[0].obj=i,u(),w(),b()},b=function(){o.on("change",function(){p.text($(this).find("option:selected").text())}),1!=s||l||(d.on({click:function(e){e.stopPropagation(),f?h():y()}}),r.on({click:function(){f&&h()}}))},w=function(){!s||l?_():1==s&&g()},g=function(){d.addClass("websters-select_custom")},_=function(){d.addClass("websters-select_mobile")},y=function(){var e=$("select"),i=$("<ul></ul>"),s=(r.scrollTop(),d.offset(),0),l=o.find("option:selected").index(),p=Math.round(1e3*Math.random());e.each(function(){this!==o[0]&&this.obj.checkOpened()&&this.obj.close()}),f&&t.remove(),f=!0,t=$('<div class="websters-select__popup" id="websters-select__popup'+p+'"></div>'),o.find("option").each(function(e){var t=$(this);e==l?i.append('<li class="active">'+t.text()+"</li>"):i.append("<li>"+t.text()+"</li>")}),t.append(i),d.append(t),d.addClass("websters-select_opened"),s=t.outerHeight(),s>t.find("li").eq(0).outerHeight()*a&&(t.height(t.find("li").eq(0).outerHeight()*a),n=t.perfectScrollbar()),1==c?(t.css({display:"none"}),t.slideDown(300)):2==c&&(t.css({opacity:.1}),t.animate({opacity:1},300)),t.find("li").on({click:function(e){var t=$(this).index();e.stopPropagation(),o.val(o.find("option").eq(t).attr("value")),o.trigger("change"),h()}})};i.checkOpened=function(){return f},i.close=function(){h()},v()}}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5tYWluLmpzIiwianF1ZXJ5Lmhlcm8uanMiLCJqcXVlcnkub3VyLWNvb2tpZXMtc2xpZGVyLmpzIiwianF1ZXJ5LnJlYWwtc3R1ZmYuanMiLCJqcXVlcnkuaW5mby1jb29raWVzLXBvcHVwLmpzIiwianF1ZXJ5LnByb2R1Y3RzLWNvb2tpZXMtc2xpZGVyLmpzIiwianF1ZXJ5LnBvcHVwLmpzIiwianF1ZXJ5LndlYnN0ZXJzLXNlbGVjdC5qcyJdLCJuYW1lcyI6WyIkIiwiUHJlbG9hZGVyIiwiZWFjaCIsIk1lbnUiLCJ0aGlzIiwiU2Nyb2xsUGFuZWwiLCJTbGlkZXMiLCJvYmoiLCJfc2VsZiIsIl93aW5kb3ciLCJ3aW5kb3ciLCJfcHJlbG9hZGVyIiwiX2JvZHkiLCJfYWRkRXZlbnRzIiwib24iLCJsb2FkIiwiX3Nob3dTaXRlIiwiX2luaXQiLCJwcmVsb2FkZXIiLCJhZGRDbGFzcyIsInNldFRpbWVvdXQiLCJyZW1vdmUiLCJfb2JqIiwiX2h0bWwiLCJfbWVudSIsImZpbmQiLCJfYWN0aW9uIiwiX2FjdGlvbjIiLCJfZmxhZ0hpZGUiLCJsYXN0U2Nyb2xsVG9wIiwiX3Nob3dNZW51QnRuIiwiX2dsb2JhbFdpZHRoIiwid2lkdGgiLCJyZXNpemUiLCJzY3JvbGxUb3AiLCJfY2xvc2VNZW51Iiwic2Nyb2xsIiwiaW5uZXJIZWlnaHQiLCJyZW1vdmVDbGFzcyIsImhhc0NsYXNzIiwiRE9NTW91c2VTY3JvbGwiLCJlIiwiZGVsdGEiLCJvcmlnaW5hbEV2ZW50IiwiZGV0YWlsIiwiZGlyZWN0aW9uIiwiX2NoZWNrU2Nyb2xsIiwibW91c2V3aGVlbCIsIndoZWVsRGVsdGEiLCJldmVudCIsInN0IiwiY2xpY2siLCJfb3Blbk1lbnUiLCJlbGVtIiwiY3NzIiwib3ZlcmZsb3dZIiwiX2xpbmtzIiwiX2RvbSIsIl9oZWFkZXIiLCJfY2hhbmdlQWN0aXZlIiwiY3VySXRlbSIsIm5ld0NsYXNzIiwiYXR0ciIsIm5leHRJdGVtVG9wIiwib2Zmc2V0IiwidG9wIiwic3RvcCIsImFuaW1hdGUiLCJpdGVtIiwiaSIsImxlbmd0aCIsImN1ciIsIml0ZW1DdXIiLCJvdXRlckhlaWdodCIsIml0ZW1IZWlnaHQiLCJjdXJDbGFzcyIsInNwbGl0IiwiY3VyTGluayIsImZpbHRlciIsImN1clNjcm9sbCIsIndpbmRvd0giLCJoZWlnaHQiLCJ0b3BQb3MiLCJ0b3BJbldpbmRvdyIsInZpc2libGVQZXJjZW50Iiwic2xpZGVzIiwiSGVybyIsIl9zbGlja1NsaWRlciIsIl9idG5Eb3duIiwiX3NldEhlaWdodCIsIl9pbml0U2xpY2siLCJzbGljayIsImRvdHMiLCJhdXRvcGxheSIsImF1dG9wbGF5U3BlZWQiLCJhcnJvd3MiLCJPdXJDb29raWVzU2xpZGVyIiwiUmVhbFN0dWZmQnRuU2hvdyIsIlJlYWxTdHVmZkluZ3JlZGllbnRzU2hvdyIsIl9pbmdyZWRpZW50c0xpc3QiLCJfc2hvd01vcmVCdG4iLCJfY2xvc2VMaXN0IiwiZGF0YSIsImN1ckl0ZW1UZXh0T3BlbiIsImN1ckl0ZW1UZXh0Q2xvc2UiLCJfb3Blbkxpc3QiLCJ0ZXh0IiwiX3N0ZXAxIiwiX3N0ZXAzIiwiX3N0ZXA0IiwiX3N0ZXA1IiwiX2luZ3JlZGllbnRzQ29udGVudCIsIl9pbmdyZWRpZW50c0J0blNob3ciLCJuZXh0Q29udGVudCIsIm5leHQiLCJwYXJlbnQiLCJfY2xvc2VDb250ZW50IiwiX29wZW5Db250ZW50IiwiX3NldFBvcyIsImRvY3VtZW50Iiwic3RvcFByb3BhZ2F0aW9uIiwiY2FuY2VsQnViYmxlIiwic2xpZGUiLCJfaW1nMiIsIl9pbWczIiwiX2ltZzQiLCJfaW1nNSIsIl9pbWc2IiwiX2ltZzciLCJwYWdlWCIsImNsaWVudFgiLCJwYWdlWSIsImNsaWVudFkiLCJoYWxmV2lkdGgiLCJoYWxmSGVpZ2h0IiwicGVyY2VudEZyb21DZW50ZXJYIiwicGVyY2VudEZyb21DZW50ZXJZIiwib3V0ZXJXaWR0aCIsIl9tb3ZlVG9wIiwiX21vdmVCb3R0b20iLCJsZWZ0IiwiaW5uZXJXaWR0aCIsInhQZXJjZW50IiwieVBlcmNlbnQiLCJzdGVwIiwiaW1hZ2UiLCItd2Via2l0LXRyYW5zZm9ybSIsInRyYW5zZm9ybSIsIkluZm9Db29raWVzUG9wdXAiLCJfcG9wdXAiLCJjaXJJdGVtIiwidGl0bGUiLCJjb250ZW50IiwiaHRtbCIsIlByb2R1Y3RzQ29va2llc1NsaWRlciIsIlNob3BIZWlnaHQiLCJfc2xpY2tJbml0IiwiX2Rlc3Ryb3lTbGljayIsIm1pbi1oZWlnaHQiLCJwYXJzZUludCIsIlBvcHVwIiwiX3BvcHVwUGFkZGluZyIsIl9idG5TaG93IiwiX2J0bkNsb3NlIiwiX3dyYXAiLCJfY29udGVudHMiLCJfc2Nyb2xsQ29udGVpbmVyIiwiX3RpbWVyIiwiX2NlbnRlcldyYXAiLCJfZ2V0U2Nyb2xsV2lkdGgiLCJzY3JvbGxCYXJXaWR0aCIsInNjcm9sbERpdiIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJvZmZzZXRXaWR0aCIsImNsaWVudFdpZHRoIiwicmVtb3ZlQ2hpbGQiLCJfaGlkZSIsInBhZGRpbmdSaWdodCIsIl9vbkV2ZW50cyIsIl9zaG93IiwiX3NldFBvcHVwQ29udGVudCIsImN1ckNvbnRlbnQiLCJkaXNwbGF5IiwiV2Vic3RlcnNTZWxlY3QiLCJvcHRpb25UeXBlIiwic2hvd1R5cGUiLCJwYXJhbXMiLCJfc2Nyb2xsIiwiX29wdGlvblR5cGUiLCJfc2hvd1R5cGUiLCJfdmlzaWJsZSIsInZpc2libGUiLCJfZGV2aWNlIiwidGVzdCIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsIl90ZXh0IiwiX29wZW5lZCIsIl9hZGRXcmFwIiwiY3VyVGV4dCIsIm9wYWNpdHkiLCJ3cmFwIiwiYXBwZW5kIiwiYmVmb3JlIiwiZXEiLCJfaGlkZVBvcHVwIiwic2xpZGVVcCIsImZhZGVPdXQiLCJfY29uc3RydWN0b3IiLCJfc2VsZWN0Vmlld1R5cGUiLCJfc2hvd1BvcHVwIiwiX3NldE1vYmlsZVZpZXciLCJfc2V0Q3VzdG9tMSIsInNlbGVjdHMiLCJsaXN0IiwibWF4SGVpZ2h0IiwiY3VySW5kZXgiLCJpbmRleCIsImlkIiwiTWF0aCIsInJvdW5kIiwicmFuZG9tIiwiY2hlY2tPcGVuZWQiLCJjbG9zZSIsInBlcmZlY3RTY3JvbGxiYXIiLCJzbGlkZURvd24iLCJ2YWwiLCJ0cmlnZ2VyIl0sIm1hcHBpbmdzIjoiQUFBQSxjQUNBLFdBRUlBLEVBQUcsV0FFQyxHQUFJQyxHQUFXRCxFQUFFLGVBRWpCQSxFQUFFRSxLQUFNRixFQUFHLGlCQUFtQixXQUUxQixHQUFJRyxHQUFPSCxFQUFHSSxTQUlsQkosRUFBRUUsS0FBTUYsRUFBRSwyQkFBNEIsV0FFbEMsR0FBSUssR0FBYUwsRUFBRUksU0FJdkJKLEVBQUVFLEtBQU1GLEVBQUUsV0FBWSxXQUVsQixHQUFJTSxHQUFRTixFQUFFSSxVQU10QixJQUFJSCxHQUFZLFNBQVVNLEdBR3RCLEdBQUlDLEdBQVFKLEtBQ1JLLEVBQVVULEVBQUdVLFFBQ2JDLEVBQWFKLEVBQ2JLLEVBQVFaLEVBQUUsUUFHVmEsRUFBYSxXQUVUSixFQUFRSyxJQUNKQyxLQUFNLFdBRUZDLFFBTVpDLEVBQVEsV0FFSkwsRUFBTSxHQUFHTSxVQUFZVixFQUNyQkssS0FHSkcsRUFBWSxXQUVSTCxFQUFXUSxTQUFVLG9CQUVyQkMsV0FBVyxXQUNQVCxFQUFXVSxTQUNYckIsRUFBRSxTQUFTbUIsU0FBVSxpQkFFdkIsS0FRVkYsTUFHQWQsRUFBTyxTQUFVSSxHQUdqQixHQUFJQyxHQUFRSixLQUNSa0IsRUFBT2YsRUFDUEUsRUFBVVQsRUFBRVUsUUFDWmEsRUFBUXZCLEVBQUUsUUFDVndCLEVBQVFGLEVBQUtHLEtBQUssZUFFbEJDLEdBRFcxQixFQUFFLG1CQUNILEdBQ1YyQixHQUFXLEVBQ1hDLEdBQVksRUFDWkMsRUFBZ0IsRUFDaEJDLEVBQWVSLEVBQUtHLEtBQUssbUJBQ3pCTSxFQUFlLEVBR2ZsQixFQUFhLFdBRVRKLEVBQVFLLElBQ0pDLEtBQU0sV0FFRmdCLEVBQWV0QixFQUFRdUIsU0FHM0JDLE9BQVEsV0FFQUYsR0FBZ0J0QixF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LEtBQU0sVUFBV3NMLEdBQUlhLEdBQVE5SixLQUFNLFVBQ2xEeEMsRUFBS2dOLFFBQVMsVUFDZHRCLE9BU2hCeE0sR0FBTXlOLFlBQWMsV0FDaEIsTUFBT3pCLElBRVhoTSxFQUFNME4sTUFBUSxXQUNabEIsS0FJRkciLCJmaWxlIjoiaW5kZXgubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4oIGZ1bmN0aW9uKCl7XG5cbiAgICAkKCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgbmV3IFByZWxvYWRlciggJCgnLnByZWxvYWRlcicpICk7XG5cbiAgICAgICAgJC5lYWNoKCAkKCAnLnNpdGVfX2hlYWRlcicgKSwgZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgIG5ldyBNZW51ICggJCggdGhpcyApICk7XG5cbiAgICAgICAgfSApO1xuXG4gICAgICAgICQuZWFjaCggJCgnLnNpdGVfX21lbnUtbmF2X2FuY2hvcnMnKSwgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBuZXcgU2Nyb2xsUGFuZWwoICQodGhpcykgKTtcblxuICAgICAgICB9ICk7XG5cbiAgICAgICAgJC5lYWNoKCAkKCcuc2xpZGVzJyksIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgbmV3IFNsaWRlcyggJCh0aGlzKSApO1xuXG4gICAgICAgIH0gKTtcblxuICAgIH0gKTtcblxuICAgIHZhciBQcmVsb2FkZXIgPSBmdW5jdGlvbiAob2JqKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKCB3aW5kb3cgKSxcbiAgICAgICAgICAgIF9wcmVsb2FkZXIgPSBvYmosXG4gICAgICAgICAgICBfYm9keSA9ICQoJ2JvZHknKTtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF93aW5kb3cub24oIHtcbiAgICAgICAgICAgICAgICAgICAgbG9hZDogZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX3Nob3dTaXRlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX2JvZHlbMF0ucHJlbG9hZGVyID0gX3NlbGY7XG4gICAgICAgICAgICAgICAgX2FkZEV2ZW50cygpO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3Nob3dTaXRlID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBfcHJlbG9hZGVyLmFkZENsYXNzKCAncHJlbG9hZGVyX2xvYWRlZCcgKTtcblxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgX3ByZWxvYWRlci5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgJCgnLnNpdGUnKS5hZGRDbGFzcyggJ3NpdGVfX2xvYWRlZCcgKTtcblxuICAgICAgICAgICAgICAgIH0sNTAwKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgLy9wdWJsaWMgcHJvcGVydGllc1xuXG4gICAgICAgIC8vcHVibGljIG1ldGhvZHNcblxuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBNZW51ID0gZnVuY3Rpb24oIG9iaiApIHtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKHdpbmRvdyksXG4gICAgICAgICAgICBfaHRtbCA9ICQoJ2h0bWwnKSxcbiAgICAgICAgICAgIF9tZW51ID0gX29iai5maW5kKCcuc2l0ZV9fbWVudScpLFxuICAgICAgICAgICAgX2NvbnRlbnQgPSAkKCcuc2l0ZV9fY29udGVudCcpLFxuICAgICAgICAgICAgX2FjdGlvbiA9IGZhbHNlLFxuICAgICAgICAgICAgX2FjdGlvbjIgPSBmYWxzZSxcbiAgICAgICAgICAgIF9mbGFnSGlkZSA9IHRydWUsXG4gICAgICAgICAgICBsYXN0U2Nyb2xsVG9wID0gMCxcbiAgICAgICAgICAgIF9zaG93TWVudUJ0biA9IF9vYmouZmluZCgnLnNpdGVfX21lbnUtYnRuJyksXG4gICAgICAgICAgICBfZ2xvYmFsV2lkdGggPSAwO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfYWRkRXZlbnRzID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBfd2luZG93Lm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGxvYWQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2dsb2JhbFdpZHRoID0gX3dpbmRvdy53aWR0aCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZTogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX2dsb2JhbFdpZHRoICE9IF93aW5kb3cud2lkdGgoKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9nbG9iYWxXaWR0aCA9IF93aW5kb3cud2lkdGgoKSArIDE7XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPj0gMTAyNCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbWVudS5zY3JvbGxUb3AoMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jbG9zZU1lbnUoIF9zaG93TWVudUJ0biApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgJ3Njcm9sbCc6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2FjdGlvbiA9IF93aW5kb3cuc2Nyb2xsVG9wKCkgPj0gX29iai5pbm5lckhlaWdodCgpICogMjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cuc2Nyb2xsVG9wKCkgPj0gX29iai5pbm5lckhlaWdodCgpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF9mbGFnSGlkZSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZmxhZ0hpZGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX29iai5hZGRDbGFzcyggJ3NpdGVfX2hlYWRlcl9oaWRlJyApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZmxhZ0hpZGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vYmoucmVtb3ZlQ2xhc3MoICdzaXRlX19oZWFkZXJfaGlkZScgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfYWN0aW9uICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF9vYmouaGFzQ2xhc3MoICdzaXRlX19oZWFkZXJfaGlkZScgKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX29iai5hZGRDbGFzcyggJ3NpdGVfX2hlYWRlcl9maXhlZCcgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vYmoucmVtb3ZlQ2xhc3MoICdzaXRlX19oZWFkZXJfaGlkZScgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAxMDAgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCBfd2luZG93LnNjcm9sbFRvcCgpIDw9IF9vYmouaW5uZXJIZWlnaHQoKSAqIDMgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb2JqLnJlbW92ZUNsYXNzKCAnc2l0ZV9faGVhZGVyX2ZpeGVkJyApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgJ0RPTU1vdXNlU2Nyb2xsJzogZnVuY3Rpb24gKCBlICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGVsdGEgPSBlLm9yaWdpbmFsRXZlbnQuZGV0YWlsO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGRlbHRhICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpcmVjdGlvbiA9ICggZGVsdGEgPiAwICkgPyAxIDogLTE7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2hlY2tTY3JvbGwoIGRpcmVjdGlvbiApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggZGlyZWN0aW9uIDwgMCAgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYWN0aW9uMiA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYWN0aW9uMiA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMzAwIClcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgJ21vdXNld2hlZWwnOiBmdW5jdGlvbiAoIGUgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkZWx0YSA9IGUub3JpZ2luYWxFdmVudC53aGVlbERlbHRhO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGRlbHRhICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpcmVjdGlvbiA9ICggZGVsdGEgPiAwICkgPyAtMSA6IDE7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2hlY2tTY3JvbGwoIGRpcmVjdGlvbiApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggZGlyZWN0aW9uIDwgMCAgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYWN0aW9uMiA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYWN0aW9uMiA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMzAwIClcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICQod2luZG93KS5zY3JvbGwoZnVuY3Rpb24oZXZlbnQpe1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBzdCA9ICQodGhpcykuc2Nyb2xsVG9wKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0ID4gbGFzdFNjcm9sbFRvcCl7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9jaGVja1Njcm9sbCggMSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGlyZWN0aW9uID0gMVxuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9jaGVja1Njcm9sbCggLTEgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpcmVjdGlvbiA9IC0xXG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsYXN0U2Nyb2xsVG9wID0gc3Q7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCBkaXJlY3Rpb24gPCAwICApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2FjdGlvbjIgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2FjdGlvbjIgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMzAwIClcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBfc2hvd01lbnVCdG4ub24oIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggJCggdGhpcyApLmhhc0NsYXNzKCAnb3BlbmVkJyApICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Nsb3NlTWVudSggJCggdGhpcyApIClcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX29wZW5NZW51KCAkKCB0aGlzICkgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9jaGVja1Njcm9sbCA9IGZ1bmN0aW9uKCBkaXJlY3Rpb24gKSB7XG5cbiAgICAgICAgICAgICAgICBpZiggZGlyZWN0aW9uID4gMCAmJiAhX29iai5oYXNDbGFzcyggJ3NpdGVfX2hlYWRlcl9oaWRkZW4nICkgJiYgIV9zaG93TWVudUJ0bi5oYXNDbGFzcyggJ29wZW5lZCcgKSAmJiBfYWN0aW9uICYmICFfYWN0aW9uMiApe1xuXG4gICAgICAgICAgICAgICAgICAgIF9vYmouYWRkQ2xhc3MoICdzaXRlX19oZWFkZXJfaGlkZGVuJyApO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYoIGRpcmVjdGlvbiA8IDAgJiYgX29iai5oYXNDbGFzcyggJ3NpdGVfX2hlYWRlcl9oaWRkZW4nICkgJiYgIV9zaG93TWVudUJ0bi5oYXNDbGFzcyggJ29wZW5lZCcgKSAgJiYgX2FjdGlvbiAmJiBfYWN0aW9uMiApe1xuXG4gICAgICAgICAgICAgICAgICAgIF9vYmoucmVtb3ZlQ2xhc3MoJ3NpdGVfX2hlYWRlcl9oaWRkZW4nKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9jbG9zZU1lbnUgPSBmdW5jdGlvbiggZWxlbSApIHtcblxuICAgICAgICAgICAgICAgIF9odG1sLmNzcygge1xuICAgICAgICAgICAgICAgICAgICBvdmVyZmxvd1k6ICdhdXRvJ1xuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIGVsZW0ucmVtb3ZlQ2xhc3MoICdvcGVuZWQnICk7XG4gICAgICAgICAgICAgICAgX29iai5yZW1vdmVDbGFzcyggJ29wZW5lZC1tZW51JyApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBfb2JqWyAwIF0ub2JqID0gX3NlbGY7XG4gICAgICAgICAgICAgICAgX2FkZEV2ZW50cygpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9vcGVuTWVudSA9IGZ1bmN0aW9uKCBlbGVtICkgIHtcblxuICAgICAgICAgICAgICAgIGVsZW0uYWRkQ2xhc3MoICdvcGVuZWQnICk7XG4gICAgICAgICAgICAgICAgX29iai5hZGRDbGFzcyggJ29wZW5lZC1tZW51JyApO1xuXG4gICAgICAgICAgICAgICAgX2h0bWwuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgIG92ZXJmbG93WTogJ2hpZGRlbidcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG4gICAgdmFyIFNjcm9sbFBhbmVsID0gZnVuY3Rpb24gKCBvYmogKSB7XG5cbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfbGlua3MgPSBfb2JqLmZpbmQoJy5zaXRlX19tZW51LWxpbmsnKSxcbiAgICAgICAgICAgIF9odG1sID0gJCgnaHRtbCcpLFxuICAgICAgICAgICAgX3dpbmRvdyA9ICQod2luZG93KSxcbiAgICAgICAgICAgIF9kb20gPSAgJCggJ2h0bWwsIGJvZHknKSxcbiAgICAgICAgICAgIF9oZWFkZXIgPSAkKCcuc2l0ZV9faGVhZGVyJyksXG4gICAgICAgICAgICBfcG9wdXAgPSAkKCcucG9wdXBfX2Nvb2tpZXMtaW5mbycpO1xuXG4gICAgICAgIHZhciBfYWRkRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuICAgICAgICAgICAgICAgICAgICByZXNpemU6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2NoYW5nZUFjdGl2ZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICdzY3JvbGwnOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9jaGFuZ2VBY3RpdmUoKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgX2xpbmtzLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckl0ZW0gPSAkKCB0aGlzICksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q2xhc3MgPSBjdXJJdGVtLmF0dHIoJ2RhdGEtaHJlZicpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRJdGVtVG9wID0gJCggJy4nICsgbmV3Q2xhc3MgICkub2Zmc2V0KCkudG9wIC0gX2hlYWRlci5pbm5lckhlaWdodCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfbGlua3MucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VySXRlbS5hZGRDbGFzcygnYWN0aXZlJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPj0gMTAyNCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRJdGVtVG9wID0gJCggJy4nICsgbmV3Q2xhc3MgICkub2Zmc2V0KCkudG9wIC0gOTE7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0SXRlbVRvcCA9ICQoICcuJyArIG5ld0NsYXNzICApLm9mZnNldCgpLnRvcCAtIDY0O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBfZG9tLnN0b3AoIHRydWUsIGZhbHNlICk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfZG9tLmFuaW1hdGUoIHsgc2Nyb2xsVG9wOiBuZXh0SXRlbVRvcCAgfSwgMzAwICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9odG1sLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJmbG93WTogJ2F1dG8nXG4gICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9oZWFkZXIuZmluZCgnLnNpdGVfX21lbnUtYnRuJykucmVtb3ZlQ2xhc3MoICdvcGVuZWQnICk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaGVhZGVyLnJlbW92ZUNsYXNzKCAnb3BlbmVkLW1lbnUnICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2NoYW5nZUFjdGl2ZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIHZhciBzY3JvbGxUb3AgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCksXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0gPSAkKCdib2R5JykuZmluZCgnW2RhdGEtc2Nyb2xsPVwic2Nyb2xsXCJdJyksXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1Qb3MgPSBpdGVtLm9mZnNldCgpLnRvcDtcblxuICAgICAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBpdGVtLmxlbmd0aDsgaSsrICkge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXIgPSAkKGl0ZW1baV0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbUN1ciA9ICQoaXRlbVtpXSkub2Zmc2V0KCkudG9wIC0gX2hlYWRlci5vdXRlckhlaWdodCh0cnVlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1IZWlnaHQgPSAkKGl0ZW1baV0pLm91dGVySGVpZ2h0KHRydWUpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKCBzY3JvbGxUb3AgPiBpdGVtQ3VyICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VyQ2xhc3MgPSBjdXIuYXR0cignY2xhc3MnKS5zcGxpdCgnICcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ckxpbmsgPSBfbGlua3MuZmlsdGVyKFwiW2RhdGEtaHJlZj1cIitjdXJDbGFzc1swXStcIl1cIik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9saW5rcy5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJMaW5rLmFkZENsYXNzKCdhY3RpdmUnKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmKCBzY3JvbGxUb3AgPiAoIGl0ZW1DdXIgKyBpdGVtSGVpZ2h0ICkgKXtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2xpbmtzLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgX29ialswXS5vYmogPSBfc2VsZjtcbiAgICAgICAgICAgICAgICBfYWRkRXZlbnRzKCk7XG4gICAgICAgICAgICAgICAgX2NoYW5nZUFjdGl2ZSgpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbiAgICB2YXIgU2xpZGVzID0gZnVuY3Rpb24gKG9iaikge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX3dpbmRvdyA9ICQod2luZG93KTtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfd2luZG93Lm9uKHtcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfY2hlY2tTY3JvbGwoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9jaGVja1Njcm9sbCA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgdmFyIGN1clNjcm9sbCA9IF93aW5kb3cuc2Nyb2xsVG9wKCksXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvd0ggPSBfd2luZG93LmhlaWdodCgpLFxuICAgICAgICAgICAgICAgICAgICB0b3BQb3MgPSBfb2JqLm9mZnNldCgpLnRvcCxcbiAgICAgICAgICAgICAgICAgICAgdG9wSW5XaW5kb3cgPSB0b3BQb3MtY3VyU2Nyb2xsLFxuICAgICAgICAgICAgICAgICAgICB2aXNpYmxlUGVyY2VudCA9IDEtKHRvcEluV2luZG93L3dpbmRvd0gpO1xuXG4gICAgICAgICAgICAgICAgaWYoIHZpc2libGVQZXJjZW50ID4gLjUgKXtcbiAgICAgICAgICAgICAgICAgICAgaWYoICFfb2JqLmhhc0NsYXNzKCdzbGlkZXNfYWN0aXZlJykgKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9vYmouYWRkQ2xhc3MoJ3NsaWRlc19hY3RpdmUnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF9vYmpbMF0uc2xpZGVzID0gX3NlbGY7XG4gICAgICAgICAgICAgICAgX2FkZEV2ZW50cygpO1xuICAgICAgICAgICAgICAgIF9jaGVja1Njcm9sbCgpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAvL3B1YmxpYyBwcm9wZXJ0aWVzXG5cbiAgICAgICAgLy9wdWJsaWMgbWV0aG9kc1xuXG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG59ICkoKTsiLCJcInVzZSBzdHJpY3RcIjtcbiggZnVuY3Rpb24oKXtcblxuICAgICQoIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAkLmVhY2goICQoICcuaGVybycgKSwgZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgIG5ldyBIZXJvICggJCggdGhpcyApICk7XG5cbiAgICAgICAgfSApO1xuXG4gICAgfSApO1xuXG4gICAgdmFyIEhlcm8gPSBmdW5jdGlvbiggb2JqICkge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX3dpbmRvdyA9ICQod2luZG93KSxcbiAgICAgICAgICAgIF9oZWFkZXIgPSAkKCcuc2l0ZV9faGVhZGVyJyksXG4gICAgICAgICAgICBfZ2xvYmFsV2lkdGggPSAwLFxuICAgICAgICAgICAgX3NsaWNrU2xpZGVyID0gbnVsbCxcbiAgICAgICAgICAgIF9kb20gPSAgJCggJ2h0bWwsIGJvZHknKSxcbiAgICAgICAgICAgIF9idG5Eb3duID0gX29iai5maW5kKCcuaGVyb19fZG93bicpO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfYWRkRXZlbnRzID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBfd2luZG93Lm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGxvYWQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2dsb2JhbFdpZHRoID0gX3dpbmRvdy53aWR0aCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZTogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX2dsb2JhbFdpZHRoICE9IF93aW5kb3cud2lkdGgoKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9nbG9iYWxXaWR0aCA9IF93aW5kb3cud2lkdGgoKSArIDE7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2V0SGVpZ2h0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgIF9idG5Eb3duLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPj0gMTAyNCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9kb20uc3RvcCggdHJ1ZSwgZmFsc2UgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZG9tLmFuaW1hdGUoIHsgc2Nyb2xsVG9wOiAkKCcub3VyLWNvb2tpZXMnKS5vZmZzZXQoKS50b3AgLSA5MSAgfSwgMzAwICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZG9tLnN0b3AoIHRydWUsIGZhbHNlICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2RvbS5hbmltYXRlKCB7IHNjcm9sbFRvcDogJCgnLm91ci1jb29raWVzJykub2Zmc2V0KCkudG9wIC0gNjQgIH0sIDMwMCApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIF9vYmpbIDAgXS5vYmogPSBfc2VsZjtcbiAgICAgICAgICAgICAgICBfYWRkRXZlbnRzKCk7XG4gICAgICAgICAgICAgICAgX2luaXRTbGljaygpO1xuICAgICAgICAgICAgICAgIF9zZXRIZWlnaHQoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdFNsaWNrID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBfc2xpY2tTbGlkZXIgPSBfb2JqLmZpbmQoJy5zbGljay1jb250YWluZXInKS5zbGljaygge1xuICAgICAgICAgICAgICAgICAgICBkb3RzOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBhdXRvcGxheTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgYXV0b3BsYXlTcGVlZDogNTAwMCxcbiAgICAgICAgICAgICAgICAgICAgYXJyb3dzOiBmYWxzZVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9zZXRIZWlnaHQgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIHZhciBoZWlnaHQgPSBfd2luZG93LmhlaWdodCgpO1xuXG4gICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA+PSAxMDI0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgIF9vYmouZmluZCgnLnNsaWNrLWxpc3QnKS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0IC0gX2hlYWRlci5pbm5lckhlaWdodCgpXG4gICAgICAgICAgICAgICAgICAgIH0gKTtcblxuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICBfb2JqLmZpbmQoJy5zbGljay1saXN0JykuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGhlaWdodFxuICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG59ICkoKTsiLCJcInVzZSBzdHJpY3RcIjtcbiggZnVuY3Rpb24oKXtcblxuICAgICQoIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAkLmVhY2goICQoICcub3VyLWNvb2tpZXMnICksIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICBuZXcgT3VyQ29va2llc1NsaWRlciAoICQoIHRoaXMgKSApO1xuXG4gICAgICAgIH0gKTtcblxuICAgIH0gKTtcblxuICAgIHZhciBPdXJDb29raWVzU2xpZGVyID0gZnVuY3Rpb24oIG9iaiApIHtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX29iaiA9IG9iajtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX2luaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBfb2JqWyAwIF0ub2JqID0gX3NlbGY7XG4gICAgICAgICAgICAgICAgX2luaXRTbGljaygpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0U2xpY2sgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIF9vYmouZmluZCgnLnNsaWNrLWNvbnRhaW5lcicpLnNsaWNrKCB7XG4gICAgICAgICAgICAgICAgICAgIGRvdHM6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGF1dG9wbGF5OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBhdXRvcGxheVNwZWVkOiA1MDAwXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxufSApKCk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG4oIGZ1bmN0aW9uKCl7XG5cbiAgICAkKCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgJC5lYWNoKCAkKCAnLnJlYWwtc3R1ZmYnICksIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICBuZXcgUmVhbFN0dWZmQnRuU2hvdyAoICQoIHRoaXMgKSApO1xuXG4gICAgICAgIH0gKTtcblxuICAgICAgICAkLmVhY2goICQoICcucmVhbC1zdHVmZl9fcHJvZHVjdHMnICksIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICBuZXcgUmVhbFN0dWZmSW5ncmVkaWVudHNTaG93ICggJCggdGhpcyApICk7XG5cbiAgICAgICAgfSApO1xuXG4gICAgfSApO1xuXG4gICAgdmFyIFJlYWxTdHVmZkJ0blNob3cgPSBmdW5jdGlvbiggb2JqICkge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX3dpbmRvdyA9ICQod2luZG93KSxcbiAgICAgICAgICAgIF9nbG9iYWxXaWR0aCA9IDAsXG4gICAgICAgICAgICBfaW5ncmVkaWVudHNMaXN0ID0gX29iai5maW5kKCcucmVhbC1zdHVmZl9faW5ncmVkaWVudHMtbGlzdCcpLFxuICAgICAgICAgICAgX2RvbSA9ICAkKCAnaHRtbCwgYm9keScpLFxuICAgICAgICAgICAgX3Nob3dNb3JlQnRuID0gX29iai5maW5kKCcuYnRuJyk7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9hZGRFdmVudHMgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIF93aW5kb3cub24oIHtcbiAgICAgICAgICAgICAgICAgICAgbG9hZDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfZ2xvYmFsV2lkdGggPSBfd2luZG93LndpZHRoKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcmVzaXplOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfZ2xvYmFsV2lkdGggIT0gX3dpbmRvdy53aWR0aCgpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2dsb2JhbFdpZHRoID0gX3dpbmRvdy53aWR0aCgpICsgMTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jbG9zZUxpc3QoIF9zaG93TW9yZUJ0biwgX3Nob3dNb3JlQnRuLmRhdGEoJ2Nsb3NlJykgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgX3Nob3dNb3JlQnRuLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckl0ZW0gPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ckl0ZW1UZXh0T3BlbiA9IGN1ckl0ZW0uZGF0YSgnb3BlbicpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ckl0ZW1UZXh0Q2xvc2UgPSBjdXJJdGVtLmRhdGEoJ2Nsb3NlJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBjdXJJdGVtLmhhc0NsYXNzKCdvcGVuZWQnKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jbG9zZUxpc3QoIGN1ckl0ZW0sY3VySXRlbVRleHRDbG9zZSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX29wZW5MaXN0KCBjdXJJdGVtLGN1ckl0ZW1UZXh0T3BlbiApXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfY2xvc2VMaXN0ID0gZnVuY3Rpb24oIGVsZW0sIHRleHQgKSB7XG5cbiAgICAgICAgICAgICAgICBlbGVtLnJlbW92ZUNsYXNzKCdvcGVuZWQnKTtcbiAgICAgICAgICAgICAgICBlbGVtLnRleHQodGV4dCk7XG4gICAgICAgICAgICAgICAgX2luZ3JlZGllbnRzTGlzdC5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAwXG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgIF9kb20uc3RvcCggdHJ1ZSwgZmFsc2UgKTtcbiAgICAgICAgICAgICAgICBfZG9tLmFuaW1hdGUoIHsgc2Nyb2xsVG9wOiAkKCcucmVhbC1zdHVmZicpLm9mZnNldCgpLnRvcCAtIDQwIC0gJCgnLnNpdGVfX2hlYWRlcicpLmlubmVySGVpZ2h0KCkgIH0sIDMwMCApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX29wZW5MaXN0ID0gZnVuY3Rpb24oIGVsZW0sIHRleHQgKSB7XG5cbiAgICAgICAgICAgICAgICBlbGVtLmFkZENsYXNzKCdvcGVuZWQnKTtcbiAgICAgICAgICAgICAgICBlbGVtLnRleHQodGV4dCk7XG4gICAgICAgICAgICAgICAgX2luZ3JlZGllbnRzTGlzdC5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBfaW5ncmVkaWVudHNMaXN0LmZpbmQoJz5kaXYnKS5pbm5lckhlaWdodCgpXG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgIF9kb20uc3RvcCggdHJ1ZSwgZmFsc2UgKTtcbiAgICAgICAgICAgICAgICBfZG9tLmFuaW1hdGUoIHsgc2Nyb2xsVG9wOiBfaW5ncmVkaWVudHNMaXN0Lm9mZnNldCgpLnRvcCAtIDQwIC0gJCgnLnNpdGVfX2hlYWRlcicpLmlubmVySGVpZ2h0KCkgIH0sIDMwMCApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBfb2JqWyAwIF0ub2JqID0gX3NlbGY7XG4gICAgICAgICAgICAgICAgX2FkZEV2ZW50cygpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbiAgICB2YXIgUmVhbFN0dWZmSW5ncmVkaWVudHNTaG93ID0gZnVuY3Rpb24oIG9iaiApIHtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF9oZWFkZXIgPSAkKCAnLnNpdGVfX2hlYWRlcicpLFxuICAgICAgICAgICAgX3N0ZXAxID0gMTUsXG4gICAgICAgICAgICBfc3RlcDIgPSAyLFxuICAgICAgICAgICAgX3N0ZXAzID0gNSxcbiAgICAgICAgICAgIF9zdGVwNCA9IDYsXG4gICAgICAgICAgICBfc3RlcDUgPSA3LFxuICAgICAgICAgICAgX3dpbmRvdyA9ICQod2luZG93KSxcbiAgICAgICAgICAgIF9nbG9iYWxXaWR0aCA9IDAsXG4gICAgICAgICAgICBfZG9tID0gICQoICdodG1sLCBib2R5JyksXG4gICAgICAgICAgICBfaW5ncmVkaWVudHNDb250ZW50ID0gX29iai5maW5kKCcucmVhbC1zdHVmZl9fZGVzY3JpcHRpb24tY29udGVudCcpLFxuICAgICAgICAgICAgX2luZ3JlZGllbnRzQnRuU2hvdyA9IF9vYmouZmluZCgnLnJlYWwtc3R1ZmZfX2Rlc2NyaXB0aW9uLWJ0bicpO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfYWRkRXZlbnRzID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBfaW5ncmVkaWVudHNCdG5TaG93Lm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA+PSAxMDI0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckl0ZW0gPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0Q29udGVudCA9IGN1ckl0ZW0ubmV4dCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQgPSBjdXJJdGVtLnBhcmVudCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIGN1ckl0ZW0uaGFzQ2xhc3MoJ29wZW5lZCcpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jbG9zZUNvbnRlbnQoY3VySXRlbSwgcGFyZW50LCBuZXh0Q29udGVudCk7XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX29wZW5Db250ZW50KGN1ckl0ZW0sIHBhcmVudCwgbmV4dENvbnRlbnQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cblxuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuICAgICAgICAgICAgICAgICAgICBsb2FkOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9nbG9iYWxXaWR0aCA9IF93aW5kb3cud2lkdGgoKTtcblxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICByZXNpemU6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA+PSAxMDI0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3NldFBvcygpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF9nbG9iYWxXaWR0aCAhPSBfd2luZG93LndpZHRoKCkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2dsb2JhbFdpZHRoID0gX3dpbmRvdy53aWR0aCgpICsgMTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2xvc2VDb250ZW50KCBfaW5ncmVkaWVudHNCdG5TaG93LCBfb2JqLCBfaW5ncmVkaWVudHNDb250ZW50ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKFxuICAgICAgICAgICAgICAgICAgICBcImNsaWNrXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiLnJlYWwtc3R1ZmZfX2Rlc2NyaXB0aW9uLWNvbnRlbnRcIixcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oIGV2ZW50ICl7XG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudCA9IGV2ZW50IHx8IHdpbmRvdy5ldmVudDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LnN0b3BQcm9wYWdhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5jYW5jZWxCdWJibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAkKGRvY3VtZW50KS5vbihcbiAgICAgICAgICAgICAgICAgICAgXCJjbGlja1wiLFxuICAgICAgICAgICAgICAgICAgICBcImJvZHlcIixcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2Nsb3NlQ29udGVudCggX2luZ3JlZGllbnRzQnRuU2hvdywgX29iaiwgX2luZ3JlZGllbnRzQ29udGVudCApO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLnJlYWwtc3R1ZmZfX2Rlc2NyaXB0aW9uJykucmVtb3ZlQ2xhc3MoJ29wZW5lZCcpO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKFxuICAgICAgICAgICAgICAgICAgICAnbW91c2Vtb3ZlJyxcbiAgICAgICAgICAgICAgICAgICAgJ2JvZHknLFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiggZSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZSA9IGUgfHwgd2luZG93LmV2ZW50O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2xpZGUgPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pbWcxID0gc2xpZGUuZmluZCgnLnJlYWwtc3R1ZmZfX3Byb2R1Y3RzLWltZycpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pbWcyID0gc2xpZGUuZmluZCgnLnJlYWwtc3R1ZmZfX2Rlc2NyaXB0aW9uXzE6bm90KC5vcGVuZWQpJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2ltZzMgPSBzbGlkZS5maW5kKCcucmVhbC1zdHVmZl9fZGVzY3JpcHRpb25fMjpub3QoLm9wZW5lZCknKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaW1nNCA9IHNsaWRlLmZpbmQoJy5yZWFsLXN0dWZmX19kZXNjcmlwdGlvbl8zOm5vdCgub3BlbmVkKScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pbWc1ID0gc2xpZGUuZmluZCgnLnJlYWwtc3R1ZmZfX2Rlc2NyaXB0aW9uXzQ6bm90KC5vcGVuZWQpJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2ltZzYgPSBzbGlkZS5maW5kKCcucmVhbC1zdHVmZl9fZGVzY3JpcHRpb25fNTpub3QoLm9wZW5lZCknKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaW1nNyA9IHNsaWRlLmZpbmQoJy5yZWFsLXN0dWZmX19kZXNjcmlwdGlvbl82Om5vdCgub3BlbmVkKScpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIF93aW5kb3cud2lkdGgoKSA+IDEwMjQgJiYgISggX2hlYWRlci5oYXNDbGFzcygnb3BlbmVkJykgKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYWdlWCA9IGUuY2xpZW50WCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZVkgPSBlLmNsaWVudFksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbGZXaWR0aCA9IF9vYmoud2lkdGgoKSAvIDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhbGZIZWlnaHQgPSBfb2JqLmhlaWdodCgpIC8gMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVyY2VudEZyb21DZW50ZXJYID0gKCBwYWdlWCAtIGhhbGZXaWR0aCApIC8gaGFsZldpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXJjZW50RnJvbUNlbnRlclkgPSAoIHBhZ2VZIC0gaGFsZkhlaWdodCApIC8gaGFsZkhlaWdodDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfd2luZG93Lm91dGVyV2lkdGgoKSA+IDEwMjQpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL19tb3ZlVG9wKCBwZXJjZW50RnJvbUNlbnRlclgsIHBlcmNlbnRGcm9tQ2VudGVyWSwgX3N0ZXAyLCBfaW1nMSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbW92ZVRvcChwZXJjZW50RnJvbUNlbnRlclgsIHBlcmNlbnRGcm9tQ2VudGVyWSwgX3N0ZXAzLCBfaW1nMik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9tb3ZlQm90dG9tKHBlcmNlbnRGcm9tQ2VudGVyWCwgcGVyY2VudEZyb21DZW50ZXJZLCBfc3RlcDQsIF9pbWczKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX21vdmVUb3AocGVyY2VudEZyb21DZW50ZXJYLCBwZXJjZW50RnJvbUNlbnRlclksIF9zdGVwNSwgX2ltZzQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbW92ZUJvdHRvbShwZXJjZW50RnJvbUNlbnRlclgsIHBlcmNlbnRGcm9tQ2VudGVyWSwgX3N0ZXAzLCBfaW1nNSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9tb3ZlQm90dG9tKHBlcmNlbnRGcm9tQ2VudGVyWCwgcGVyY2VudEZyb21DZW50ZXJZLCBfc3RlcDEsIF9pbWc2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX21vdmVCb3R0b20ocGVyY2VudEZyb21DZW50ZXJYLCBwZXJjZW50RnJvbUNlbnRlclksIF9zdGVwNSwgX2ltZzcpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfY2xvc2VDb250ZW50ID0gZnVuY3Rpb24oIGN1ckl0ZW0sIHBhcmVudCwgbmV4dENvbnRlbnQgKSB7XG5cbiAgICAgICAgICAgICAgICBjdXJJdGVtLnJlbW92ZUNsYXNzKCdvcGVuZWQnKTtcbiAgICAgICAgICAgICAgICBwYXJlbnQucmVtb3ZlQ2xhc3MoJ29wZW5lZCcpO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX29wZW5Db250ZW50ID0gZnVuY3Rpb24oIGN1ckl0ZW0sIHBhcmVudCwgbmV4dENvbnRlbnQgKSB7XG5cbiAgICAgICAgICAgICAgICBfaW5ncmVkaWVudHNCdG5TaG93LnJlbW92ZUNsYXNzKCdvcGVuZWQnKTtcbiAgICAgICAgICAgICAgICAkKCcucmVhbC1zdHVmZl9fZGVzY3JpcHRpb24nKS5yZW1vdmVDbGFzcygnb3BlbmVkJyk7XG5cbiAgICAgICAgICAgICAgICBjdXJJdGVtLmFkZENsYXNzKCdvcGVuZWQnKTtcbiAgICAgICAgICAgICAgICBwYXJlbnQuYWRkQ2xhc3MoJ29wZW5lZCcpO1xuXG4gICAgICAgICAgICAgICAgX2RvbS5zdG9wKCB0cnVlLCBmYWxzZSApO1xuICAgICAgICAgICAgICAgIF9kb20uYW5pbWF0ZSggeyBzY3JvbGxUb3A6IG5leHRDb250ZW50Lm9mZnNldCgpLnRvcCAtIDQwIC0gJCgnLnNpdGVfX2hlYWRlcicpLmlubmVySGVpZ2h0KCkgIH0sIDMwMCApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3NldFBvcyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgX2luZ3JlZGllbnRzQ29udGVudC5lYWNoKCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgY3VySXRlbSA9ICQodGhpcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoIGN1ckl0ZW0ub2Zmc2V0KCkubGVmdCArIGN1ckl0ZW0uaW5uZXJXaWR0aCgpID49IF93aW5kb3cud2lkdGgoKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY3VySXRlbS5hZGRDbGFzcygncmlnaHRfcG9zJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY3VySXRlbS5yZW1vdmVDbGFzcygncmlnaHRfcG9zJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmKCBjdXJJdGVtLm9mZnNldCgpLmxlZnQgPD0gMCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY3VySXRlbS5hZGRDbGFzcygnbGVmdF9wb3MnKTtcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJJdGVtLnJlbW92ZUNsYXNzKCdsZWZ0X3BvcycpO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9tb3ZlQm90dG9tID0gZnVuY3Rpb24oIHhQZXJjZW50LCB5UGVyY2VudCwgc3RlcCwgaW1hZ2UgKSB7XG5cbiAgICAgICAgICAgICAgICBpbWFnZS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgJy13ZWJraXQtdHJhbnNmb3JtJzogJ3RyYW5zbGF0ZSggJyArIC0oIHhQZXJjZW50ICogc3RlcCApICsgJ3B4LCcgKyAtKCB5UGVyY2VudCAqIHN0ZXAgKSArICdweCApJyxcbiAgICAgICAgICAgICAgICAgICAgJ3RyYW5zZm9ybSc6ICd0cmFuc2xhdGUoICcgKyAtKCB4UGVyY2VudCAqIHN0ZXAgKSArICdweCwgJyArIC0oIHlQZXJjZW50ICogc3RlcCApICsgJ3B4ICApJ1xuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9tb3ZlVG9wID0gZnVuY3Rpb24oIHhQZXJjZW50LCB5UGVyY2VudCwgc3RlcCwgaW1hZ2UgKSB7XG5cbiAgICAgICAgICAgICAgICBpbWFnZS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgJy13ZWJraXQtdHJhbnNmb3JtJzogJ3RyYW5zbGF0ZSggJyArICggeFBlcmNlbnQgKiBzdGVwICkgKyAncHggLCcgKyAoIHlQZXJjZW50ICogc3RlcCApICsgJ3B4ICApJyxcbiAgICAgICAgICAgICAgICAgICAgJ3RyYW5zZm9ybSc6ICd0cmFuc2xhdGUoICcgKyAoIHhQZXJjZW50ICogc3RlcCApICsgJ3B4ICwgJyArICggeVBlcmNlbnQgKiBzdGVwICkgKyAncHggICknXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBfb2JqWyAwIF0ub2JqID0gX3NlbGY7XG4gICAgICAgICAgICAgICAgX2FkZEV2ZW50cygpO1xuICAgICAgICAgICAgICAgIF9zZXRQb3MoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG59ICkoKTsiLCJcInVzZSBzdHJpY3RcIjtcbiggZnVuY3Rpb24oKXtcblxuICAgICQoIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAkLmVhY2goICQoJy5jb29raWVzLWluZm9fYnRuJyksIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgbmV3IEluZm9Db29raWVzUG9wdXAoICQodGhpcykgKTtcblxuICAgICAgICB9ICk7XG5cbiAgICB9ICk7XG5cbiAgICB2YXIgSW5mb0Nvb2tpZXNQb3B1cCA9IGZ1bmN0aW9uICggb2JqICkge1xuXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX3dpbmRvdyA9ICQoIHdpbmRvdyksXG4gICAgICAgICAgICBfcG9wdXAgPSAkKCcucG9wdXBfX2Nvb2tpZXMtaW5mbycpO1xuXG4gICAgICAgIHZhciBfYWRkRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuICAgICAgICAgICAgICAgICAgICByZXNpemU6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpIDwgMTAyNCApIHtcblxuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgX29iai5vbigge1xuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPCAxMDI0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNpckl0ZW0gPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZSA9IGNpckl0ZW0uZmluZCgnLmNvb2tpZXMtaW5mb19fdGl0bGUnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudCA9IGNpckl0ZW0uZmluZCgnLmNvb2tpZXMtaW5mb19fdGV4dCcpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3BvcHVwLmZpbmQoJy5zaXRlX19tYWluLXRpdGxlJykuaHRtbCggdGl0bGUuaHRtbCgpICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3BvcHVwLmZpbmQoJy5jb29raWVzLWluZm9fX2Rlc2NyaXB0aW9uJykuaHRtbCggY29udGVudC5odG1sKCkgKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgX29ialswXS5vYmogPSBfc2VsZjtcbiAgICAgICAgICAgICAgICBfYWRkRXZlbnRzKCk7XG5cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG59ICkoKTsiLCJcInVzZSBzdHJpY3RcIjtcbiggZnVuY3Rpb24oKXtcblxuICAgICQoIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAkLmVhY2goICQoJy5wcm9kdWN0cy1jb29raWVzX19pdGVtcycpLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIG5ldyBQcm9kdWN0c0Nvb2tpZXNTbGlkZXIoICQodGhpcykgKTtcblxuICAgICAgICB9ICk7XG5cbiAgICAgICAgJC5lYWNoKCAkKCAnLnNob3AnICksIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICBuZXcgU2hvcEhlaWdodCAoICQoIHRoaXMgKSApO1xuXG4gICAgICAgIH0gKTtcblxuICAgIH0gKTtcblxuICAgIHZhciBQcm9kdWN0c0Nvb2tpZXNTbGlkZXIgPSBmdW5jdGlvbiAoIG9iaiApIHtcblxuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKCB3aW5kb3cgKSxcbiAgICAgICAgICAgIF9zbGlja0luaXQgPSBmYWxzZSxcbiAgICAgICAgICAgIF9zbGlja1NsaWRlcjtcblxuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF93aW5kb3cub24oIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzaXplOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA8IDc2OCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAhX3NsaWNrSW5pdCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaW5pdFNsaWNrKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zbGlja0luaXQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggX3NsaWNrSW5pdCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZGVzdHJveVNsaWNrKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zbGlja0luaXQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdFNsaWNrID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBfc2xpY2tTbGlkZXIgPSBfb2JqLmZpbmQoJy5zbGljay1jb250YWluZXInKS5zbGljaygge1xuICAgICAgICAgICAgICAgICAgICBkb3RzOiBmYWxzZVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9kZXN0cm95U2xpY2sgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIF9zbGlja1NsaWRlci5zbGljaygndW5zbGljaycpO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBfb2JqWzBdLm9iaiA9IF9zZWxmO1xuICAgICAgICAgICAgICAgIF9hZGRFdmVudHMoKTtcblxuICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPCA3NjggKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoICFfc2xpY2tJbml0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfaW5pdFNsaWNrKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfc2xpY2tJbml0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBTaG9wSGVpZ2h0ID0gZnVuY3Rpb24oIG9iaiApIHtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKHdpbmRvdyksXG4gICAgICAgICAgICBfaGVhZGVyID0gJCgnLnNpdGVfX2hlYWRlcicpLFxuICAgICAgICAgICAgX2dsb2JhbFdpZHRoID0gMDtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuICAgICAgICAgICAgICAgICAgICBsb2FkOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9nbG9iYWxXaWR0aCA9IF93aW5kb3cud2lkdGgoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9zZXRIZWlnaHQoKTtcblxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICByZXNpemU6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF9nbG9iYWxXaWR0aCAhPSBfd2luZG93LndpZHRoKCkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZ2xvYmFsV2lkdGggPSBfd2luZG93LndpZHRoKCkgKyAxO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3NldEhlaWdodCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgX29ialsgMCBdLm9iaiA9IF9zZWxmO1xuICAgICAgICAgICAgICAgIF9hZGRFdmVudHMoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfc2V0SGVpZ2h0ID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgaGVpZ2h0ID0gX3dpbmRvdy5oZWlnaHQoKTtcblxuICAgICAgICAgICAgICAgIF9vYmouY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICdtaW4taGVpZ2h0JzogaGVpZ2h0IC0gX2hlYWRlci5pbm5lckhlaWdodCgpIC0gcGFyc2VJbnQoIF9vYmouY3NzKCdwYWRkaW5nLWJvdHRvbScpICkgLSBwYXJzZUludCggX29iai5jc3MoJ3BhZGRpbmctdG9wJykgKSAtICQoJy5zaXRlX19tYWluLXRpdGxlJykub3V0ZXJIZWlnaHQodHJ1ZSlcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG59ICkoKTsiLCIoIGZ1bmN0aW9uKCl7XG5cbiAgICAkKCBmdW5jdGlvbigpe1xuXG4gICAgICAgICQoICcucG9wdXAnICkuZWFjaChmdW5jdGlvbigpe1xuXG4gICAgICAgICAgICBuZXcgUG9wdXAoJCh0aGlzKSk7XG5cbiAgICAgICAgfSk7XG5cbiAgICB9KTtcblxuICAgIHZhciBQb3B1cCA9IGZ1bmN0aW9uKCBvYmogKXtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX3BvcHVwUGFkZGluZyA9IDQwLFxuICAgICAgICAgICAgX2J0blNob3cgPSAgJCggJy5wb3B1cF9fb3BlbicgKSxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfYnRuQ2xvc2UgPSBfb2JqLmZpbmQoICcucG9wdXBfX2Nsb3NlLCAucG9wdXBfX2NhbmNlbCcgKSxcbiAgICAgICAgICAgIF93cmFwID0gX29iai5maW5kKCAnLnBvcHVwX193cmFwJyApLFxuICAgICAgICAgICAgX2NvbnRlbnRzID0gX29iai5maW5kKCAnLnBvcHVwX19jb250ZW50JyApLFxuICAgICAgICAgICAgX3Njcm9sbENvbnRlaW5lciA9ICQoICdodG1sJyApLFxuICAgICAgICAgICAgX3dpbmRvdyA9ICQoIHdpbmRvdyApLFxuICAgICAgICAgICAgX2dsb2JhbFdpZHRoLFxuICAgICAgICAgICAgX3RpbWVyID0gc2V0VGltZW91dCggZnVuY3Rpb24oKXt9LCAxICk7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9jZW50ZXJXcmFwID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBpZiAoIF93aW5kb3cuaGVpZ2h0KCkgLSAoIF9wb3B1cFBhZGRpbmcgKiAyICkgLSBfd3JhcC5oZWlnaHQoKSA+IDAgKSB7XG4gICAgICAgICAgICAgICAgICAgIF93cmFwLmNzcyggeyB0b3A6ICggKCBfd2luZG93LmhlaWdodCgpIC0gKCBfcG9wdXBQYWRkaW5nICogMiApICkgLSBfd3JhcC5oZWlnaHQoKSApIC8gMiB9ICk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgX3dyYXAuY3NzKCB7IHRvcDogMCB9ICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9nZXRTY3JvbGxXaWR0aCA9IGZ1bmN0aW9uICgpe1xuICAgICAgICAgICAgICAgIHZhciBzY3JvbGxEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnZGl2JyksXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbEJhcldpZHRoO1xuXG4gICAgICAgICAgICAgICAgc2Nyb2xsRGl2LmNsYXNzTmFtZSA9ICdwb3B1cF9fc2Nyb2xsYmFyLW1lYXN1cmUnO1xuXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCggc2Nyb2xsRGl2ICk7XG5cbiAgICAgICAgICAgICAgICBzY3JvbGxCYXJXaWR0aCA9IHNjcm9sbERpdi5vZmZzZXRXaWR0aCAtIHNjcm9sbERpdi5jbGllbnRXaWR0aDtcblxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoc2Nyb2xsRGl2KTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBzY3JvbGxCYXJXaWR0aDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaGlkZSA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgX29iai5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3dZOiAnaGlkZGVuJ1xuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICBfc2Nyb2xsQ29udGVpbmVyLmNzcygge1xuICAgICAgICAgICAgICAgICAgICBvdmVyZmxvd1k6ICdhdXRvJyxcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZ1JpZ2h0OiAwXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgX29iai5yZW1vdmVDbGFzcyggJ3BvcHVwX29wZW5lZCcgKTtcbiAgICAgICAgICAgICAgICBfb2JqLmFkZENsYXNzKCAncG9wdXBfaGlkZScgKTtcblxuICAgICAgICAgICAgICAgIF90aW1lciA9IHNldFRpbWVvdXQoIGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgICAgICAgICAgICAgX29iai5jc3MgKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJmbG93WTogJ2F1dG8nXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIF9vYmoucmVtb3ZlQ2xhc3MoICdwb3B1cF9oaWRlJyApO1xuICAgICAgICAgICAgICAgIH0sIDMwMCApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIF9vYmpbIDAgXS5vYmogPSBfc2VsZjtcbiAgICAgICAgICAgICAgICBfb25FdmVudHMoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfb25FdmVudHMgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIF93aW5kb3cub24oIHtcbiAgICAgICAgICAgICAgICAgICAgbG9hZDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfZ2xvYmFsV2lkdGggPSBfd2luZG93LndpZHRoKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcmVzaXplOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgX2NlbnRlcldyYXAoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA+PSAxMDI0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF9nbG9iYWxXaWR0aCAhPSBfd2luZG93LndpZHRoKCkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2dsb2JhbFdpZHRoID0gX3dpbmRvdy53aWR0aCgpICsgMTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaGlkZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICBfYnRuU2hvdy5vbigge1xuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoICQodGhpcykuaGFzQ2xhc3MoJ2Nvb2tpZXMtaW5mb19idG4nKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPCAxMDI0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zaG93KCAkKCB0aGlzICkuYXR0ciggJ2RhdGEtcG9wdXAnICkgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3Nob3coICQoIHRoaXMgKS5hdHRyKCAnZGF0YS1wb3B1cCcgKSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgX3dyYXAub24oIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCBlICl7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgIF9vYmoub24oIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgIF9idG5DbG9zZS5vbigge1xuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3Nob3cgPSBmdW5jdGlvbiggY2xhc3NOYW1lICl7XG4gICAgICAgICAgICAgICAgX3NldFBvcHVwQ29udGVudCggY2xhc3NOYW1lICk7XG5cbiAgICAgICAgICAgICAgICBfc2Nyb2xsQ29udGVpbmVyLmNzcygge1xuICAgICAgICAgICAgICAgICAgICBvdmVyZmxvd1k6ICdoaWRkZW4nLFxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nUmlnaHQ6IF9nZXRTY3JvbGxXaWR0aCgpXG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgIF9vYmouYWRkQ2xhc3MoICdwb3B1cF9vcGVuZWQnICk7XG4gICAgICAgICAgICAgICAgX2NlbnRlcldyYXAoKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9zZXRQb3B1cENvbnRlbnQgPSBmdW5jdGlvbiggY2xhc3NOYW1lICl7XG4gICAgICAgICAgICAgICAgdmFyIGN1ckNvbnRlbnQgPSBfY29udGVudHMuZmlsdGVyKCAnLnBvcHVwX18nICsgY2xhc3NOYW1lICk7XG5cbiAgICAgICAgICAgICAgICBfY29udGVudHMuY3NzKCB7IGRpc3BsYXk6ICdub25lJyB9ICk7XG4gICAgICAgICAgICAgICAgY3VyQ29udGVudC5jc3MoIHsgZGlzcGxheTogJ2Jsb2NrJyB9ICk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIC8vcHVibGljIHByb3BlcnRpZXNcblxuICAgICAgICAvL3B1YmxpYyBtZXRob2RzXG5cblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbn0gKSgpO1xuXG4iLCIoIGZ1bmN0aW9uKCl7XG5cbiAgICAkKCBmdW5jdGlvbigpe1xuICAgICAgICAkKCAnc2VsZWN0JyApLmVhY2goIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBuZXcgV2Vic3RlcnNTZWxlY3QoIHtcbiAgICAgICAgICAgICAgICBvYmo6ICQoIHRoaXMgKSxcbiAgICAgICAgICAgICAgICBvcHRpb25UeXBlOiAxLFxuICAgICAgICAgICAgICAgIHNob3dUeXBlOiAyXG4gICAgICAgICAgICB9ICk7XG4gICAgICAgIH0gKTtcbiAgICB9ICk7XG5cbiAgICB2YXIgV2Vic3RlcnNTZWxlY3QgPSBmdW5jdGlvbiggcGFyYW1zICl7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBwYXJhbXMub2JqLFxuICAgICAgICAgICAgX29wdGlvblR5cGUgPSBwYXJhbXMub3B0aW9uVHlwZSB8fCAwLFxuICAgICAgICAgICAgX3Nob3dUeXBlID0gcGFyYW1zLnNob3dUeXBlIHx8IDAsXG4gICAgICAgICAgICBfdmlzaWJsZSA9IHBhcmFtcy52aXNpYmxlIHx8IDUsXG4gICAgICAgICAgICBfZGV2aWNlID0gL0FuZHJvaWR8d2ViT1N8aVBob25lfGlQYWR8aVBvZHxCbGFja0JlcnJ5fElFTW9iaWxlfE9wZXJhIE1pbmkvaS50ZXN0KCBuYXZpZ2F0b3IudXNlckFnZW50ICksXG4gICAgICAgICAgICBfdGV4dCA9ICQoICc8c3BhbiBjbGFzcz1cIndlYnN0ZXJzLXNlbGVjdF9faXRlbVwiPjwvc3Bhbj4nICksXG4gICAgICAgICAgICBfd3JhcCA9ICQoICc8ZGl2IGNsYXNzPVwid2Vic3RlcnMtc2VsZWN0XCI+PC9kaXY+JyApLFxuICAgICAgICAgICAgX3dpbmRvdyA9ICQoIHdpbmRvdyApLFxuICAgICAgICAgICAgX2JvZHkgPSAkKCAnYm9keScgKSxcbiAgICAgICAgICAgIF9vcGVuZWQgPSBmYWxzZSxcbiAgICAgICAgICAgIF9wb3B1cCwgX3Njcm9sbDtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX2FkZFdyYXAgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIHZhciBjdXJUZXh0ID0gJyc7XG5cbiAgICAgICAgICAgICAgICBfb2JqLmNzcygge1xuICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAwXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgX29iai53cmFwKCBfd3JhcCApO1xuICAgICAgICAgICAgICAgIF93cmFwID0gX29iai5wYXJlbnQoKTtcbiAgICAgICAgICAgICAgICBfd3JhcC5hcHBlbmQoICc8ZGl2IGNsYXNzPVwid2Vic3RlcnMtc2VsZWN0X19hcnJvd1wiPjwvZGl2PicgKTtcbiAgICAgICAgICAgICAgICBfb2JqLmJlZm9yZSggX3RleHQgKTtcbiAgICAgICAgICAgICAgICBfb2JqLmZpbmQoICdvcHRpb24nICkuZWFjaCggZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckl0ZW0gPSAkKCB0aGlzICk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoIGN1ckl0ZW0uYXR0ciggJ3NlbGVjdGVkJyApID09ICdzZWxlY3RlZCcgKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1clRleHQgPSBjdXJJdGVtLnRleHQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIGlmKCBjdXJUZXh0ID09ICcnICl7XG4gICAgICAgICAgICAgICAgICAgIGN1clRleHQgPSAgX29iai5maW5kKCAnb3B0aW9uJykuZXEoIDAgKS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF90ZXh0LnRleHQoIGN1clRleHQgKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaGlkZVBvcHVwID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBfb3BlbmVkID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBpZiggIV9zaG93VHlwZSApe1xuICAgICAgICAgICAgICAgICAgICBfcG9wdXAuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnbm9uZSdcbiAgICAgICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiggX3Nob3dUeXBlID09IDEgKXtcbiAgICAgICAgICAgICAgICAgICAgX3BvcHVwLnN0b3AoIHRydWUsIGZhbHNlICkuc2xpZGVVcCggMzAwLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgX3BvcHVwLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmKCBfc2hvd1R5cGUgPT0gMiApIHtcbiAgICAgICAgICAgICAgICAgICAgX3BvcHVwLnN0b3AoIHRydWUsIGZhbHNlICkuZmFkZU91dCggMzAwLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgX3BvcHVwLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgX3dyYXAucmVtb3ZlQ2xhc3MoICd3ZWJzdGVycy1zZWxlY3Rfb3BlbmVkJyApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2NvbnN0cnVjdG9yID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBfb2JqWyAwIF0ub2JqID0gX3NlbGY7XG5cbiAgICAgICAgICAgICAgICBfYWRkV3JhcCgpO1xuICAgICAgICAgICAgICAgIF9zZWxlY3RWaWV3VHlwZSgpO1xuICAgICAgICAgICAgICAgIF9vbkV2ZW50cygpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9vbkV2ZW50cyA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgX29iai5vbiggJ2NoYW5nZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBfdGV4dC50ZXh0KCAkKCB0aGlzICkuZmluZCggJ29wdGlvbjpzZWxlY3RlZCcgKS50ZXh0KCkgKTtcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBpZiggX29wdGlvblR5cGUgPT0gMSAmJiAhX2RldmljZSApe1xuICAgICAgICAgICAgICAgICAgICBfd3JhcC5vbigge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2NsaWNrJzogZnVuY3Rpb24oIGUgKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF9vcGVuZWQgKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2hpZGVQb3B1cCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zaG93UG9wdXAoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgICAgIF93aW5kb3cub24oIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdjbGljayc6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF9vcGVuZWQgKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2hpZGVQb3B1cCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfc2VsZWN0Vmlld1R5cGUgPSBmdW5jdGlvbigpe1xuXG4gICAgICAgICAgICAgICAgaWYoICFfb3B0aW9uVHlwZSB8fCBfZGV2aWNlICl7XG4gICAgICAgICAgICAgICAgICAgIF9zZXRNb2JpbGVWaWV3KCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmKCBfb3B0aW9uVHlwZSA9PSAxICl7XG4gICAgICAgICAgICAgICAgICAgIF9zZXRDdXN0b20xKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9zZXRDdXN0b20xID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBfd3JhcC5hZGRDbGFzcyggJ3dlYnN0ZXJzLXNlbGVjdF9jdXN0b20nICk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3NldE1vYmlsZVZpZXcgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIF93cmFwLmFkZENsYXNzKCAnd2Vic3RlcnMtc2VsZWN0X21vYmlsZScgKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfc2hvd1BvcHVwID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICB2YXIgc2VsZWN0cyA9ICQoICdzZWxlY3QnICksXG4gICAgICAgICAgICAgICAgICAgIGxpc3QgPSAkKCAnPHVsPjwvdWw+JyksXG4gICAgICAgICAgICAgICAgICAgIGN1clNjcm9sbCA9IF93aW5kb3cuc2Nyb2xsVG9wKCksXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldCA9IF93cmFwLm9mZnNldCgpLFxuICAgICAgICAgICAgICAgICAgICBtYXhIZWlnaHQgPSAwLFxuICAgICAgICAgICAgICAgICAgICBjdXJJbmRleCA9IF9vYmouZmluZCggJ29wdGlvbjpzZWxlY3RlZCcgKS5pbmRleCgpLFxuICAgICAgICAgICAgICAgICAgICBpZCA9IE1hdGgucm91bmQoIE1hdGgucmFuZG9tKCkgKiAxMDAwICk7XG5cbiAgICAgICAgICAgICAgICBzZWxlY3RzLmVhY2goIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgIGlmKCB0aGlzICE9PSBfb2JqWyAwIF0gJiYgdGhpcy5vYmouY2hlY2tPcGVuZWQoKSApe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vYmouY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIGlmKCBfb3BlbmVkICl7XG4gICAgICAgICAgICAgICAgICAgIF9wb3B1cC5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgX29wZW5lZCA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICBfcG9wdXAgPSAkKCAnPGRpdiBjbGFzcz1cIndlYnN0ZXJzLXNlbGVjdF9fcG9wdXBcIiBpZD1cIndlYnN0ZXJzLXNlbGVjdF9fcG9wdXAnICsgaWQgKyAnXCI+PC9kaXY+JyApO1xuXG4gICAgICAgICAgICAgICAgX29iai5maW5kKCAnb3B0aW9uJyApLmVhY2goIGZ1bmN0aW9uKCBpICl7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJJdGVtID0gJCggdGhpcyApO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKCBpID09IGN1ckluZGV4ICl7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0LmFwcGVuZCggJzxsaSBjbGFzcz1cImFjdGl2ZVwiPicgKyBjdXJJdGVtLnRleHQoKSArICc8L2xpPicgKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3QuYXBwZW5kKCAnPGxpPicgKyBjdXJJdGVtLnRleHQoKSArICc8L2xpPicgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgX3BvcHVwLmFwcGVuZCggbGlzdCApO1xuICAgICAgICAgICAgICAgIF93cmFwLmFwcGVuZCggX3BvcHVwICk7XG4gICAgICAgICAgICAgICAgX3dyYXAuYWRkQ2xhc3MoICd3ZWJzdGVycy1zZWxlY3Rfb3BlbmVkJyApO1xuXG4gICAgICAgICAgICAgICAgLy9fcG9wdXAuY3NzKCB7XG4gICAgICAgICAgICAgICAgLy8gICAgd2lkdGg6IF93cmFwLm91dGVyV2lkdGgoKSxcbiAgICAgICAgICAgICAgICAvLyAgICBsZWZ0OiAtMSxcbiAgICAgICAgICAgICAgICAvLyAgICB0b3A6IF93cmFwLm91dGVySGVpZ2h0KCkgLSAzXG4gICAgICAgICAgICAgICAgLy99ICk7XG5cbiAgICAgICAgICAgICAgICBtYXhIZWlnaHQgPSBfcG9wdXAub3V0ZXJIZWlnaHQoKTtcbiAgICAgICAgICAgICAgICBpZiggbWF4SGVpZ2h0ID4gX3BvcHVwLmZpbmQoICdsaScgKS5lcSggMCApLm91dGVySGVpZ2h0KCkgKiBfdmlzaWJsZSApe1xuICAgICAgICAgICAgICAgICAgICBfcG9wdXAuaGVpZ2h0KCBfcG9wdXAuZmluZCggJ2xpJyApLmVxKCAwICkub3V0ZXJIZWlnaHQoKSAqIF92aXNpYmxlICk7XG4gICAgICAgICAgICAgICAgICAgIF9zY3JvbGwgPSBfcG9wdXAucGVyZmVjdFNjcm9sbGJhcigpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmKCBfc2hvd1R5cGUgPT0gMSApe1xuICAgICAgICAgICAgICAgICAgICBfcG9wdXAuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnbm9uZSdcbiAgICAgICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgICAgICBfcG9wdXAuc2xpZGVEb3duKCAzMDAgKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYoIF9zaG93VHlwZSA9PSAyICkge1xuICAgICAgICAgICAgICAgICAgICBfcG9wdXAuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAwLjFcbiAgICAgICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgICAgICBfcG9wdXAuYW5pbWF0ZSggeyBvcGFjaXR5OiAxIH0sIDMwMCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgX3BvcHVwLmZpbmQoICdsaScgKS5vbigge1xuICAgICAgICAgICAgICAgICAgICAnY2xpY2snOiBmdW5jdGlvbiggZSApe1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gJCggdGhpcyApLmluZGV4KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9vYmoudmFsKCBfb2JqLmZpbmQoICdvcHRpb24nICkuZXEoIGluZGV4ICkuYXR0ciggJ3ZhbHVlJyApICk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfb2JqLnRyaWdnZXIoICdjaGFuZ2UnICk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaGlkZVBvcHVwKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgLy9wdWJsaWMgcHJvcGVydGllc1xuXG4gICAgICAgIC8vcHVibGljIG1ldGhvZHNcbiAgICAgICAgX3NlbGYuY2hlY2tPcGVuZWQgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgcmV0dXJuIF9vcGVuZWQ7XG4gICAgICAgIH07XG4gICAgICAgIF9zZWxmLmNsb3NlID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICBfaGlkZVBvcHVwKCk7XG4gICAgICAgIH07XG5cblxuICAgICAgICBfY29uc3RydWN0b3IoKTtcblxuICAgIH07XG5cbn0gKSgpOyJdfQ==
