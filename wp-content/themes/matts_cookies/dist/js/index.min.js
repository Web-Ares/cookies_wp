"use strict";!function(){$(function(){$.each($(".site_index .logo"),function(){new t($(this))})});var t=function(t){var o=this,n=t,i=$(window),c=$("html, body"),s=function(){n.on({click:function(){return i.width()>=1024?(c.stop(!0,!1),c.animate({scrollTop:$(".site").offset().top-91},300)):(c.stop(!0,!1),c.animate({scrollTop:$(".site").offset().top-64},300)),!1}})},e=function(){n[0].obj=o,s()};e()}}();
"use strict";!function(){var e=!0;$(function(){new i($(".preloader")),$.each($(".site__header"),function(){new n($(this))}),$.each($("[data-href]"),function(){new t($(this))}),$.each($(".slides"),function(){new s($(this))}),$.each($(".site__content-full"),function(){new o($(this))})});var i=function(e){var i=this,n=$(window),t=e,s=$("body"),o=function(){n.on({load:function(){d()}})},a=function(){s[0].preloader=i,o()},d=function(){t.addClass("preloader_loaded"),setTimeout(function(){t.remove(),$(".site").addClass("site__loaded")},500)};a()},n=function(i){var n=this,t=i,s=$(window),o=$("html"),a=t.find(".site__menu"),d=($(".site__content"),!1),r=!1,c=!0,h=0,l=t.find(".site__menu-btn"),u=0,f=function(){s.on({load:function(){u=s.width()},resize:function(){u!=s.width()&&(u=s.width()+1,s.width()>=1024&&(a.scrollTop(0),v(l)))},scroll:function(){d=s.scrollTop()>=2*t.innerHeight(),s.scrollTop()>=t.innerHeight()+20?c&&(c=!1,t.addClass("site__header_hide")):(c=!0,t.removeClass("site__header_hide")),d?t.hasClass("site__header_hide")&&setTimeout(function(){t.addClass("site__header_fixed"),t.removeClass("site__header_hide")},100):s.scrollTop()<=3*t.innerHeight()&&(t.removeClass("site__header_fixed"),t.removeClass("site__header_hidden")),s.scrollTop()<=10&&(t.removeClass("site__header_fixed"),t.removeClass("site__header_hidden"))},DOMMouseScroll:function(e){var i=e.originalEvent.detail;if(i){var n=i>0?1:-1;_(n)}n<0?r=!0:setTimeout(function(){r=!1},300)},mousewheel:function(e){var i=e.originalEvent.wheelDelta;if(i){var n=i>0?-1:1;_(n)}n<0?r=!0:setTimeout(function(){r=!1},300)}}),$(window).scroll(function(e){var i=$(this).scrollTop();if(i>h){_(1);var n=1}else{_(-1);var n=-1}h=i,n<0?r=!0:setTimeout(function(){r=!1},300)}),l.on({click:function(){$(this).hasClass("opened")?v($(this)):w($(this))}})},_=function(i){i>0&&!t.hasClass("site__header_hidden")&&!l.hasClass("opened")&&d&&!r&&t.addClass("site__header_hidden"),i<0&&t.hasClass("site__header_hidden")&&!l.hasClass("opened")&&d&&r&&e&&t.removeClass("site__header_hidden")},v=function(e){o.css({overflowY:"auto"}),e.removeClass("opened"),t.removeClass("opened-menu")},m=function(){t[0].obj=n,f()},w=function(e){e.addClass("opened"),t.addClass("opened-menu"),o.css({overflowY:"hidden"})};m()},t=function(i){var n=this,t=i,s=t,o=$("html"),a=$(window),d=$("html, body"),r=$(".site__header"),c=($(".popup__cookies-info"),function(){a.on({resize:function(){},scroll:function(){}}),s.on({click:function(){var i=$(this),n=i.attr("data-href"),t=$("."+n).offset().top-r.innerHeight();return s.removeClass("active"),i.addClass("active"),t=$("."+n).offset().top,d.stop(!0,!1),d.animate({scrollTop:t},{duration:500,progress:function(){e=!1,r.addClass("site__header_hidden")},complete:function(){setTimeout(function(){e=!1},200),setTimeout(function(){e=!0},500)}}),o.css({overflowY:"auto"}),r.find(".site__menu-btn").removeClass("opened"),r.removeClass("opened-menu"),!1}})}),h=function(){t[0].obj=n,c()};h()},s=function(e){var i=this,n=e,t=$(window),s=function(){t.on({scroll:function(){o()}})},o=function(){var e=t.scrollTop(),i=t.height(),s=n.offset().top,o=s-e,a=1-o/i;a>.5&&(n.hasClass("slides_active")||n.addClass("slides_active"))},a=function(){n[0].slides=i,s(),o()};a()},o=function(e){var i=this,n=e,t=$(window),s=$(".site__header"),o=0,a=function(){t.on({load:function(){o=t.width(),r()},resize:function(){o!=t.width()&&(o=t.width()+1,r())}})},d=function(){n[0].obj=i,a()},r=function(){var e=t.height();n.css({"min-height":e-s.innerHeight()-$(".site__main-title").outerHeight(!0)}),n.find(".contact-us").length&&t.width()>=1024?n.css({"min-height":""}):n.css({"min-height":e-s.innerHeight()-$(".site__main-title").outerHeight(!0)})};d()}}();
"use strict";!function(){$(function(){$.each($(".hero"),function(){new i($(this))})});var i=function(i){var t=this,n=i,s=$(window),o=$(".site__header"),e=0,c=null,h=$("html, body"),r=n.find(".hero__down"),f=function(){s.on({load:function(){e=s.width(),d()},resize:function(){e!=s.width()&&(e=s.width()+1,d())}}),r.on({click:function(){return s.width()>=1024?(h.stop(!0,!1),h.animate({scrollTop:$(".our-cookies").offset().top-91},300)):(h.stop(!0,!1),h.animate({scrollTop:$(".our-cookies").offset().top-64},300)),!1}})},l=function(){n[0].obj=t,f(),a()},a=function(){c=n.find(".slick-container").slick({dots:!0,autoplay:!0,autoplaySpeed:5e3,arrows:!1})},d=function(){var i=s.height();s.width()>=1024?i-o.innerHeight()>parseInt(n.css("min-height"))?n.find(".slick-list").css({height:i-o.innerHeight()}):n.find(".slick-list").css({height:parseInt(n.css("min-height"))}):i>parseInt(n.css("min-height"))?n.find(".slick-list").css({height:i}):n.find(".slick-list").css({height:parseInt(n.css("min-height"))})};l()}}();
"use strict";!function(){$(function(){$.each($(".our-cookies"),function(){new n($(this))})});var n=function(n){var i=this,o=n,t=function(){o[0].obj=i,c()},c=function(){o.find(".slick-container").slick({dots:!0,autoplay:!0,autoplaySpeed:5e3})};t()}}();
"use strict";!function(){$(function(){$.each($(".real-stuff"),function(){new t($(this))}),$.each($(".real-stuff__products"),function(){new e($(this))})});var t=function(t){var e=this,n=t,o=$(window),i=0,s=n.find(".real-stuff__ingredients-list"),f=$("html, body"),d=n.find(".btn"),a=function(){o.on({load:function(){i=o.width()},resize:function(){i!=o.width()&&(i=o.width()+1,r(d,d.data("close")))}}),d.on({click:function(){var t=$(this),e=t.data("open"),n=t.data("close");return t.hasClass("opened")?r(t,n):c(t,e),!1}})},r=function(t,e){t.removeClass("opened"),t.text(e),s.css({height:0}),f.stop(!0,!1),f.animate({scrollTop:$(".real-stuff").offset().top-40-$(".site__header").innerHeight()},300)},c=function(t,e){t.addClass("opened"),t.text(e),s.css({height:s.find(">div").innerHeight()}),f.stop(!0,!1),f.animate({scrollTop:s.offset().top-40-$(".site__header").innerHeight()},300)},l=function(){n[0].obj=e,a()};l()},e=function(t){var e=this,n=t,o=$(".site__header"),i=15,s=5,f=6,d=7,a=$(window),r=0,c=$("html, body"),l=n.find(".real-stuff__description-content"),p=n.find(".real-stuff__description-btn"),u=function(){p.on({click:function(){if(a.width()>=1024){var t=$(this),e=t.next(),n=t.parent();return t.hasClass("opened")?_(t,n,e):h(t,n,e),!1}}}),a.on({load:function(){r=a.width()},resize:function(){a.width()>=1024?m():r!=a.width()&&(r=a.width()+1,_(p,n,l))}}),$(document).on("click",".real-stuff__description-content",function(t){t=t||window.event,t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}),$(document).on("click","body",function(){_(p,n,l),$(".real-stuff__description").removeClass("opened")}),$(document).on("mousemove","body",function(t){t=t||window.event;var e=$(this),r=(e.find(".real-stuff__products-img"),e.find(".real-stuff__description_1:not(.opened)")),c=e.find(".real-stuff__description_2:not(.opened)"),l=e.find(".real-stuff__description_3:not(.opened)"),p=e.find(".real-stuff__description_4:not(.opened)"),u=e.find(".real-stuff__description_5:not(.opened)"),_=e.find(".real-stuff__description_6:not(.opened)");if(a.width()>1024&&!o.hasClass("opened")){var h=t.clientX,m=t.clientY,C=n.width()/2,g=n.height()/2,b=(h-C)/C,x=(m-g)/g;a.outerWidth()>1024&&(v(b,x,s,r),w(b,x,f,c),v(b,x,d,l),w(b,x,s,p),w(b,x,i,u),w(b,x,d,_))}})},_=function(t,e,n){t.removeClass("opened"),e.removeClass("opened")},h=function(t,e,n){p.removeClass("opened"),$(".real-stuff__description").removeClass("opened"),t.addClass("opened"),e.addClass("opened"),c.stop(!0,!1),c.animate({scrollTop:n.offset().top-40-$(".site__header").innerHeight()},300)},m=function(){l.each(function(){var t=$(this);t.offset().left+t.innerWidth()>=a.width()?t.addClass("right_pos"):t.removeClass("right_pos"),t.offset().left<=0?t.addClass("left_pos"):t.removeClass("left_pos")})},w=function(t,e,n,o){o.css({"-webkit-transform":"translate( "+-(t*n)+"px,"+-(e*n)+"px )",transform:"translate( "+-(t*n)+"px, "+-(e*n)+"px  )"})},v=function(t,e,n,o){o.css({"-webkit-transform":"translate( "+t*n+"px ,"+e*n+"px  )",transform:"translate( "+t*n+"px , "+e*n+"px  )"})},C=function(){n[0].obj=e,u(),m()};C()}}();
"use strict";!function(){$(function(){$.each($(".cookies-info_btn"),function(){new i($(this))})});var i=function(i){var n=this,o=i,t=$(window),c=$(".popup__cookies-info"),f=function(){t.on({resize:function(){t.width()<1024}}),o.on({click:function(){if(t.width()<1024){var i=$(this),n=i.find(".cookies-info__title"),o=i.find(".cookies-info__text");c.find(".site__main-title").html(n.html()),c.find(".cookies-info__description").html(o.html())}}})},e=function(){o[0].obj=n,f()};e()}}();
"use strict";!function(){$(function(){$.each($(".products-cookies__items"),function(){new i($(this))}),$.each($(".shop"),function(){new n($(this))})});var i=function(i){var n,t=this,o=i,c=$(window),s=!1,e=function(){c.on({resize:function(){c.width()<768?s||(u(),s=!0):s&&(h(),s=!1)}})},u=function(){n=o.find(".slick-container").slick({dots:!1})},h=function(){n.slick("unslick")},f=function(){o[0].obj=t,e(),c.width()<768&&(s||(u(),s=!0))};f()},n=function(i){var n=this,t=i,o=$(window),c=$(".site__header"),s=0,e=function(){o.on({load:function(){s=o.width(),h()},resize:function(){s!=o.width()&&(s=o.width()+1,h())}})},u=function(){t[0].obj=n,e()},h=function(){var i=o.height();t.css({"min-height":i-c.innerHeight()-parseInt(t.css("padding-bottom"))-parseInt(t.css("padding-top"))-$(".site__main-title").outerHeight(!0)})};u()}}();
!function(){$(function(){$(".popup").each(function(){new o($(this))})});var o=function(o){var n,t=this,i=40,p=$(".popup__open"),e=o,c=e.find(".popup__close, .popup__cancel"),s=e.find(".popup__wrap"),u=e.find(".popup__content"),d=$("html"),a=$(window),h=setTimeout(function(){},1),f=function(){a.height()-2*i-s.height()>0?s.css({top:(a.height()-2*i-s.height())/2}):s.css({top:0})},l=function(){var o,n=document.createElement("div");return n.className="popup__scrollbar-measure",document.body.appendChild(n),o=n.offsetWidth-n.clientWidth,document.body.removeChild(n),o},r=function(){e.css({overflowY:"hidden"}),d.css({overflowY:"auto",paddingRight:0}),e.removeClass("popup_opened"),e.addClass("popup_hide"),h=setTimeout(function(){e.css({overflowY:"scroll"}),e.removeClass("popup_hide")},300)},_=function(){e[0].obj=t,v()},v=function(){a.on({load:function(){n=a.width()},resize:function(){f(),a.width()>=1024&&n!=a.width()&&(n=a.width()+1,r())}}),p.on({click:function(){return $(this).hasClass("cookies-info_btn")?a.width()<1024?(w($(this).attr("data-popup")),!1):void 0:(w($(this).attr("data-popup")),!1)}}),s.on({click:function(o){o.stopPropagation()}}),e.on({click:function(){return r(),!1}}),c.on({click:function(){return r(),!1}})},w=function(o){m(o),d.css({overflowY:"hidden",paddingRight:l()}),e.addClass("popup_opened"),f()},m=function(o){var n=u.filter(".popup__"+o);u.css({display:"none"}),n.css({display:"block"})};_()}}();
!function(){$(function(){$("select").each(function(){new e({obj:$(this),optionType:1,showType:2})})});var e=function(e){var t,n,i=this,o=e.obj,s=e.optionType||0,c=e.showType||0,a=e.visible||5,l=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),p=$('<span class="websters-select__item"></span>'),d=$('<div class="websters-select"></div>'),r=$(window),f=($("body"),!1),u=function(){var e="";o.css({opacity:0}),o.wrap(d),d=o.parent(),d.append('<div class="websters-select__arrow"></div>'),o.before(p),o.find("option").each(function(){var t=$(this);"selected"==t.attr("selected")&&(e=t.text())}),""==e&&(e=o.find("option").eq(0).text()),p.text(e)},h=function(){f=!1,c?1==c?t.stop(!0,!1).slideUp(300,function(){t.remove()}):2==c&&t.stop(!0,!1).fadeOut(300,function(){t.remove()}):t.css({display:"none"}),d.removeClass("websters-select_opened")},v=function(){o[0].obj=i,u(),w(),b()},b=function(){o.on("change",function(){p.text($(this).find("option:selected").text())}),1!=s||l||(d.on({click:function(e){e.stopPropagation(),f?h():y()}}),r.on({click:function(){f&&h()}}))},w=function(){!s||l?_():1==s&&g()},g=function(){d.addClass("websters-select_custom")},_=function(){d.addClass("websters-select_mobile")},y=function(){var e=$("select"),i=$("<ul></ul>"),s=(r.scrollTop(),d.offset(),0),l=o.find("option:selected").index(),p=Math.round(1e3*Math.random());e.each(function(){this!==o[0]&&this.obj.checkOpened()&&this.obj.close()}),f&&t.remove(),f=!0,t=$('<div class="websters-select__popup" id="websters-select__popup'+p+'"></div>'),o.find("option").each(function(e){var t=$(this);e==l?i.append('<li class="active">'+t.text()+"</li>"):i.append("<li>"+t.text()+"</li>")}),t.append(i),d.append(t),d.addClass("websters-select_opened"),s=t.outerHeight(),s>t.find("li").eq(0).outerHeight()*a&&(t.height(t.find("li").eq(0).outerHeight()*a),n=t.perfectScrollbar()),1==c?(t.css({display:"none"}),t.slideDown(300)):2==c&&(t.css({opacity:.1}),t.animate({opacity:1},300)),t.find("li").on({click:function(e){var t=$(this).index();e.stopPropagation(),o.val(o.find("option").eq(t).attr("value")),o.trigger("change"),h()}})};i.checkOpened=function(){return f},i.close=function(){h()},v()}}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5pbmRleC5qcyIsImpxdWVyeS5tYWluLmpzIiwianF1ZXJ5Lmhlcm8uanMiLCJqcXVlcnkub3VyLWNvb2tpZXMtc2xpZGVyLmpzIiwianF1ZXJ5LnJlYWwtc3R1ZmYuanMiLCJqcXVlcnkuaW5mby1jb29raWVzLXBvcHVwLmpzIiwianF1ZXJ5LnByb2R1Y3RzLWNvb2tpZXMtc2xpZGVyLmpzIiwianF1ZXJ5LnBvcHVwLmpzIiwianF1ZXJ5LndlYnN0ZXJzLXNlbGVjdC5qcyJdLCJuYW1lcyI6WyIkIiwiZWFjaCIsIlNjcm9sbFRvcCIsInRoaXMiLCJvYmoiLCJfc2VsZiIsIl9vYmoiLCJfd2luZG93Iiwid2luZG93IiwiX2RvbSIsIl9hZGRFdmVudHMiLCJvbiIsImNsaWNrIiwid2lkdGgiLCJzdG9wIiwiYW5pbWF0ZSIsInNjcm9sbFRvcCIsIm9mZnNldCIsInRvcCIsIl9pbml0IiwiZ2xvYmFsU2Nyb2xsRmxhZyIsIlByZWxvYWRlciIsIk1lbnUiLCJTY3JvbGxQYW5lbCIsIlNsaWRlcyIsIkZ1bGxIZWlnaHQiLCJfcHJlbG9hZGVyIiwiX2JvZHkiLCJsb2FkIiwiX3Nob3dTaXRlIiwicHJlbG9hZGVyIiwiYWRkQ2xhc3MiLCJzZXRUaW1lb3V0IiwicmVtb3ZlIiwiX2h0bWwiLCJfbWVudSIsImZpbmQiLCJfYWN0aW9uIiwiX2FjdGlvbjIiLCJfZmxhZ0hpZGUiLCJsYXN0U2Nyb2xsVG9wIiwiX3Nob3dNZW51QnRuIiwiX2dsb2JhbFdpZHRoIiwicmVzaXplIiwiX2Nsb3NlTWVudSIsInNjcm9sbCIsImlubmVySGVpZ2h0IiwicmVtb3ZlQ2xhc3MiLCJoYXNDbGFzcyIsIkRPTU1vdXNlU2Nyb2xsIiwiZSIsImRlbHRhIiwib3JpZ2luYWxFdmVudCIsImRldGFpbCIsImRpcmVjdGlvbiIsIl9jaGVja1Njcm9sbCIsIm1vdXNld2hlZWwiLCJ3aGVlbERlbHRhIiwiZXZlbnQiLCJzdCIsIl9vcGVuTWVudSIsImVsZW0iLCJjc3MiLCJvdmVyZmxvd1kiLCJfbGlua3MiLCJfaGVhZGVyIiwiY3VySXRlbSIsIm5ld0NsYXNzIiwiYXR0ciIsIm5leHRJdGVtVG9wIiwiZHVyYXRpb24iLCJwcm9ncmVzcyIsImNvbXBsZXRlIiwiY3VyU2Nyb2xsIiwid2luZG93SCIsImhlaWdodCIsInRvcFBvcyIsInRvcEluV2luZG93IiwidmlzaWJsZVBlcmNlbnQiLCJzbGlkZXMiLCJfc2V0SGVpZ2h0IiwibWluLWhlaWdodCIsIm91dGVySGVpZ2h0IiwibGVuZ3RoIiwiSGVybyIsIl9zbGlja1NsaWRlciIsIl9idG5Eb3duIiwiX2luaXRTbGljayIsInNsaWNrIiwiZG90cyIsImF1dG9wbGF5IiwiYXV0b3BsYXlTcGVlZCIsImFycm93cyIsInBhcnNlSW50IiwiT3VyQ29va2llc1NsaWRlciIsIlJlYWxTdHVmZkJ0blNob3ciLCJSZWFsU3R1ZmZJbmdyZWRpZW50c1Nob3ciLCJfaW5ncmVkaWVudHNMaXN0IiwiX3Nob3dNb3JlQnRuIiwiX2Nsb3NlTGlzdCIsImRhdGEiLCJjdXJJdGVtVGV4dE9wZW4iLCJjdXJJdGVtVGV4dENsb3NlIiwiX29wZW5MaXN0IiwidGV4dCIsIl9zdGVwMSIsIl9zdGVwMyIsIl9zdGVwNCIsIl9zdGVwNSIsIl9pbmdyZWRpZW50c0NvbnRlbnQiLCJfaW5ncmVkaWVudHNCdG5TaG93IiwibmV4dENvbnRlbnQiLCJuZXh0IiwicGFyZW50IiwiX2Nsb3NlQ29udGVudCIsIl9vcGVuQ29udGVudCIsIl9zZXRQb3MiLCJkb2N1bWVudCIsInN0b3BQcm9wYWdhdGlvbiIsImNhbmNlbEJ1YmJsZSIsInNsaWRlIiwiX2ltZzIiLCJfaW1nMyIsIl9pbWc0IiwiX2ltZzUiLCJfaW1nNiIsIl9pbWc3IiwicGFnZVgiLCJjbGllbnRYIiwicGFnZVkiLCJjbGllbnRZIiwiaGFsZldpZHRoIiwiaGFsZkhlaWdodCIsInBlcmNlbnRGcm9tQ2VudGVyWCIsInBlcmNlbnRGcm9tQ2VudGVyWSIsIm91dGVyV2lkdGgiLCJfbW92ZVRvcCIsIl9tb3ZlQm90dG9tIiwibGVmdCIsImlubmVyV2lkdGgiLCJ4UGVyY2VudCIsInlQZXJjZW50Iiwic3RlcCIsImltYWdlIiwiLXdlYmtpdC10cmFuc2Zvcm0iLCJ0cmFuc2Zvcm0iLCJJbmZvQ29va2llc1BvcHVwIiwiX3BvcHVwIiwiY2lySXRlbSIsInRpdGxlIiwiY29udGVudCIsImh0bWwiLCJQcm9kdWN0c0Nvb2tpZXNTbGlkZXIiLCJTaG9wSGVpZ2h0IiwiX3NsaWNrSW5pdCIsIl9kZXN0cm95U2xpY2siLCJQb3B1cCIsIl9wb3B1cFBhZGRpbmciLCJfYnRuU2hvdyIsIl9idG5DbG9zZSIsIl93cmFwIiwiX2NvbnRlbnRzIiwiX3Njcm9sbENvbnRlaW5lciIsIl90aW1lciIsIl9jZW50ZXJXcmFwIiwiX2dldFNjcm9sbFdpZHRoIiwic2Nyb2xsQmFyV2lkdGgiLCJzY3JvbGxEaXYiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwiYm9keSIsImFwcGVuZENoaWxkIiwib2Zmc2V0V2lkdGgiLCJjbGllbnRXaWR0aCIsInJlbW92ZUNoaWxkIiwiX2hpZGUiLCJwYWRkaW5nUmlnaHQiLCJfb25FdmVudHMiLCJfc2hvdyIsIl9zZXRQb3B1cENvbnRlbnQiLCJjdXJDb250ZW50IiwiZmlsdGVyIiwiZGlzcGxheSIsIldlYnN0ZXJzU2VsZWN0Iiwib3B0aW9uVHlwZSIsInNob3dUeXBlIiwicGFyYW1zIiwiX3Njcm9sbCIsIl9vcHRpb25UeXBlIiwiX3Nob3dUeXBlIiwiX3Zpc2libGUiLCJ2aXNpYmxlIiwiX2RldmljZSIsInRlc3QiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJfdGV4dCIsIl9vcGVuZWQiLCJfYWRkV3JhcCIsImN1clRleHQiLCJvcGFjaXR5Iiwid3JhcCIsImFwcGVuZCIsImJlZm9yZSIsImVxIiwiX2hpZGVQb3B1cCIsInNsaWRlVXAiLCJmYWRlT3V0IiwiX2NvbnN0cnVjdG9yIiwiX3NlbGVjdFZpZXdUeXBlIiwiX3Nob3dQb3B1cCIsIl9zZXRNb2JpbGVWaWV3IiwiX3NldEN1c3RvbTEiLCJzZWxlY3RzIiwibGlzdCIsIm1heEhlaWdodCIsImN1ckluZGV4IiwiaW5kZXgiLCJpZCIsIk1hdGgiLCJyb3VuZCIsInJhbmRvbSIsImNoZWNrT3BlbmVkIiwiY2xvc2UiLCJpIiwicGVyZmVjdFNjcm9sbGJhciIsInNsaWRlRG93biIsInZhbCIsInRyaWdnZXIiXSwibWFwcGluZ3MiOiJBQUFBLGNBQ0EsV0FFSUEsRUFBRyxXQUVDQSxFQUFFQyxLQUFNRCxFQUFHLHFCQUF1QixXQUU5QixHQUFJRSxHQUFZRixFQUFHRyxVQU0zQixJQUFJRCxHQUFZLFNBQVVFLEdBR3RCLEdBQUlDLEdBQVFGLEtBQ1JHLEVBQU9GLEVBQ1BHLEVBQVVQLEVBQUVRLFFBQ1pDLEVBQVFULEVBQUcsY0FHWFUsRUFBYSxXQUVUSixFQUFLSyxJQUNEQyxNQUFPLFdBY0gsTUFaSUwsR0FBUU0sU0FBVyxNQUVuQkosRUFBS0ssTUFBTSxHQUFNLEdBQ2pCTCxFQUFLTSxTQUFXQyxVQUFXaEIsRUFBRSxTQUFTaUIsU0FBU0MsSUFBTSxJQUFPLE9BSTVEVCxFQUFLSyxNQUFNLEdBQU0sR0FDakJMLEVBQUtNLFNBQVdDLFVBQVdoQixFQUFFLFNBQVNpQixTQUFTQyxJQUFNLElBQU8sT0FJekQsTUFNbkJDLEVBQVEsV0FDSmIsRUFBTSxHQUFJRixJQUFNQyxFQUNoQkssSUFHUlM7QUNsRFIsY0FDQSxXQUVJLEdBQUlDLElBQW1CLENBRXZCcEIsR0FBRyxXQUVDLEdBQUlxQixHQUFXckIsRUFBRSxlQUVqQkEsRUFBRUMsS0FBTUQsRUFBRyxpQkFBbUIsV0FFMUIsR0FBSXNCLEdBQU90QixFQUFHRyxTQUlsQkgsRUFBRUMsS0FBTUQsRUFBRSxlQUFnQixXQUV0QixHQUFJdUIsR0FBYXZCLEVBQUVHLFNBSXZCSCxFQUFFQyxLQUFNRCxFQUFFLFdBQVksV0FFbEIsR0FBSXdCLEdBQVF4QixFQUFFRyxTQUlsQkgsRUFBRUMsS0FBTUQsRUFBRSx1QkFBd0IsV0FFOUIsR0FBSXlCLEdBQVl6QixFQUFFRyxVQU0xQixJQUFJa0IsR0FBWSxTQUFV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LEVBQUs4QixLQUFNLFVBQVd3SyxHQUFJYSxHQUFRckosS0FBTSxVQUNsRDlELEVBQUs4TixRQUFTLFVBQ2R2QixPQVNoQnhNLEdBQU15TixZQUFjLFdBQ2hCLE1BQU96QixJQUVYaE0sRUFBTTBOLE1BQVEsV0FDWmxCLEtBSUZHIiwiZmlsZSI6ImluZGV4Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuKCBmdW5jdGlvbigpIHtcblxuICAgICQoIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAkLmVhY2goICQoICcuc2l0ZV9pbmRleCAubG9nbycgKSwgZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgIG5ldyBTY3JvbGxUb3AgKCAkKCB0aGlzICkgKTtcblxuICAgICAgICB9ICk7XG5cbiAgICB9ICk7XG5cbiAgICB2YXIgU2Nyb2xsVG9wID0gZnVuY3Rpb24oIG9iaiApIHtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKHdpbmRvdyksXG4gICAgICAgICAgICBfZG9tID0gICQoICdodG1sLCBib2R5Jyk7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9hZGRFdmVudHMgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIF9vYmoub24oIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA+PSAxMDI0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2RvbS5zdG9wKCB0cnVlLCBmYWxzZSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9kb20uYW5pbWF0ZSggeyBzY3JvbGxUb3A6ICQoJy5zaXRlJykub2Zmc2V0KCkudG9wIC0gOTEgIH0sIDMwMCApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2RvbS5zdG9wKCB0cnVlLCBmYWxzZSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9kb20uYW5pbWF0ZSggeyBzY3JvbGxUb3A6ICQoJy5zaXRlJykub2Zmc2V0KCkudG9wIC0gNjQgIH0sIDMwMCApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBfb2JqWyAwIF0ub2JqID0gX3NlbGY7XG4gICAgICAgICAgICAgICAgX2FkZEV2ZW50cygpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbn0gKSgpOyIsIlwidXNlIHN0cmljdFwiO1xuKCBmdW5jdGlvbigpe1xuXG4gICAgdmFyIGdsb2JhbFNjcm9sbEZsYWcgPSB0cnVlO1xuXG4gICAgJCggZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIG5ldyBQcmVsb2FkZXIoICQoJy5wcmVsb2FkZXInKSApO1xuXG4gICAgICAgICQuZWFjaCggJCggJy5zaXRlX19oZWFkZXInICksIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICBuZXcgTWVudSAoICQoIHRoaXMgKSApO1xuXG4gICAgICAgIH0gKTtcblxuICAgICAgICAkLmVhY2goICQoJ1tkYXRhLWhyZWZdJyksIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgbmV3IFNjcm9sbFBhbmVsKCAkKHRoaXMpICk7XG5cbiAgICAgICAgfSApO1xuXG4gICAgICAgICQuZWFjaCggJCgnLnNsaWRlcycpLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIG5ldyBTbGlkZXMoICQodGhpcykgKTtcblxuICAgICAgICB9ICk7XG5cbiAgICAgICAgJC5lYWNoKCAkKCcuc2l0ZV9fY29udGVudC1mdWxsJyksIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgbmV3IEZ1bGxIZWlnaHQoICQodGhpcykgKTtcblxuICAgICAgICB9ICk7XG5cbiAgICB9ICk7XG5cbiAgICB2YXIgUHJlbG9hZGVyID0gZnVuY3Rpb24gKG9iaikge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfd2luZG93ID0gJCggd2luZG93ICksXG4gICAgICAgICAgICBfcHJlbG9hZGVyID0gb2JqLFxuICAgICAgICAgICAgX2JvZHkgPSAkKCdib2R5Jyk7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9hZGRFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfd2luZG93Lm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGxvYWQ6IGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9zaG93U2l0ZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF9ib2R5WzBdLnByZWxvYWRlciA9IF9zZWxmO1xuICAgICAgICAgICAgICAgIF9hZGRFdmVudHMoKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9zaG93U2l0ZSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgX3ByZWxvYWRlci5hZGRDbGFzcyggJ3ByZWxvYWRlcl9sb2FkZWQnICk7XG5cbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgIF9wcmVsb2FkZXIucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgICQoJy5zaXRlJykuYWRkQ2xhc3MoICdzaXRlX19sb2FkZWQnICk7XG5cbiAgICAgICAgICAgICAgICB9LDUwMCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIC8vcHVibGljIHByb3BlcnRpZXNcblxuICAgICAgICAvL3B1YmxpYyBtZXRob2RzXG5cblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbiAgICB2YXIgTWVudSA9IGZ1bmN0aW9uKCBvYmogKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfd2luZG93ID0gJCh3aW5kb3cpLFxuICAgICAgICAgICAgX2h0bWwgPSAkKCdodG1sJyksXG4gICAgICAgICAgICBfbWVudSA9IF9vYmouZmluZCgnLnNpdGVfX21lbnUnKSxcbiAgICAgICAgICAgIF9jb250ZW50ID0gJCgnLnNpdGVfX2NvbnRlbnQnKSxcbiAgICAgICAgICAgIF9hY3Rpb24gPSBmYWxzZSxcbiAgICAgICAgICAgIF9hY3Rpb24yID0gZmFsc2UsXG4gICAgICAgICAgICBfZmxhZ0hpZGUgPSB0cnVlLFxuICAgICAgICAgICAgbGFzdFNjcm9sbFRvcCA9IDAsXG4gICAgICAgICAgICBfc2hvd01lbnVCdG4gPSBfb2JqLmZpbmQoJy5zaXRlX19tZW51LWJ0bicpLFxuICAgICAgICAgICAgX2dsb2JhbFdpZHRoID0gMDtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuICAgICAgICAgICAgICAgICAgICBsb2FkOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9nbG9iYWxXaWR0aCA9IF93aW5kb3cud2lkdGgoKTtcblxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICByZXNpemU6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF9nbG9iYWxXaWR0aCAhPSBfd2luZG93LndpZHRoKCkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZ2xvYmFsV2lkdGggPSBfd2luZG93LndpZHRoKCkgKyAxO1xuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpID49IDEwMjQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX21lbnUuc2Nyb2xsVG9wKDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2xvc2VNZW51KCBfc2hvd01lbnVCdG4gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICdzY3JvbGwnOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9hY3Rpb24gPSBfd2luZG93LnNjcm9sbFRvcCgpID49IF9vYmouaW5uZXJIZWlnaHQoKSAqIDI7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LnNjcm9sbFRvcCgpID49IF9vYmouaW5uZXJIZWlnaHQoKSsgMjAgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggX2ZsYWdIaWRlICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9mbGFnSGlkZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb2JqLmFkZENsYXNzKCAnc2l0ZV9faGVhZGVyX2hpZGUnICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9mbGFnSGlkZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX29iai5yZW1vdmVDbGFzcyggJ3NpdGVfX2hlYWRlcl9oaWRlJyApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF9hY3Rpb24gKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggX29iai5oYXNDbGFzcyggJ3NpdGVfX2hlYWRlcl9oaWRlJyApICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb2JqLmFkZENsYXNzKCAnc2l0ZV9faGVhZGVyX2ZpeGVkJyApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX29iai5yZW1vdmVDbGFzcyggJ3NpdGVfX2hlYWRlcl9oaWRlJyApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDEwMCApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIF93aW5kb3cuc2Nyb2xsVG9wKCkgPD0gX29iai5pbm5lckhlaWdodCgpICogMyApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vYmoucmVtb3ZlQ2xhc3MoICdzaXRlX19oZWFkZXJfZml4ZWQnICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX29iai5yZW1vdmVDbGFzcyggJ3NpdGVfX2hlYWRlcl9oaWRkZW4nICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cuc2Nyb2xsVG9wKCkgPD0gMTAgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb2JqLnJlbW92ZUNsYXNzKCAnc2l0ZV9faGVhZGVyX2ZpeGVkJyApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vYmoucmVtb3ZlQ2xhc3MoICdzaXRlX19oZWFkZXJfaGlkZGVuJyApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgJ0RPTU1vdXNlU2Nyb2xsJzogZnVuY3Rpb24gKCBlICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGVsdGEgPSBlLm9yaWdpbmFsRXZlbnQuZGV0YWlsO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGRlbHRhICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpcmVjdGlvbiA9ICggZGVsdGEgPiAwICkgPyAxIDogLTE7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2hlY2tTY3JvbGwoIGRpcmVjdGlvbiApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggZGlyZWN0aW9uIDwgMCAgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYWN0aW9uMiA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYWN0aW9uMiA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMzAwIClcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgJ21vdXNld2hlZWwnOiBmdW5jdGlvbiAoIGUgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkZWx0YSA9IGUub3JpZ2luYWxFdmVudC53aGVlbERlbHRhO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGRlbHRhICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpcmVjdGlvbiA9ICggZGVsdGEgPiAwICkgPyAtMSA6IDE7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2hlY2tTY3JvbGwoIGRpcmVjdGlvbiApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggZGlyZWN0aW9uIDwgMCAgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYWN0aW9uMiA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYWN0aW9uMiA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMzAwIClcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICQod2luZG93KS5zY3JvbGwoZnVuY3Rpb24oZXZlbnQpe1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBzdCA9ICQodGhpcykuc2Nyb2xsVG9wKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0ID4gbGFzdFNjcm9sbFRvcCl7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9jaGVja1Njcm9sbCggMSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGlyZWN0aW9uID0gMVxuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9jaGVja1Njcm9sbCggLTEgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpcmVjdGlvbiA9IC0xXG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsYXN0U2Nyb2xsVG9wID0gc3Q7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCBkaXJlY3Rpb24gPCAwICApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2FjdGlvbjIgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2FjdGlvbjIgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMzAwIClcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBfc2hvd01lbnVCdG4ub24oIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggJCggdGhpcyApLmhhc0NsYXNzKCAnb3BlbmVkJyApICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Nsb3NlTWVudSggJCggdGhpcyApIClcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX29wZW5NZW51KCAkKCB0aGlzICkgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9jaGVja1Njcm9sbCA9IGZ1bmN0aW9uKCBkaXJlY3Rpb24gKSB7XG5cbiAgICAgICAgICAgICAgICBpZiggZGlyZWN0aW9uID4gMCAmJiAhX29iai5oYXNDbGFzcyggJ3NpdGVfX2hlYWRlcl9oaWRkZW4nICkgJiYgIV9zaG93TWVudUJ0bi5oYXNDbGFzcyggJ29wZW5lZCcgKSAmJiBfYWN0aW9uICYmICFfYWN0aW9uMiApe1xuXG4gICAgICAgICAgICAgICAgICAgIF9vYmouYWRkQ2xhc3MoICdzaXRlX19oZWFkZXJfaGlkZGVuJyApO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYoIGRpcmVjdGlvbiA8IDAgJiYgX29iai5oYXNDbGFzcyggJ3NpdGVfX2hlYWRlcl9oaWRkZW4nICkgJiYgIV9zaG93TWVudUJ0bi5oYXNDbGFzcyggJ29wZW5lZCcgKSAgJiYgX2FjdGlvbiAmJiBfYWN0aW9uMiAmJiBnbG9iYWxTY3JvbGxGbGFnICl7XG5cbiAgICAgICAgICAgICAgICAgICAgX29iai5yZW1vdmVDbGFzcygnc2l0ZV9faGVhZGVyX2hpZGRlbicpO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2Nsb3NlTWVudSA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXG4gICAgICAgICAgICAgICAgX2h0bWwuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgIG92ZXJmbG93WTogJ2F1dG8nXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgZWxlbS5yZW1vdmVDbGFzcyggJ29wZW5lZCcgKTtcbiAgICAgICAgICAgICAgICBfb2JqLnJlbW92ZUNsYXNzKCAnb3BlbmVkLW1lbnUnICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIF9vYmpbIDAgXS5vYmogPSBfc2VsZjtcbiAgICAgICAgICAgICAgICBfYWRkRXZlbnRzKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX29wZW5NZW51ID0gZnVuY3Rpb24oIGVsZW0gKSAge1xuXG4gICAgICAgICAgICAgICAgZWxlbS5hZGRDbGFzcyggJ29wZW5lZCcgKTtcbiAgICAgICAgICAgICAgICBfb2JqLmFkZENsYXNzKCAnb3BlbmVkLW1lbnUnICk7XG5cbiAgICAgICAgICAgICAgICBfaHRtbC5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3dZOiAnaGlkZGVuJ1xuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfTtcblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbiAgICB2YXIgU2Nyb2xsUGFuZWwgPSBmdW5jdGlvbiAoIG9iaiApIHtcblxuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF9saW5rcyA9IF9vYmosXG4gICAgICAgICAgICBfaHRtbCA9ICQoJ2h0bWwnKSxcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKHdpbmRvdyksXG4gICAgICAgICAgICBfZG9tID0gICQoICdodG1sLCBib2R5JyksXG4gICAgICAgICAgICBfaGVhZGVyID0gJCgnLnNpdGVfX2hlYWRlcicpLFxuICAgICAgICAgICAgX3BvcHVwID0gJCgnLnBvcHVwX19jb29raWVzLWluZm8nKTtcblxuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF93aW5kb3cub24oIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzaXplOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vX2NoYW5nZUFjdGl2ZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICdzY3JvbGwnOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vX2NoYW5nZUFjdGl2ZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICBfbGlua3Mub24oIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VySXRlbSA9ICQoIHRoaXMgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdDbGFzcyA9IGN1ckl0ZW0uYXR0cignZGF0YS1ocmVmJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dEl0ZW1Ub3AgPSAkKCAnLicgKyBuZXdDbGFzcyAgKS5vZmZzZXQoKS50b3AgLSBfaGVhZGVyLmlubmVySGVpZ2h0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9saW5rcy5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJJdGVtLmFkZENsYXNzKCdhY3RpdmUnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dEl0ZW1Ub3AgPSAkKCAnLicgKyBuZXdDbGFzcyAgKS5vZmZzZXQoKS50b3A7XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgX2RvbS5zdG9wKCB0cnVlLCBmYWxzZSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2RvbS5hbmltYXRlKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsVG9wOiBuZXh0SXRlbVRvcFxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDUwMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9ncmVzczogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbG9iYWxTY3JvbGxGbGFnID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9oZWFkZXIuYWRkQ2xhc3MoICdzaXRlX19oZWFkZXJfaGlkZGVuJyApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsb2JhbFNjcm9sbEZsYWcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMjAwICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbG9iYWxTY3JvbGxGbGFnID0gdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCA1MDAgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfaHRtbC5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdmVyZmxvd1k6ICdhdXRvJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfaGVhZGVyLmZpbmQoJy5zaXRlX19tZW51LWJ0bicpLnJlbW92ZUNsYXNzKCAnb3BlbmVkJyApO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2hlYWRlci5yZW1vdmVDbGFzcyggJ29wZW5lZC1tZW51JyApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9jaGFuZ2VBY3RpdmUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgc2Nyb2xsVG9wID0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpLFxuICAgICAgICAgICAgICAgICAgICBpdGVtID0gJCgnYm9keScpLmZpbmQoJ1tkYXRhLXNjcm9sbD1cInNjcm9sbFwiXScpLFxuICAgICAgICAgICAgICAgICAgICBpdGVtUG9zID0gaXRlbS5vZmZzZXQoKS50b3A7XG5cbiAgICAgICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgaXRlbS5sZW5ndGg7IGkrKyApIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgY3VyID0gJChpdGVtW2ldKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1DdXIgPSAkKGl0ZW1baV0pLm9mZnNldCgpLnRvcCAtIF9oZWFkZXIub3V0ZXJIZWlnaHQodHJ1ZSksXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtSGVpZ2h0ID0gJChpdGVtW2ldKS5vdXRlckhlaWdodCh0cnVlKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiggc2Nyb2xsVG9wID4gaXRlbUN1ciApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckNsYXNzID0gY3VyLmF0dHIoJ2NsYXNzJykuc3BsaXQoJyAnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJMaW5rID0gX2xpbmtzLmZpbHRlcihcIltkYXRhLWhyZWY9XCIrY3VyQ2xhc3NbMF0rXCJdXCIpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfbGlua3MucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VyTGluay5hZGRDbGFzcygnYWN0aXZlJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiggc2Nyb2xsVG9wID4gKCBpdGVtQ3VyICsgaXRlbUhlaWdodCApICl7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9saW5rcy5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIF9vYmpbMF0ub2JqID0gX3NlbGY7XG4gICAgICAgICAgICAgICAgX2FkZEV2ZW50cygpO1xuICAgICAgICAgICAgICAgIC8vX2NoYW5nZUFjdGl2ZSgpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbiAgICB2YXIgU2xpZGVzID0gZnVuY3Rpb24gKG9iaikge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX3dpbmRvdyA9ICQod2luZG93KTtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfd2luZG93Lm9uKHtcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfY2hlY2tTY3JvbGwoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9jaGVja1Njcm9sbCA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgdmFyIGN1clNjcm9sbCA9IF93aW5kb3cuc2Nyb2xsVG9wKCksXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvd0ggPSBfd2luZG93LmhlaWdodCgpLFxuICAgICAgICAgICAgICAgICAgICB0b3BQb3MgPSBfb2JqLm9mZnNldCgpLnRvcCxcbiAgICAgICAgICAgICAgICAgICAgdG9wSW5XaW5kb3cgPSB0b3BQb3MtY3VyU2Nyb2xsLFxuICAgICAgICAgICAgICAgICAgICB2aXNpYmxlUGVyY2VudCA9IDEtKHRvcEluV2luZG93L3dpbmRvd0gpO1xuXG4gICAgICAgICAgICAgICAgaWYoIHZpc2libGVQZXJjZW50ID4gLjUgKXtcbiAgICAgICAgICAgICAgICAgICAgaWYoICFfb2JqLmhhc0NsYXNzKCdzbGlkZXNfYWN0aXZlJykgKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9vYmouYWRkQ2xhc3MoJ3NsaWRlc19hY3RpdmUnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF9vYmpbMF0uc2xpZGVzID0gX3NlbGY7XG4gICAgICAgICAgICAgICAgX2FkZEV2ZW50cygpO1xuICAgICAgICAgICAgICAgIF9jaGVja1Njcm9sbCgpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAvL3B1YmxpYyBwcm9wZXJ0aWVzXG5cbiAgICAgICAgLy9wdWJsaWMgbWV0aG9kc1xuXG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG4gICAgdmFyIEZ1bGxIZWlnaHQgPSBmdW5jdGlvbiAob2JqKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfd2luZG93ID0gJCh3aW5kb3cpLFxuICAgICAgICAgICAgX2hlYWRlciA9ICQoJy5zaXRlX19oZWFkZXInKSxcbiAgICAgICAgICAgIF9nbG9iYWxXaWR0aCA9IDA7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9hZGRFdmVudHMgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIF93aW5kb3cub24oIHtcbiAgICAgICAgICAgICAgICAgICAgbG9hZDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfZ2xvYmFsV2lkdGggPSBfd2luZG93LndpZHRoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfc2V0SGVpZ2h0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcmVzaXplOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfZ2xvYmFsV2lkdGggIT0gX3dpbmRvdy53aWR0aCgpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2dsb2JhbFdpZHRoID0gX3dpbmRvdy53aWR0aCgpICsgMTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zZXRIZWlnaHQoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIF9vYmpbIDAgXS5vYmogPSBfc2VsZjtcbiAgICAgICAgICAgICAgICBfYWRkRXZlbnRzKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3NldEhlaWdodCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgdmFyIGhlaWdodCA9IF93aW5kb3cuaGVpZ2h0KCk7XG5cbiAgICAgICAgICAgICAgICBfb2JqLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAnbWluLWhlaWdodCc6IGhlaWdodCAtIF9oZWFkZXIuaW5uZXJIZWlnaHQoKSAtICQoJy5zaXRlX19tYWluLXRpdGxlJykub3V0ZXJIZWlnaHQodHJ1ZSlcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBpZiggX29iai5maW5kKCcuY29udGFjdC11cycpLmxlbmd0aCApIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpID49IDEwMjQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9vYmouY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21pbi1oZWlnaHQnOiAnJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9vYmouY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21pbi1oZWlnaHQnOiBoZWlnaHQgLSBfaGVhZGVyLmlubmVySGVpZ2h0KCkgLSAkKCcuc2l0ZV9fbWFpbi10aXRsZScpLm91dGVySGVpZ2h0KHRydWUpXG4gICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICBfb2JqLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ21pbi1oZWlnaHQnOiBoZWlnaHQgLSBfaGVhZGVyLmlubmVySGVpZ2h0KCkgLSAkKCcuc2l0ZV9fbWFpbi10aXRsZScpLm91dGVySGVpZ2h0KHRydWUpXG4gICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfTtcblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbn0gKSgpOyIsIlwidXNlIHN0cmljdFwiO1xuKCBmdW5jdGlvbigpe1xuXG4gICAgJCggZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICQuZWFjaCggJCggJy5oZXJvJyApLCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgbmV3IEhlcm8gKCAkKCB0aGlzICkgKTtcblxuICAgICAgICB9ICk7XG5cbiAgICB9ICk7XG5cbiAgICB2YXIgSGVybyA9IGZ1bmN0aW9uKCBvYmogKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfd2luZG93ID0gJCh3aW5kb3cpLFxuICAgICAgICAgICAgX2hlYWRlciA9ICQoJy5zaXRlX19oZWFkZXInKSxcbiAgICAgICAgICAgIF9nbG9iYWxXaWR0aCA9IDAsXG4gICAgICAgICAgICBfc2xpY2tTbGlkZXIgPSBudWxsLFxuICAgICAgICAgICAgX2RvbSA9ICAkKCAnaHRtbCwgYm9keScpLFxuICAgICAgICAgICAgX2J0bkRvd24gPSBfb2JqLmZpbmQoJy5oZXJvX19kb3duJyk7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9hZGRFdmVudHMgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIF93aW5kb3cub24oIHtcbiAgICAgICAgICAgICAgICAgICAgbG9hZDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfZ2xvYmFsV2lkdGggPSBfd2luZG93LndpZHRoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfc2V0SGVpZ2h0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcmVzaXplOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfZ2xvYmFsV2lkdGggIT0gX3dpbmRvdy53aWR0aCgpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2dsb2JhbFdpZHRoID0gX3dpbmRvdy53aWR0aCgpICsgMTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zZXRIZWlnaHQoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgX2J0bkRvd24ub24oIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA+PSAxMDI0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2RvbS5zdG9wKCB0cnVlLCBmYWxzZSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9kb20uYW5pbWF0ZSggeyBzY3JvbGxUb3A6ICQoJy5vdXItY29va2llcycpLm9mZnNldCgpLnRvcCAtIDkxICB9LCAzMDAgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9kb20uc3RvcCggdHJ1ZSwgZmFsc2UgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZG9tLmFuaW1hdGUoIHsgc2Nyb2xsVG9wOiAkKCcub3VyLWNvb2tpZXMnKS5vZmZzZXQoKS50b3AgLSA2NCAgfSwgMzAwICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgX29ialsgMCBdLm9iaiA9IF9zZWxmO1xuICAgICAgICAgICAgICAgIF9hZGRFdmVudHMoKTtcbiAgICAgICAgICAgICAgICBfaW5pdFNsaWNrKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXRTbGljayA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgX3NsaWNrU2xpZGVyID0gX29iai5maW5kKCcuc2xpY2stY29udGFpbmVyJykuc2xpY2soIHtcbiAgICAgICAgICAgICAgICAgICAgZG90czogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgYXV0b3BsYXk6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGF1dG9wbGF5U3BlZWQ6IDUwMDAsXG4gICAgICAgICAgICAgICAgICAgIGFycm93czogZmFsc2VcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfc2V0SGVpZ2h0ID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgaGVpZ2h0ID0gX3dpbmRvdy5oZWlnaHQoKTtcblxuICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPj0gMTAyNCApIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiggKCBoZWlnaHQgLSBfaGVhZGVyLmlubmVySGVpZ2h0KCkgKSA+IHBhcnNlSW50KCBfb2JqLmNzcygnbWluLWhlaWdodCcpICkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9vYmouZmluZCgnLnNsaWNrLWxpc3QnKS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGhlaWdodCAtIF9oZWFkZXIuaW5uZXJIZWlnaHQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9vYmouZmluZCgnLnNsaWNrLWxpc3QnKS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IHBhcnNlSW50KCBfb2JqLmNzcygnbWluLWhlaWdodCcpIClcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cblxuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiggaGVpZ2h0ID4gcGFyc2VJbnQoIF9vYmouY3NzKCdtaW4taGVpZ2h0JykgKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX29iai5maW5kKCcuc2xpY2stbGlzdCcpLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0XG4gICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX29iai5maW5kKCcuc2xpY2stbGlzdCcpLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogcGFyc2VJbnQoIF9vYmouY3NzKCdtaW4taGVpZ2h0JykgKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfTtcblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbn0gKSgpOyIsIlwidXNlIHN0cmljdFwiO1xuKCBmdW5jdGlvbigpe1xuXG4gICAgJCggZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICQuZWFjaCggJCggJy5vdXItY29va2llcycgKSwgZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgIG5ldyBPdXJDb29raWVzU2xpZGVyICggJCggdGhpcyApICk7XG5cbiAgICAgICAgfSApO1xuXG4gICAgfSApO1xuXG4gICAgdmFyIE91ckNvb2tpZXNTbGlkZXIgPSBmdW5jdGlvbiggb2JqICkge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIF9vYmpbIDAgXS5vYmogPSBfc2VsZjtcbiAgICAgICAgICAgICAgICBfaW5pdFNsaWNrKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXRTbGljayA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgX29iai5maW5kKCcuc2xpY2stY29udGFpbmVyJykuc2xpY2soIHtcbiAgICAgICAgICAgICAgICAgICAgZG90czogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgYXV0b3BsYXk6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGF1dG9wbGF5U3BlZWQ6IDUwMDBcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG59ICkoKTsiLCJcInVzZSBzdHJpY3RcIjtcbiggZnVuY3Rpb24oKXtcblxuICAgICQoIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAkLmVhY2goICQoICcucmVhbC1zdHVmZicgKSwgZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgIG5ldyBSZWFsU3R1ZmZCdG5TaG93ICggJCggdGhpcyApICk7XG5cbiAgICAgICAgfSApO1xuXG4gICAgICAgICQuZWFjaCggJCggJy5yZWFsLXN0dWZmX19wcm9kdWN0cycgKSwgZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgIG5ldyBSZWFsU3R1ZmZJbmdyZWRpZW50c1Nob3cgKCAkKCB0aGlzICkgKTtcblxuICAgICAgICB9ICk7XG5cbiAgICB9ICk7XG5cbiAgICB2YXIgUmVhbFN0dWZmQnRuU2hvdyA9IGZ1bmN0aW9uKCBvYmogKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfd2luZG93ID0gJCh3aW5kb3cpLFxuICAgICAgICAgICAgX2dsb2JhbFdpZHRoID0gMCxcbiAgICAgICAgICAgIF9pbmdyZWRpZW50c0xpc3QgPSBfb2JqLmZpbmQoJy5yZWFsLXN0dWZmX19pbmdyZWRpZW50cy1saXN0JyksXG4gICAgICAgICAgICBfZG9tID0gICQoICdodG1sLCBib2R5JyksXG4gICAgICAgICAgICBfc2hvd01vcmVCdG4gPSBfb2JqLmZpbmQoJy5idG4nKTtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuICAgICAgICAgICAgICAgICAgICBsb2FkOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9nbG9iYWxXaWR0aCA9IF93aW5kb3cud2lkdGgoKTtcblxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICByZXNpemU6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF9nbG9iYWxXaWR0aCAhPSBfd2luZG93LndpZHRoKCkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZ2xvYmFsV2lkdGggPSBfd2luZG93LndpZHRoKCkgKyAxO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Nsb3NlTGlzdCggX3Nob3dNb3JlQnRuLCBfc2hvd01vcmVCdG4uZGF0YSgnY2xvc2UnKSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICBfc2hvd01vcmVCdG4ub24oIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VySXRlbSA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VySXRlbVRleHRPcGVuID0gY3VySXRlbS5kYXRhKCdvcGVuJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VySXRlbVRleHRDbG9zZSA9IGN1ckl0ZW0uZGF0YSgnY2xvc2UnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIGN1ckl0ZW0uaGFzQ2xhc3MoJ29wZW5lZCcpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Nsb3NlTGlzdCggY3VySXRlbSxjdXJJdGVtVGV4dENsb3NlICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb3Blbkxpc3QoIGN1ckl0ZW0sY3VySXRlbVRleHRPcGVuIClcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9jbG9zZUxpc3QgPSBmdW5jdGlvbiggZWxlbSwgdGV4dCApIHtcblxuICAgICAgICAgICAgICAgIGVsZW0ucmVtb3ZlQ2xhc3MoJ29wZW5lZCcpO1xuICAgICAgICAgICAgICAgIGVsZW0udGV4dCh0ZXh0KTtcbiAgICAgICAgICAgICAgICBfaW5ncmVkaWVudHNMaXN0LmNzcygge1xuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDBcbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgX2RvbS5zdG9wKCB0cnVlLCBmYWxzZSApO1xuICAgICAgICAgICAgICAgIF9kb20uYW5pbWF0ZSggeyBzY3JvbGxUb3A6ICQoJy5yZWFsLXN0dWZmJykub2Zmc2V0KCkudG9wIC0gNDAgLSAkKCcuc2l0ZV9faGVhZGVyJykuaW5uZXJIZWlnaHQoKSAgfSwgMzAwICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfb3Blbkxpc3QgPSBmdW5jdGlvbiggZWxlbSwgdGV4dCApIHtcblxuICAgICAgICAgICAgICAgIGVsZW0uYWRkQ2xhc3MoJ29wZW5lZCcpO1xuICAgICAgICAgICAgICAgIGVsZW0udGV4dCh0ZXh0KTtcbiAgICAgICAgICAgICAgICBfaW5ncmVkaWVudHNMaXN0LmNzcygge1xuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IF9pbmdyZWRpZW50c0xpc3QuZmluZCgnPmRpdicpLmlubmVySGVpZ2h0KClcbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgX2RvbS5zdG9wKCB0cnVlLCBmYWxzZSApO1xuICAgICAgICAgICAgICAgIF9kb20uYW5pbWF0ZSggeyBzY3JvbGxUb3A6IF9pbmdyZWRpZW50c0xpc3Qub2Zmc2V0KCkudG9wIC0gNDAgLSAkKCcuc2l0ZV9faGVhZGVyJykuaW5uZXJIZWlnaHQoKSAgfSwgMzAwICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIF9vYmpbIDAgXS5vYmogPSBfc2VsZjtcbiAgICAgICAgICAgICAgICBfYWRkRXZlbnRzKCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBSZWFsU3R1ZmZJbmdyZWRpZW50c1Nob3cgPSBmdW5jdGlvbiggb2JqICkge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX2hlYWRlciA9ICQoICcuc2l0ZV9faGVhZGVyJyksXG4gICAgICAgICAgICBfc3RlcDEgPSAxNSxcbiAgICAgICAgICAgIF9zdGVwMiA9IDIsXG4gICAgICAgICAgICBfc3RlcDMgPSA1LFxuICAgICAgICAgICAgX3N0ZXA0ID0gNixcbiAgICAgICAgICAgIF9zdGVwNSA9IDcsXG4gICAgICAgICAgICBfd2luZG93ID0gJCh3aW5kb3cpLFxuICAgICAgICAgICAgX2dsb2JhbFdpZHRoID0gMCxcbiAgICAgICAgICAgIF9kb20gPSAgJCggJ2h0bWwsIGJvZHknKSxcbiAgICAgICAgICAgIF9pbmdyZWRpZW50c0NvbnRlbnQgPSBfb2JqLmZpbmQoJy5yZWFsLXN0dWZmX19kZXNjcmlwdGlvbi1jb250ZW50JyksXG4gICAgICAgICAgICBfaW5ncmVkaWVudHNCdG5TaG93ID0gX29iai5maW5kKCcucmVhbC1zdHVmZl9fZGVzY3JpcHRpb24tYnRuJyk7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9hZGRFdmVudHMgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIF9pbmdyZWRpZW50c0J0blNob3cub24oIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpID49IDEwMjQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VySXRlbSA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRDb250ZW50ID0gY3VySXRlbS5uZXh0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudCA9IGN1ckl0ZW0ucGFyZW50KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggY3VySXRlbS5oYXNDbGFzcygnb3BlbmVkJykgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Nsb3NlQ29udGVudChjdXJJdGVtLCBwYXJlbnQsIG5leHRDb250ZW50KTtcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb3BlbkNvbnRlbnQoY3VySXRlbSwgcGFyZW50LCBuZXh0Q29udGVudCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuXG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICBfd2luZG93Lm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGxvYWQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2dsb2JhbFdpZHRoID0gX3dpbmRvdy53aWR0aCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZTogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpID49IDEwMjQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2V0UG9zKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggX2dsb2JhbFdpZHRoICE9IF93aW5kb3cud2lkdGgoKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZ2xvYmFsV2lkdGggPSBfd2luZG93LndpZHRoKCkgKyAxO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jbG9zZUNvbnRlbnQoIF9pbmdyZWRpZW50c0J0blNob3csIF9vYmosIF9pbmdyZWRpZW50c0NvbnRlbnQgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgJChkb2N1bWVudCkub24oXG4gICAgICAgICAgICAgICAgICAgIFwiY2xpY2tcIixcbiAgICAgICAgICAgICAgICAgICAgXCIucmVhbC1zdHVmZl9fZGVzY3JpcHRpb24tY29udGVudFwiLFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiggZXZlbnQgKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50ID0gZXZlbnQgfHwgd2luZG93LmV2ZW50O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQuc3RvcFByb3BhZ2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LmNhbmNlbEJ1YmJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKFxuICAgICAgICAgICAgICAgICAgICBcImNsaWNrXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiYm9keVwiLFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpe1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfY2xvc2VDb250ZW50KCBfaW5ncmVkaWVudHNCdG5TaG93LCBfb2JqLCBfaW5ncmVkaWVudHNDb250ZW50ICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcucmVhbC1zdHVmZl9fZGVzY3JpcHRpb24nKS5yZW1vdmVDbGFzcygnb3BlbmVkJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgJChkb2N1bWVudCkub24oXG4gICAgICAgICAgICAgICAgICAgICdtb3VzZW1vdmUnLFxuICAgICAgICAgICAgICAgICAgICAnYm9keScsXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCBlICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBlID0gZSB8fCB3aW5kb3cuZXZlbnQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzbGlkZSA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2ltZzEgPSBzbGlkZS5maW5kKCcucmVhbC1zdHVmZl9fcHJvZHVjdHMtaW1nJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2ltZzIgPSBzbGlkZS5maW5kKCcucmVhbC1zdHVmZl9fZGVzY3JpcHRpb25fMTpub3QoLm9wZW5lZCknKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaW1nMyA9IHNsaWRlLmZpbmQoJy5yZWFsLXN0dWZmX19kZXNjcmlwdGlvbl8yOm5vdCgub3BlbmVkKScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pbWc0ID0gc2xpZGUuZmluZCgnLnJlYWwtc3R1ZmZfX2Rlc2NyaXB0aW9uXzM6bm90KC5vcGVuZWQpJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2ltZzUgPSBzbGlkZS5maW5kKCcucmVhbC1zdHVmZl9fZGVzY3JpcHRpb25fNDpub3QoLm9wZW5lZCknKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaW1nNiA9IHNsaWRlLmZpbmQoJy5yZWFsLXN0dWZmX19kZXNjcmlwdGlvbl81Om5vdCgub3BlbmVkKScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pbWc3ID0gc2xpZGUuZmluZCgnLnJlYWwtc3R1ZmZfX2Rlc2NyaXB0aW9uXzY6bm90KC5vcGVuZWQpJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggX3dpbmRvdy53aWR0aCgpID4gMTAyNCAmJiAhKCBfaGVhZGVyLmhhc0NsYXNzKCdvcGVuZWQnKSApICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhZ2VYID0gZS5jbGllbnRYLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdlWSA9IGUuY2xpZW50WSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFsZldpZHRoID0gX29iai53aWR0aCgpIC8gMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFsZkhlaWdodCA9IF9vYmouaGVpZ2h0KCkgLyAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZXJjZW50RnJvbUNlbnRlclggPSAoIHBhZ2VYIC0gaGFsZldpZHRoICkgLyBoYWxmV2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlcmNlbnRGcm9tQ2VudGVyWSA9ICggcGFnZVkgLSBoYWxmSGVpZ2h0ICkgLyBoYWxmSGVpZ2h0O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF93aW5kb3cub3V0ZXJXaWR0aCgpID4gMTAyNCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vX21vdmVUb3AoIHBlcmNlbnRGcm9tQ2VudGVyWCwgcGVyY2VudEZyb21DZW50ZXJZLCBfc3RlcDIsIF9pbWcxICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9tb3ZlVG9wKHBlcmNlbnRGcm9tQ2VudGVyWCwgcGVyY2VudEZyb21DZW50ZXJZLCBfc3RlcDMsIF9pbWcyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX21vdmVCb3R0b20ocGVyY2VudEZyb21DZW50ZXJYLCBwZXJjZW50RnJvbUNlbnRlclksIF9zdGVwNCwgX2ltZzMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbW92ZVRvcChwZXJjZW50RnJvbUNlbnRlclgsIHBlcmNlbnRGcm9tQ2VudGVyWSwgX3N0ZXA1LCBfaW1nNCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9tb3ZlQm90dG9tKHBlcmNlbnRGcm9tQ2VudGVyWCwgcGVyY2VudEZyb21DZW50ZXJZLCBfc3RlcDMsIF9pbWc1KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX21vdmVCb3R0b20ocGVyY2VudEZyb21DZW50ZXJYLCBwZXJjZW50RnJvbUNlbnRlclksIF9zdGVwMSwgX2ltZzYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbW92ZUJvdHRvbShwZXJjZW50RnJvbUNlbnRlclgsIHBlcmNlbnRGcm9tQ2VudGVyWSwgX3N0ZXA1LCBfaW1nNyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9jbG9zZUNvbnRlbnQgPSBmdW5jdGlvbiggY3VySXRlbSwgcGFyZW50LCBuZXh0Q29udGVudCApIHtcblxuICAgICAgICAgICAgICAgIGN1ckl0ZW0ucmVtb3ZlQ2xhc3MoJ29wZW5lZCcpO1xuICAgICAgICAgICAgICAgIHBhcmVudC5yZW1vdmVDbGFzcygnb3BlbmVkJyk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfb3BlbkNvbnRlbnQgPSBmdW5jdGlvbiggY3VySXRlbSwgcGFyZW50LCBuZXh0Q29udGVudCApIHtcblxuICAgICAgICAgICAgICAgIF9pbmdyZWRpZW50c0J0blNob3cucmVtb3ZlQ2xhc3MoJ29wZW5lZCcpO1xuICAgICAgICAgICAgICAgICQoJy5yZWFsLXN0dWZmX19kZXNjcmlwdGlvbicpLnJlbW92ZUNsYXNzKCdvcGVuZWQnKTtcblxuICAgICAgICAgICAgICAgIGN1ckl0ZW0uYWRkQ2xhc3MoJ29wZW5lZCcpO1xuICAgICAgICAgICAgICAgIHBhcmVudC5hZGRDbGFzcygnb3BlbmVkJyk7XG5cbiAgICAgICAgICAgICAgICBfZG9tLnN0b3AoIHRydWUsIGZhbHNlICk7XG4gICAgICAgICAgICAgICAgX2RvbS5hbmltYXRlKCB7IHNjcm9sbFRvcDogbmV4dENvbnRlbnQub2Zmc2V0KCkudG9wIC0gNDAgLSAkKCcuc2l0ZV9faGVhZGVyJykuaW5uZXJIZWlnaHQoKSAgfSwgMzAwICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfc2V0UG9zID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBfaW5ncmVkaWVudHNDb250ZW50LmVhY2goIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJJdGVtID0gJCh0aGlzKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiggY3VySXRlbS5vZmZzZXQoKS5sZWZ0ICsgY3VySXRlbS5pbm5lcldpZHRoKCkgPj0gX3dpbmRvdy53aWR0aCgpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJJdGVtLmFkZENsYXNzKCdyaWdodF9wb3MnKTtcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJJdGVtLnJlbW92ZUNsYXNzKCdyaWdodF9wb3MnKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoIGN1ckl0ZW0ub2Zmc2V0KCkubGVmdCA8PSAwICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJJdGVtLmFkZENsYXNzKCdsZWZ0X3BvcycpO1xuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ckl0ZW0ucmVtb3ZlQ2xhc3MoJ2xlZnRfcG9zJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX21vdmVCb3R0b20gPSBmdW5jdGlvbiggeFBlcmNlbnQsIHlQZXJjZW50LCBzdGVwLCBpbWFnZSApIHtcblxuICAgICAgICAgICAgICAgIGltYWdlLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAnLXdlYmtpdC10cmFuc2Zvcm0nOiAndHJhbnNsYXRlKCAnICsgLSggeFBlcmNlbnQgKiBzdGVwICkgKyAncHgsJyArIC0oIHlQZXJjZW50ICogc3RlcCApICsgJ3B4ICknLFxuICAgICAgICAgICAgICAgICAgICAndHJhbnNmb3JtJzogJ3RyYW5zbGF0ZSggJyArIC0oIHhQZXJjZW50ICogc3RlcCApICsgJ3B4LCAnICsgLSggeVBlcmNlbnQgKiBzdGVwICkgKyAncHggICknXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX21vdmVUb3AgPSBmdW5jdGlvbiggeFBlcmNlbnQsIHlQZXJjZW50LCBzdGVwLCBpbWFnZSApIHtcblxuICAgICAgICAgICAgICAgIGltYWdlLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAnLXdlYmtpdC10cmFuc2Zvcm0nOiAndHJhbnNsYXRlKCAnICsgKCB4UGVyY2VudCAqIHN0ZXAgKSArICdweCAsJyArICggeVBlcmNlbnQgKiBzdGVwICkgKyAncHggICknLFxuICAgICAgICAgICAgICAgICAgICAndHJhbnNmb3JtJzogJ3RyYW5zbGF0ZSggJyArICggeFBlcmNlbnQgKiBzdGVwICkgKyAncHggLCAnICsgKCB5UGVyY2VudCAqIHN0ZXAgKSArICdweCAgKSdcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIF9vYmpbIDAgXS5vYmogPSBfc2VsZjtcbiAgICAgICAgICAgICAgICBfYWRkRXZlbnRzKCk7XG4gICAgICAgICAgICAgICAgX3NldFBvcygpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbn0gKSgpOyIsIlwidXNlIHN0cmljdFwiO1xuKCBmdW5jdGlvbigpe1xuXG4gICAgJCggZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICQuZWFjaCggJCgnLmNvb2tpZXMtaW5mb19idG4nKSwgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBuZXcgSW5mb0Nvb2tpZXNQb3B1cCggJCh0aGlzKSApO1xuXG4gICAgICAgIH0gKTtcblxuICAgIH0gKTtcblxuICAgIHZhciBJbmZvQ29va2llc1BvcHVwID0gZnVuY3Rpb24gKCBvYmogKSB7XG5cbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfd2luZG93ID0gJCggd2luZG93KSxcbiAgICAgICAgICAgIF9wb3B1cCA9ICQoJy5wb3B1cF9fY29va2llcy1pbmZvJyk7XG5cbiAgICAgICAgdmFyIF9hZGRFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfd2luZG93Lm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZTogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPCAxMDI0ICkge1xuXG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBfb2JqLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA8IDEwMjQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2lySXRlbSA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlID0gY2lySXRlbS5maW5kKCcuY29va2llcy1pbmZvX190aXRsZScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50ID0gY2lySXRlbS5maW5kKCcuY29va2llcy1pbmZvX190ZXh0Jyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcG9wdXAuZmluZCgnLnNpdGVfX21haW4tdGl0bGUnKS5odG1sKCB0aXRsZS5odG1sKCkgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcG9wdXAuZmluZCgnLmNvb2tpZXMtaW5mb19fZGVzY3JpcHRpb24nKS5odG1sKCBjb250ZW50Lmh0bWwoKSApXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBfb2JqWzBdLm9iaiA9IF9zZWxmO1xuICAgICAgICAgICAgICAgIF9hZGRFdmVudHMoKTtcblxuICAgICAgICAgICAgfTtcblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbn0gKSgpOyIsIlwidXNlIHN0cmljdFwiO1xuKCBmdW5jdGlvbigpe1xuXG4gICAgJCggZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICQuZWFjaCggJCgnLnByb2R1Y3RzLWNvb2tpZXNfX2l0ZW1zJyksIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgbmV3IFByb2R1Y3RzQ29va2llc1NsaWRlciggJCh0aGlzKSApO1xuXG4gICAgICAgIH0gKTtcblxuICAgICAgICAkLmVhY2goICQoICcuc2hvcCcgKSwgZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgIG5ldyBTaG9wSGVpZ2h0ICggJCggdGhpcyApICk7XG5cbiAgICAgICAgfSApO1xuXG4gICAgfSApO1xuXG4gICAgdmFyIFByb2R1Y3RzQ29va2llc1NsaWRlciA9IGZ1bmN0aW9uICggb2JqICkge1xuXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX3dpbmRvdyA9ICQoIHdpbmRvdyApLFxuICAgICAgICAgICAgX3NsaWNrSW5pdCA9IGZhbHNlLFxuICAgICAgICAgICAgX3NsaWNrU2xpZGVyO1xuXG4gICAgICAgIHZhciBfYWRkRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuICAgICAgICAgICAgICAgICAgICByZXNpemU6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpIDwgNzY4ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoICFfc2xpY2tJbml0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pbml0U2xpY2soKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3NsaWNrSW5pdCA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfc2xpY2tJbml0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9kZXN0cm95U2xpY2soKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3NsaWNrSW5pdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0U2xpY2sgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIF9zbGlja1NsaWRlciA9IF9vYmouZmluZCgnLnNsaWNrLWNvbnRhaW5lcicpLnNsaWNrKCB7XG4gICAgICAgICAgICAgICAgICAgIGRvdHM6IGZhbHNlXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2Rlc3Ryb3lTbGljayA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgX3NsaWNrU2xpZGVyLnNsaWNrKCd1bnNsaWNrJyk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIF9vYmpbMF0ub2JqID0gX3NlbGY7XG4gICAgICAgICAgICAgICAgX2FkZEV2ZW50cygpO1xuXG4gICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA8IDc2OCApIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiggIV9zbGlja0luaXQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9pbml0U2xpY2soKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9zbGlja0luaXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG4gICAgdmFyIFNob3BIZWlnaHQgPSBmdW5jdGlvbiggb2JqICkge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX3dpbmRvdyA9ICQod2luZG93KSxcbiAgICAgICAgICAgIF9oZWFkZXIgPSAkKCcuc2l0ZV9faGVhZGVyJyksXG4gICAgICAgICAgICBfZ2xvYmFsV2lkdGggPSAwO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfYWRkRXZlbnRzID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBfd2luZG93Lm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGxvYWQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2dsb2JhbFdpZHRoID0gX3dpbmRvdy53aWR0aCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3NldEhlaWdodCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZTogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX2dsb2JhbFdpZHRoICE9IF93aW5kb3cud2lkdGgoKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9nbG9iYWxXaWR0aCA9IF93aW5kb3cud2lkdGgoKSArIDE7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2V0SGVpZ2h0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBfb2JqWyAwIF0ub2JqID0gX3NlbGY7XG4gICAgICAgICAgICAgICAgX2FkZEV2ZW50cygpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9zZXRIZWlnaHQgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIHZhciBoZWlnaHQgPSBfd2luZG93LmhlaWdodCgpO1xuXG4gICAgICAgICAgICAgICAgX29iai5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgJ21pbi1oZWlnaHQnOiBoZWlnaHQgLSBfaGVhZGVyLmlubmVySGVpZ2h0KCkgLSBwYXJzZUludCggX29iai5jc3MoJ3BhZGRpbmctYm90dG9tJykgKSAtIHBhcnNlSW50KCBfb2JqLmNzcygncGFkZGluZy10b3AnKSApIC0gJCgnLnNpdGVfX21haW4tdGl0bGUnKS5vdXRlckhlaWdodCh0cnVlKVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfTtcblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbn0gKSgpOyIsIiggZnVuY3Rpb24oKXtcblxuICAgICQoIGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgJCggJy5wb3B1cCcgKS5lYWNoKGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgICAgIG5ldyBQb3B1cCgkKHRoaXMpKTtcblxuICAgICAgICB9KTtcblxuICAgIH0pO1xuXG4gICAgdmFyIFBvcHVwID0gZnVuY3Rpb24oIG9iaiApe1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfcG9wdXBQYWRkaW5nID0gNDAsXG4gICAgICAgICAgICBfYnRuU2hvdyA9ICAkKCAnLnBvcHVwX19vcGVuJyApLFxuICAgICAgICAgICAgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF9idG5DbG9zZSA9IF9vYmouZmluZCggJy5wb3B1cF9fY2xvc2UsIC5wb3B1cF9fY2FuY2VsJyApLFxuICAgICAgICAgICAgX3dyYXAgPSBfb2JqLmZpbmQoICcucG9wdXBfX3dyYXAnICksXG4gICAgICAgICAgICBfY29udGVudHMgPSBfb2JqLmZpbmQoICcucG9wdXBfX2NvbnRlbnQnICksXG4gICAgICAgICAgICBfc2Nyb2xsQ29udGVpbmVyID0gJCggJ2h0bWwnICksXG4gICAgICAgICAgICBfd2luZG93ID0gJCggd2luZG93ICksXG4gICAgICAgICAgICBfZ2xvYmFsV2lkdGgsXG4gICAgICAgICAgICBfdGltZXIgPSBzZXRUaW1lb3V0KCBmdW5jdGlvbigpe30sIDEgKTtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX2NlbnRlcldyYXAgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIGlmICggX3dpbmRvdy5oZWlnaHQoKSAtICggX3BvcHVwUGFkZGluZyAqIDIgKSAtIF93cmFwLmhlaWdodCgpID4gMCApIHtcbiAgICAgICAgICAgICAgICAgICAgX3dyYXAuY3NzKCB7IHRvcDogKCAoIF93aW5kb3cuaGVpZ2h0KCkgLSAoIF9wb3B1cFBhZGRpbmcgKiAyICkgKSAtIF93cmFwLmhlaWdodCgpICkgLyAyIH0gKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBfd3JhcC5jc3MoIHsgdG9wOiAwIH0gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2dldFNjcm9sbFdpZHRoID0gZnVuY3Rpb24gKCl7XG4gICAgICAgICAgICAgICAgdmFyIHNjcm9sbERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdkaXYnKSxcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsQmFyV2lkdGg7XG5cbiAgICAgICAgICAgICAgICBzY3JvbGxEaXYuY2xhc3NOYW1lID0gJ3BvcHVwX19zY3JvbGxiYXItbWVhc3VyZSc7XG5cbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKCBzY3JvbGxEaXYgKTtcblxuICAgICAgICAgICAgICAgIHNjcm9sbEJhcldpZHRoID0gc2Nyb2xsRGl2Lm9mZnNldFdpZHRoIC0gc2Nyb2xsRGl2LmNsaWVudFdpZHRoO1xuXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChzY3JvbGxEaXYpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNjcm9sbEJhcldpZHRoO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9oaWRlID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBfb2JqLmNzcygge1xuICAgICAgICAgICAgICAgICAgICBvdmVyZmxvd1k6ICdoaWRkZW4nXG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgIF9zY3JvbGxDb250ZWluZXIuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgIG92ZXJmbG93WTogJ2F1dG8nLFxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nUmlnaHQ6IDBcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBfb2JqLnJlbW92ZUNsYXNzKCAncG9wdXBfb3BlbmVkJyApO1xuICAgICAgICAgICAgICAgIF9vYmouYWRkQ2xhc3MoICdwb3B1cF9oaWRlJyApO1xuXG4gICAgICAgICAgICAgICAgX3RpbWVyID0gc2V0VGltZW91dCggZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgICAgICAgICBfb2JqLmNzcyAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3dZOiAnc2Nyb2xsJ1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBfb2JqLnJlbW92ZUNsYXNzKCAncG9wdXBfaGlkZScgKTtcbiAgICAgICAgICAgICAgICB9LCAzMDAgKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBfb2JqWyAwIF0ub2JqID0gX3NlbGY7XG4gICAgICAgICAgICAgICAgX29uRXZlbnRzKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX29uRXZlbnRzID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBfd2luZG93Lm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGxvYWQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2dsb2JhbFdpZHRoID0gX3dpbmRvdy53aWR0aCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZTogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jZW50ZXJXcmFwKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPj0gMTAyNCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfZ2xvYmFsV2lkdGggIT0gX3dpbmRvdy53aWR0aCgpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9nbG9iYWxXaWR0aCA9IF93aW5kb3cud2lkdGgoKSArIDE7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2hpZGUoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgX2J0blNob3cub24oIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAkKHRoaXMpLmhhc0NsYXNzKCdjb29raWVzLWluZm9fYnRuJykgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpIDwgMTAyNCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2hvdyggJCggdGhpcyApLmF0dHIoICdkYXRhLXBvcHVwJyApICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zaG93KCAkKCB0aGlzICkuYXR0ciggJ2RhdGEtcG9wdXAnICkgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgIF93cmFwLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiggZSApe1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICBfb2JqLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgX2hpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICBfYnRuQ2xvc2Uub24oIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9zaG93ID0gZnVuY3Rpb24oIGNsYXNzTmFtZSApe1xuICAgICAgICAgICAgICAgIF9zZXRQb3B1cENvbnRlbnQoIGNsYXNzTmFtZSApO1xuXG4gICAgICAgICAgICAgICAgX3Njcm9sbENvbnRlaW5lci5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3dZOiAnaGlkZGVuJyxcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZ1JpZ2h0OiBfZ2V0U2Nyb2xsV2lkdGgoKVxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICBfb2JqLmFkZENsYXNzKCAncG9wdXBfb3BlbmVkJyApO1xuICAgICAgICAgICAgICAgIF9jZW50ZXJXcmFwKCk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfc2V0UG9wdXBDb250ZW50ID0gZnVuY3Rpb24oIGNsYXNzTmFtZSApe1xuICAgICAgICAgICAgICAgIHZhciBjdXJDb250ZW50ID0gX2NvbnRlbnRzLmZpbHRlciggJy5wb3B1cF9fJyArIGNsYXNzTmFtZSApO1xuXG4gICAgICAgICAgICAgICAgX2NvbnRlbnRzLmNzcyggeyBkaXNwbGF5OiAnbm9uZScgfSApO1xuICAgICAgICAgICAgICAgIGN1ckNvbnRlbnQuY3NzKCB7IGRpc3BsYXk6ICdibG9jaycgfSApO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAvL3B1YmxpYyBwcm9wZXJ0aWVzXG5cbiAgICAgICAgLy9wdWJsaWMgbWV0aG9kc1xuXG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG59ICkoKTtcblxuIiwiKCBmdW5jdGlvbigpe1xuXG4gICAgJCggZnVuY3Rpb24oKXtcbiAgICAgICAgJCggJ3NlbGVjdCcgKS5lYWNoKCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgbmV3IFdlYnN0ZXJzU2VsZWN0KCB7XG4gICAgICAgICAgICAgICAgb2JqOiAkKCB0aGlzICksXG4gICAgICAgICAgICAgICAgb3B0aW9uVHlwZTogMSxcbiAgICAgICAgICAgICAgICBzaG93VHlwZTogMlxuICAgICAgICAgICAgfSApO1xuICAgICAgICB9ICk7XG4gICAgfSApO1xuXG4gICAgdmFyIFdlYnN0ZXJzU2VsZWN0ID0gZnVuY3Rpb24oIHBhcmFtcyApe1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gcGFyYW1zLm9iaixcbiAgICAgICAgICAgIF9vcHRpb25UeXBlID0gcGFyYW1zLm9wdGlvblR5cGUgfHwgMCxcbiAgICAgICAgICAgIF9zaG93VHlwZSA9IHBhcmFtcy5zaG93VHlwZSB8fCAwLFxuICAgICAgICAgICAgX3Zpc2libGUgPSBwYXJhbXMudmlzaWJsZSB8fCA1LFxuICAgICAgICAgICAgX2RldmljZSA9IC9BbmRyb2lkfHdlYk9TfGlQaG9uZXxpUGFkfGlQb2R8QmxhY2tCZXJyeXxJRU1vYmlsZXxPcGVyYSBNaW5pL2kudGVzdCggbmF2aWdhdG9yLnVzZXJBZ2VudCApLFxuICAgICAgICAgICAgX3RleHQgPSAkKCAnPHNwYW4gY2xhc3M9XCJ3ZWJzdGVycy1zZWxlY3RfX2l0ZW1cIj48L3NwYW4+JyApLFxuICAgICAgICAgICAgX3dyYXAgPSAkKCAnPGRpdiBjbGFzcz1cIndlYnN0ZXJzLXNlbGVjdFwiPjwvZGl2PicgKSxcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKCB3aW5kb3cgKSxcbiAgICAgICAgICAgIF9ib2R5ID0gJCggJ2JvZHknICksXG4gICAgICAgICAgICBfb3BlbmVkID0gZmFsc2UsXG4gICAgICAgICAgICBfcG9wdXAsIF9zY3JvbGw7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9hZGRXcmFwID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICB2YXIgY3VyVGV4dCA9ICcnO1xuXG4gICAgICAgICAgICAgICAgX29iai5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMFxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIF9vYmoud3JhcCggX3dyYXAgKTtcbiAgICAgICAgICAgICAgICBfd3JhcCA9IF9vYmoucGFyZW50KCk7XG4gICAgICAgICAgICAgICAgX3dyYXAuYXBwZW5kKCAnPGRpdiBjbGFzcz1cIndlYnN0ZXJzLXNlbGVjdF9fYXJyb3dcIj48L2Rpdj4nICk7XG4gICAgICAgICAgICAgICAgX29iai5iZWZvcmUoIF90ZXh0ICk7XG4gICAgICAgICAgICAgICAgX29iai5maW5kKCAnb3B0aW9uJyApLmVhY2goIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJJdGVtID0gJCggdGhpcyApO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKCBjdXJJdGVtLmF0dHIoICdzZWxlY3RlZCcgKSA9PSAnc2VsZWN0ZWQnICl7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJUZXh0ID0gY3VySXRlbS50ZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBpZiggY3VyVGV4dCA9PSAnJyApe1xuICAgICAgICAgICAgICAgICAgICBjdXJUZXh0ID0gIF9vYmouZmluZCggJ29wdGlvbicpLmVxKCAwICkudGV4dCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBfdGV4dC50ZXh0KCBjdXJUZXh0ICk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2hpZGVQb3B1cCA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgX29wZW5lZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgaWYoICFfc2hvd1R5cGUgKXtcbiAgICAgICAgICAgICAgICAgICAgX3BvcHVwLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ25vbmUnXG4gICAgICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYoIF9zaG93VHlwZSA9PSAxICl7XG4gICAgICAgICAgICAgICAgICAgIF9wb3B1cC5zdG9wKCB0cnVlLCBmYWxzZSApLnNsaWRlVXAoIDMwMCwgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9wb3B1cC5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiggX3Nob3dUeXBlID09IDIgKSB7XG4gICAgICAgICAgICAgICAgICAgIF9wb3B1cC5zdG9wKCB0cnVlLCBmYWxzZSApLmZhZGVPdXQoIDMwMCwgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9wb3B1cC5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIF93cmFwLnJlbW92ZUNsYXNzKCAnd2Vic3RlcnMtc2VsZWN0X29wZW5lZCcgKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9jb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgX29ialsgMCBdLm9iaiA9IF9zZWxmO1xuXG4gICAgICAgICAgICAgICAgX2FkZFdyYXAoKTtcbiAgICAgICAgICAgICAgICBfc2VsZWN0Vmlld1R5cGUoKTtcbiAgICAgICAgICAgICAgICBfb25FdmVudHMoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfb25FdmVudHMgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIF9vYmoub24oICdjaGFuZ2UnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RleHQudGV4dCggJCggdGhpcyApLmZpbmQoICdvcHRpb246c2VsZWN0ZWQnICkudGV4dCgpICk7XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgaWYoIF9vcHRpb25UeXBlID09IDEgJiYgIV9kZXZpY2UgKXtcbiAgICAgICAgICAgICAgICAgICAgX3dyYXAub24oIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdjbGljayc6IGZ1bmN0aW9uKCBlICl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfb3BlbmVkICl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9oaWRlUG9wdXAoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2hvd1BvcHVwKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICAgICBfd2luZG93Lm9uKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnY2xpY2snOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfb3BlbmVkICl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9oaWRlUG9wdXAoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3NlbGVjdFZpZXdUeXBlID0gZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgICAgIGlmKCAhX29wdGlvblR5cGUgfHwgX2RldmljZSApe1xuICAgICAgICAgICAgICAgICAgICBfc2V0TW9iaWxlVmlldygpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiggX29wdGlvblR5cGUgPT0gMSApe1xuICAgICAgICAgICAgICAgICAgICBfc2V0Q3VzdG9tMSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfc2V0Q3VzdG9tMSA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgX3dyYXAuYWRkQ2xhc3MoICd3ZWJzdGVycy1zZWxlY3RfY3VzdG9tJyApO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9zZXRNb2JpbGVWaWV3ID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBfd3JhcC5hZGRDbGFzcyggJ3dlYnN0ZXJzLXNlbGVjdF9tb2JpbGUnICk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3Nob3dQb3B1cCA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgdmFyIHNlbGVjdHMgPSAkKCAnc2VsZWN0JyApLFxuICAgICAgICAgICAgICAgICAgICBsaXN0ID0gJCggJzx1bD48L3VsPicpLFxuICAgICAgICAgICAgICAgICAgICBjdXJTY3JvbGwgPSBfd2luZG93LnNjcm9sbFRvcCgpLFxuICAgICAgICAgICAgICAgICAgICBvZmZzZXQgPSBfd3JhcC5vZmZzZXQoKSxcbiAgICAgICAgICAgICAgICAgICAgbWF4SGVpZ2h0ID0gMCxcbiAgICAgICAgICAgICAgICAgICAgY3VySW5kZXggPSBfb2JqLmZpbmQoICdvcHRpb246c2VsZWN0ZWQnICkuaW5kZXgoKSxcbiAgICAgICAgICAgICAgICAgICAgaWQgPSBNYXRoLnJvdW5kKCBNYXRoLnJhbmRvbSgpICogMTAwMCApO1xuXG4gICAgICAgICAgICAgICAgc2VsZWN0cy5lYWNoKCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICBpZiggdGhpcyAhPT0gX29ialsgMCBdICYmIHRoaXMub2JqLmNoZWNrT3BlbmVkKCkgKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub2JqLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBpZiggX29wZW5lZCApe1xuICAgICAgICAgICAgICAgICAgICBfcG9wdXAucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF9vcGVuZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgX3BvcHVwID0gJCggJzxkaXYgY2xhc3M9XCJ3ZWJzdGVycy1zZWxlY3RfX3BvcHVwXCIgaWQ9XCJ3ZWJzdGVycy1zZWxlY3RfX3BvcHVwJyArIGlkICsgJ1wiPjwvZGl2PicgKTtcblxuICAgICAgICAgICAgICAgIF9vYmouZmluZCggJ29wdGlvbicgKS5lYWNoKCBmdW5jdGlvbiggaSApe1xuICAgICAgICAgICAgICAgICAgICB2YXIgY3VySXRlbSA9ICQoIHRoaXMgKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiggaSA9PSBjdXJJbmRleCApe1xuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdC5hcHBlbmQoICc8bGkgY2xhc3M9XCJhY3RpdmVcIj4nICsgY3VySXRlbS50ZXh0KCkgKyAnPC9saT4nICk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0LmFwcGVuZCggJzxsaT4nICsgY3VySXRlbS50ZXh0KCkgKyAnPC9saT4nICk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIF9wb3B1cC5hcHBlbmQoIGxpc3QgKTtcbiAgICAgICAgICAgICAgICBfd3JhcC5hcHBlbmQoIF9wb3B1cCApO1xuICAgICAgICAgICAgICAgIF93cmFwLmFkZENsYXNzKCAnd2Vic3RlcnMtc2VsZWN0X29wZW5lZCcgKTtcblxuICAgICAgICAgICAgICAgIC8vX3BvcHVwLmNzcygge1xuICAgICAgICAgICAgICAgIC8vICAgIHdpZHRoOiBfd3JhcC5vdXRlcldpZHRoKCksXG4gICAgICAgICAgICAgICAgLy8gICAgbGVmdDogLTEsXG4gICAgICAgICAgICAgICAgLy8gICAgdG9wOiBfd3JhcC5vdXRlckhlaWdodCgpIC0gM1xuICAgICAgICAgICAgICAgIC8vfSApO1xuXG4gICAgICAgICAgICAgICAgbWF4SGVpZ2h0ID0gX3BvcHVwLm91dGVySGVpZ2h0KCk7XG4gICAgICAgICAgICAgICAgaWYoIG1heEhlaWdodCA+IF9wb3B1cC5maW5kKCAnbGknICkuZXEoIDAgKS5vdXRlckhlaWdodCgpICogX3Zpc2libGUgKXtcbiAgICAgICAgICAgICAgICAgICAgX3BvcHVwLmhlaWdodCggX3BvcHVwLmZpbmQoICdsaScgKS5lcSggMCApLm91dGVySGVpZ2h0KCkgKiBfdmlzaWJsZSApO1xuICAgICAgICAgICAgICAgICAgICBfc2Nyb2xsID0gX3BvcHVwLnBlcmZlY3RTY3JvbGxiYXIoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiggX3Nob3dUeXBlID09IDEgKXtcbiAgICAgICAgICAgICAgICAgICAgX3BvcHVwLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ25vbmUnXG4gICAgICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICAgICAgX3BvcHVwLnNsaWRlRG93biggMzAwICk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmKCBfc2hvd1R5cGUgPT0gMiApIHtcbiAgICAgICAgICAgICAgICAgICAgX3BvcHVwLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMC4xXG4gICAgICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICAgICAgX3BvcHVwLmFuaW1hdGUoIHsgb3BhY2l0eTogMSB9LCAzMDApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIF9wb3B1cC5maW5kKCAnbGknICkub24oIHtcbiAgICAgICAgICAgICAgICAgICAgJ2NsaWNrJzogZnVuY3Rpb24oIGUgKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9ICQoIHRoaXMgKS5pbmRleCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfb2JqLnZhbCggX29iai5maW5kKCAnb3B0aW9uJyApLmVxKCBpbmRleCApLmF0dHIoICd2YWx1ZScgKSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgX29iai50cmlnZ2VyKCAnY2hhbmdlJyApO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2hpZGVQb3B1cCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIC8vcHVibGljIHByb3BlcnRpZXNcblxuICAgICAgICAvL3B1YmxpYyBtZXRob2RzXG4gICAgICAgIF9zZWxmLmNoZWNrT3BlbmVkID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHJldHVybiBfb3BlbmVkO1xuICAgICAgICB9O1xuICAgICAgICBfc2VsZi5jbG9zZSA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgX2hpZGVQb3B1cCgpO1xuICAgICAgICB9O1xuXG5cbiAgICAgICAgX2NvbnN0cnVjdG9yKCk7XG5cbiAgICB9O1xuXG59ICkoKTsiXX0=
