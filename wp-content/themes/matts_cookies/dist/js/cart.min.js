"use strict";!function(){var e=!0;$(function(){new i($(".preloader")),$.each($(".site__header"),function(){new n($(this))}),$.each($("[data-href]"),function(){new t($(this))}),$.each($(".slides"),function(){new o($(this))}),$.each($(".site__content-full"),function(){new s($(this))}),$.each($(".site_index"),function(){new a($(this))})});var i=function(e){var i=this,n=$(window),t=e,o=$("body"),s=function(){n.on({load:function(){d()}})},a=function(){o[0].preloader=i,s(),$("html").css({"overflow-y":"hidden"})},d=function(){t.addClass("preloader_loaded"),setTimeout(function(){t.remove(),$("html").css({"overflow-y":"scroll"}),$(".site").addClass("site__loaded")},500)};a()},n=function(i){var n=this,t=i,o=$(window),s=$("html"),a=t.find(".site__menu"),d=($(".site__content"),!1),l=!1,c=!0,r=0,h=t.find(".site__menu-btn"),f=0,u=function(){o.on({load:function(){f=o.width()},resize:function(){f!=o.width()&&(f=o.width()+1,o.width()>=1024&&(a.scrollTop(0),v(h)))},scroll:function(){d=o.scrollTop()>=2*t.innerHeight(),o.scrollTop()>=t.innerHeight()+20?c&&(c=!1,t.addClass("site__header_hide")):(c=!0,t.removeClass("site__header_hide")),d?t.hasClass("site__header_hide")&&setTimeout(function(){t.addClass("site__header_fixed"),t.removeClass("site__header_hide")},100):o.scrollTop()<=3*t.innerHeight()&&(t.removeClass("site__header_fixed"),t.removeClass("site__header_hidden")),o.scrollTop()<=10&&(t.removeClass("site__header_fixed"),t.removeClass("site__header_hidden"))},DOMMouseScroll:function(e){var i=e.originalEvent.detail;if(i){var n=i>0?1:-1;_(n)}n<0?l=!0:setTimeout(function(){l=!1},300)},mousewheel:function(e){var i=e.originalEvent.wheelDelta;if(i){var n=i>0?-1:1;_(n)}n<0?l=!0:setTimeout(function(){l=!1},300)}}),$(window).scroll(function(e){var i=$(this).scrollTop();if(i>r){_(1);var n=1}else{_(-1);var n=-1}r=i,n<0?l=!0:setTimeout(function(){l=!1},300)}),h.on({click:function(){$(this).hasClass("opened")?v($(this)):w($(this))}})},_=function(i){i>0&&!t.hasClass("site__header_hidden")&&!h.hasClass("opened")&&d&&!l&&t.addClass("site__header_hidden"),i<0&&t.hasClass("site__header_hidden")&&!h.hasClass("opened")&&d&&l&&e&&t.removeClass("site__header_hidden")},v=function(e){s.css({overflowY:"auto"}),e.removeClass("opened"),t.removeClass("opened-menu")},m=function(){t[0].obj=n,u()},w=function(e){e.addClass("opened"),t.addClass("opened-menu"),s.css({overflowY:"hidden"})};m()},t=function(i){var n=this,t=i,o=t,s=$("html"),a=$(window),d=$("html, body"),l=$(".site__header"),c=($(".popup__cookies-info"),function(){a.on({resize:function(){r()},scroll:function(){r()}}),o.on({click:function(){var i=$(this),n=i.attr("data-href"),t=$("."+n).offset().top;return $(".site__menu-nav_anchors a").removeClass("active"),i.addClass("active"),d.stop(!0,!1),d.animate({scrollTop:t},{duration:500,progress:function(){e=!1,l.addClass("site__header_hidden")},complete:function(){setTimeout(function(){e=!1},200),setTimeout(function(){e=!0},500)}}),s.css({overflowY:"auto"}),l.find(".site__menu-btn").removeClass("opened"),l.removeClass("opened-menu"),!1}})}),r=function(){for(var e=a.scrollTop(),i=$("body").find('[data-scroll="scroll"]'),n=(i.offset().top,0);n<i.length;n++){var t=$(i[n]),s=$(i[n]).offset().top-l.outerHeight(!0),d=$(i[n]).outerHeight(!0);if(e>s){var c=t.attr("class").split(" "),r=o.filter("[data-href="+c[0]+"]");o.removeClass("active"),r.addClass("active")}e>s+d&&o.removeClass("active")}},h=function(){t[0].obj=n,c()};h()},o=function(e){var i=this,n=e,t=$(window),o=function(){t.on({load:function(){s()},scroll:function(){s()}})},s=function(){var e=t.scrollTop(),i=t.height(),o=n.offset().top,s=o-e,a=1-s/i;a>.5&&(n.hasClass("slides_active")||n.addClass("slides_active"))},a=function(){n[0].slides=i,o()};a()},s=function(e){var i=this,n=e,t=$(window),o=$(".site__header"),s=0,a=function(){t.on({load:function(){s=t.width(),l()},resize:function(){s!=t.width()&&(s=t.width()+1,l())}})},d=function(){n[0].obj=i,a()},l=function(){var e=t.height();n.css({"min-height":e-o.innerHeight()-$(".site__main-title").outerHeight(!0)}),n.find(".contact-us").length&&t.width()>=1024?n.css({"min-height":""}):n.css({"min-height":e-o.innerHeight()-$(".site__main-title").outerHeight(!0)})};d()},a=function(e){var i=this,n=e,t=$(window),o=($("html, body"),function(){t.on({load:function(){setTimeout(function(){s()},100)}})}),s=function(){var e=window.location.hash.replace("#","");if(e){var i=$("."+window.location.hash.replace("#",""));i.length&&window.scrollTo(0,parseInt(i.offset().top)),$(".slides").addClass("slides_active")}},a=function(){n[0].obj=i,o()};a()}}();
!function(){$(function(){$(".popup").each(function(){new o($(this))})});var o=function(o){var n,t=this,i=40,p=$(".popup__open"),e=o,c=e.find(".popup__close, .popup__cancel"),s=e.find(".popup__wrap"),u=e.find(".popup__content"),d=$("html"),a=$(window),h=setTimeout(function(){},1),f=function(){a.height()-2*i-s.height()>0?s.css({top:(a.height()-2*i-s.height())/2}):s.css({top:0})},l=function(){var o,n=document.createElement("div");return n.className="popup__scrollbar-measure",document.body.appendChild(n),o=n.offsetWidth-n.clientWidth,document.body.removeChild(n),o},r=function(){e.css({overflowY:"hidden"}),d.css({overflowY:"auto",paddingRight:0}),e.removeClass("popup_opened"),e.addClass("popup_hide"),h=setTimeout(function(){e.css({overflowY:"scroll"}),e.removeClass("popup_hide")},300)},_=function(){e[0].obj=t,v()},v=function(){a.on({load:function(){n=a.width()},resize:function(){f(),a.width()>=1024&&n!=a.width()&&(n=a.width()+1,r())}}),p.on({click:function(){return $(this).hasClass("cookies-info_btn")?a.width()<1024?(w($(this).attr("data-popup")),!1):void 0:(w($(this).attr("data-popup")),!1)}}),s.on({click:function(o){o.stopPropagation()}}),e.on({click:function(){return r(),!1}}),c.on({click:function(){return r(),!1}})},w=function(o){m(o),d.css({overflowY:"hidden",paddingRight:l()}),e.addClass("popup_opened"),f()},m=function(o){var n=u.filter(".popup__"+o);u.css({display:"none"}),n.css({display:"block"})};_()}}();
"use strict";!function(){$(function(){$.each($(".count-product"),function(){new n($(this))})});var n=function(n){var t=this,c=n,i=c.find(".count-product__input"),u=c.find(".count-product_add"),o=c.find(".count-product_del"),e=function(){i.on({keypress:function(){46==event.which&&$(this).val().indexOf(".")==-1||!(event.which<48||event.which>57)||event.preventDefault()}}),i.on({keyup:function(){""==i.val()&&i.val(1)}}),u.on({click:function(){return f(),!1}}),o.on({click:function(){return r(),!1}})},f=function(){var n=parseInt(i.val());i.val(n+1)},r=function(){var n=parseInt(i.val());1!=n&&i.val(n-1)},a=function(){c[0].obj=t,e()};a()}}();
"use strict";!function(){$(function(){$.each($(".my-cart__product"),function(){new t($(this))}),$.each($(".product-single__info"),function(){new a($(this))})});var t=function(t){var a=this,i=t,n=i.find(".count-product__input"),o=i.find(".count-product__btn"),e=i.find(".my-cart__remove"),d=new XMLHttpRequest,s=$(".cart"),r=0,c=$(".my-cart__total"),u=i.find(".my-cart__loading"),l=$(".my-cart__define .btn"),f=$(".my-cart__define input"),_=$(".my-cart__discount"),m=$(".my-cart__define"),p=$(".my-cart__applied"),v=$(".my-cart__invalid"),h=$(window),g=function(){h.on({load:function(){k()},resize:function(){k()}}),n.on({keypress:function(){(46==event.which&&$(this).val().indexOf(".")==-1||!(event.which<48||event.which>57))&&b($(this).parents(".my-cart__product"))}}),n.on({keyup:function(){setTimeout(function(){x(),b(i)},100)}}),o.on({click:function(){e.addClass("loading"),setTimeout(function(){b(i)},500)}}),o.on({mouseup:function(){setTimeout(function(){x()},100)}}),e.on({click:function(){var t=$(this);return t.hasClass("loading")||(u.addClass("visible"),setTimeout(function(){C(t.parents(".my-cart__product"))},500)),!1}}),l.on({click:function(){var t=$(this);return""!=f.val()?($(".my-cart__promo-loading").addClass("loading"),t.hasClass("ajax-loading")||T()):f.focus(),!1}}),v.find("a").on({click:function(){return $(".my-cart__promo-loading").removeClass("loading"),v.removeClass("visible"),m.removeClass("hidden"),!1}}),p.find("a").on({click:function(){return $(".my-cart__promo-loading").removeClass("loading"),w(),!1}})},y=function(t){t.addClass("hidden"),setTimeout(function(){t.remove()},500)},C=function(t){d.abort(),d=$.ajax({url:$("body").attr("data-action"),data:{action:"remove_cart_item",id:t.attr("data-product-key"),flag:"remove"},dataType:"json",type:"get",success:function(a){y(t),0==parseInt(a.cartCountProducts)?(s.find("div").remove(),s.removeClass("cart_fill"),$(".site__header").removeClass("site__header_fill-cart"),$(".my-cart").addClass("empty")):(s.find("div").html(a.cartCountProducts),_.find("dd").html(a.discount)),c.find("dd").html(a.subtotal),setTimeout(function(){u.removeClass("visible")},500)},error:function(t){"abort"!=t.statusText&&alert("ERROR!!!")}})},b=function(t){d.abort(),d=$.ajax({url:$("body").attr("data-action"),data:{action:"cart_quantity_changes",id:t.attr("data-product-id"),key:t.attr("data-product-key"),countProduct:t.find(".count-product__input").val(),flag:"changeCount"},dataType:"json",type:"get",success:function(a){t.find(".my-cart__total-price").html(a.total),c.find("dd").html(a.subtotal),$(".my-cart__discount").find("dd").html(a.discount),setTimeout(function(){e.removeClass("loading")},500)},error:function(t){"abort"!=t.statusText&&alert("ERROR!!!")}})},T=function(){d.abort(),d=$.ajax({url:$("body").attr("data-action"),data:{action:"apply_coupon_to_order",inputVal:f.val(),flag:"coupon"},dataType:"json",type:"get",success:function(t){setTimeout(function(){1==t.status?(_.addClass("visible"),m.addClass("hidden"),p.addClass("visible"),c.find("dd").html(t.subtotal),_.find("dd").html(t.discount)):(m.addClass("hidden"),v.addClass("visible"),p.addClass("hidden")),l.removeClass("ajax-loading"),$(".my-cart__promo-loading").removeClass("loading")},500)},error:function(t){"abort"!=t.statusText&&alert("ERROR!!!")}})},w=function(){d.abort(),d=$.ajax({url:$("body").attr("data-action"),data:{action:"remove_coupon_to_order",inputVal:f.val(),flag:"couponRemove"},dataType:"json",type:"get",success:function(t){setTimeout(function(){c.find("dd").html(t.subtotal),_.removeClass("visible"),m.removeClass("hidden"),p.removeClass("visible"),$(".my-cart__promo-loading").removeClass("loading")},500)},error:function(t){"abort"!=t.statusText&&alert("ERROR!!!")}})},k=function(){var t=i,a=t.find(">div");t.height(a.outerHeight(!0))},x=function(){r=0,s.hasClass("cart_fill")?($(".my-cart__products .count-product__input").each(function(){var t=$(this),a=parseInt(t.val());r+=a}),setTimeout(function(){s.find("div").html(r+" items")},700)):($(".my-cart__products .count-product__input").each(function(){var t=$(this),a=parseInt(t.val());r+=a}),setTimeout(function(){s.append("<div></div>"),s.addClass("cart_fill"),$(".site__header").addClass("site__header_fill-cart"),setTimeout(function(){1==r?s.find("div").html(r+" item"):s.find("div").html(r+" items")},100)},600))},R=function(){i[0].obj=a,g()};R()},a=function(t){var a=this,i=t,n=i.find(".count-product__input"),o=i.find(".product-single__price"),e=i.find(".product-single__add"),d=new XMLHttpRequest,s=$(".cart"),r=0,c=0,u=($(window),function(){e.on({click:function(t){return e.hasClass("adding")||($(".gallery__top .slick-current").length?l(t):f(),_($(this).parents(".product-single__info")),e.addClass("adding")),!1}})}),l=function(t){var a=$(".gallery__top .slick-current").data("image"),i=t||window.event;i.pageX,i.pageY;$("body").append('<div class="site__product hidden" style="background-image:url('+a+')"></div>'),$(".site__product").css({top:$(".gallery__top").offset().top,left:$(".gallery__top").offset().left,width:$(".gallery__top").width(),height:$(".gallery__top").height()}),setTimeout(function(){$(".site__product").addClass("visible"),$(".site__product").css({top:s.offset().top+s.innerHeight()/2-$(".site__product").height()/2,left:s.offset().left+s.innerWidth()/2-$(".site__product").width()/2})},100),setTimeout(function(){$(".site__product").removeClass("visible"),$(".site__product").css({"-webkit-transform":"scale(0.3)",transform:"scale(0.3)"})},500),setTimeout(function(){$(".site__product").remove()},700),f()},f=function(){s.hasClass("cart_fill")?(r=parseInt(s.find("div").text()),c=parseInt(n.val())+r,setTimeout(function(){s.find("div").html(c+" items")},700)):(c=parseInt(n.val()),setTimeout(function(){s.append("<div></div>"),s.addClass("cart_fill"),$(".site__header").addClass("site__header_fill-cart"),setTimeout(function(){1==c?s.find("div").html(c+" item"):s.find("div").html(c+" items")},100)},600)),setTimeout(function(){e.removeClass("adding")},700)},_=function(t){d.abort(),d=$.ajax({url:$("body").attr("data-action"),data:{action:"single_add_product",id:t.attr("data-id"),countProduct:n.val(),price:o.text(),flag:"addToCart"},dataType:"json",type:"get",success:function(t){parseInt(t.cartCountProducts)!=c&&s.find("div").html(t.cartCountProducts)},error:function(t,a){"abort"!=t.statusText&&parseInt(a.cartCountProducts)!=c&&s.find("div").html(r+"items")}})},m=function(){i[0].obj=a,u()};m()}}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5tYWluLmpzIiwianF1ZXJ5LnBvcHVwLmpzIiwianF1ZXJ5Lm51bWJlci1zcGlubmVyLmpzIiwianF1ZXJ5LmFqYXgtY2FydC5qcyJdLCJuYW1lcyI6WyJnbG9iYWxTY3JvbGxGbGFnIiwiJCIsIlByZWxvYWRlciIsImVhY2giLCJNZW51IiwidGhpcyIsIlNjcm9sbFBhbmVsIiwiU2xpZGVzIiwiRnVsbEhlaWdodCIsIlNjcm9sbFRvSGFzaCIsIm9iaiIsIl9zZWxmIiwiX3dpbmRvdyIsIndpbmRvdyIsIl9wcmVsb2FkZXIiLCJfYm9keSIsIl9hZGRFdmVudHMiLCJvbiIsImxvYWQiLCJfc2hvd1NpdGUiLCJfaW5pdCIsInByZWxvYWRlciIsImNzcyIsIm92ZXJmbG93LXkiLCJhZGRDbGFzcyIsInNldFRpbWVvdXQiLCJyZW1vdmUiLCJfb2JqIiwiX2h0bWwiLCJfbWVudSIsImZpbmQiLCJfYWN0aW9uIiwiX2FjdGlvbjIiLCJfZmxhZ0hpZGUiLCJsYXN0U2Nyb2xsVG9wIiwiX3Nob3dNZW51QnRuIiwiX2dsb2JhbFdpZHRoIiwid2lkdGgiLCJyZXNpemUiLCJzY3JvbGxUb3AiLCJfY2xvc2VNZW51Iiwic2Nyb2xsIiwiaW5uZXJIZWlnaHQiLCJyZW1vdmVDbGFzcyIsImhhc0NsYXNzIiwiRE9NTW91c2VTY3JvbGwiLCJlIiwiZGVsdGEiLCJvcmlnaW5hbEV2ZW50IiwiZGV0YWlsIiwiZGlyZWN0aW9uIiwiX2NoZWNrU2Nyb2xsIiwibW91c2V3aGVlbCIsIndoZWVsRGVsdGEiLCJldmVudCIsInN0IiwiY2xpY2siLCJfb3Blbk1lbnUiLCJlbGVtIiwib3ZlcmZsb3dZIiwiX2xpbmtzIiwiX2RvbSIsIl9oZWFkZXIiLCJfY2hhbmdlQWN0aXZlIiwiY3VySXRlbSIsIm5ld0NsYXNzIiwiYXR0ciIsIm5leHRJdGVtVG9wIiwib2Zmc2V0IiwidG9wIiwic3RvcCIsImFuaW1hdGUiLCJkdXJhdGlvbiIsInByb2dyZXNzIiwiY29tcGxldGUiLCJpdGVtIiwiaSIsImxlbmd0aCIsImN1ciIsIml0ZW1DdXIiLCJvdXRlckhlaWdodCIsIml0ZW1IZWlnaHQiLCJjdXJDbGFzcyIsInNwbGl0IiwiY3VyTGluayIsImZpbHRlciIsImN1clNjcm9sbCIsIndpbmRvd0giLCJoZWlnaHQiLCJ0b3BQb3MiLCJ0b3BJbldpbmRvdyIsInZpc2libGVQZXJjZW50Iiwic2xpZGVzIiwiX3NldEhlaWdodCIsIm1pbi1oZWlnaHQiLCJfc2Nyb2xsVG8iLCJoYXNoIiwibG9jYXRpb24iLCJyZXBsYWNlIiwic2Nyb2xsVG8iLCJwYXJzZUludCIsIlBvcHVwIiwiX3BvcHVwUGFkZGluZyIsIl9idG5TaG93IiwiX2J0bkNsb3NlIiwiX3dyYXAiLCJfY29udGVudHMiLCJfc2Nyb2xsQ29udGVpbmVyIiwiX3RpbWVyIiwiX2NlbnRlcldyYXAiLCJfZ2V0U2Nyb2xsV2lkdGgiLCJzY3JvbGxCYXJXaWR0aCIsInNjcm9sbERpdiIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsImJvZHkiLCJhcHBlbmRDaGlsZCIsIm9mZnNldFdpZHRoIiwiY2xpZW50V2lkdGgiLCJyZW1vdmVDaGlsZCIsIl9oaWRlIiwicGFkZGluZ1JpZ2h0IiwiX29uRXZlbnRzIiwiX3Nob3ciLCJzdG9wUHJvcGFnYXRpb24iLCJfc2V0UG9wdXBDb250ZW50IiwiY3VyQ29udGVudCIsImRpc3BsYXkiLCJTcGlubmVyIiwiX2lucHV0IiwiX2J0blVwIiwiX2J0bkRvd24iLCJrZXlwcmVzcyIsIndoaWNoIiwidmFsIiwiaW5kZXhPZiIsInByZXZlbnREZWZhdWx0Iiwia2V5dXAiLCJfYWRkQ291bnQiLCJfcmVkdWNlQ291bnQiLCJ2YWx1ZSIsIlByb2R1Y3RzSW5DYXJ0IiwiQWRkUHJvZHVjdHNUb0NhcnQiLCJfYnRuQ2hhbmdlQ291bnQiLCJfYnRuUmVtb3ZlUHJvZHVjdCIsIl9yZXF1ZXN0IiwiWE1MSHR0cFJlcXVlc3QiLCJfY2FydCIsIm5ld0NvdW50IiwiX3RvdGFsUHJpY2UiLCJfbG9hZCIsIl9idG5Qcm9tbyIsIl9pbnB1dENvdXBvbiIsIl9kaXNjb3VudCIsIl9kZWZpbmUiLCJfYXBwbGllZCIsIl9pbnZhbGlkIiwiX3JlcXVlc3RDb3VudENoYW5nZSIsInBhcmVudHMiLCJfd3JpdGVJbkNhcnQiLCJtb3VzZXVwIiwiY2lySXRlbSIsIl9yZXF1ZXN0UHJvZHVjdFJlbW92ZSIsIl9yZXF1ZXN0Q291cG9uRGlzY291bnQiLCJmb2N1cyIsIl9yZXF1ZXN0Q2FuY2VsQ291cG9uRGlzY291bnQiLCJfcmVtb3ZlUHJvZHVjdCIsImFib3J0IiwiYWpheCIsInVybCIsImRhdGEiLCJhY3Rpb24iLCJpZCIsImZsYWciLCJkYXRhVHlwZSIsInR5cGUiLCJzdWNjZXNzIiwibSIsImNhcnRDb3VudFByb2R1Y3RzIiwiaHRtbCIsImRpc2NvdW50Iiwic3VidG90YWwiLCJlcnJvciIsInN0YXR1c1RleHQiLCJhbGVydCIsImtleSIsImNvdW50UHJvZHVjdCIsInRvdGFsIiwiaW5wdXRWYWwiLCJzdGF0dXMiLCJjaGlsZHJlbiIsImFwcGVuZCIsIl9wcmljZSIsIl9hZGRUb0NhcnRCdG4iLCJvbGRDb3VudCIsIl9hbmltYXRlZEFkZGluZyIsIl9yZXF1ZXN0UHJvZHVjdEFkZFRvQ2FydCIsInBpYyIsInBhZ2VYIiwicGFnZVkiLCJsZWZ0IiwiaW5uZXJXaWR0aCIsIi13ZWJraXQtdHJhbnNmb3JtIiwidHJhbnNmb3JtIiwidGV4dCIsInByaWNlIl0sIm1hcHBpbmdzIjoiQUFBQSxjQUNBLFdBRUksR0FBSUEsSUFBbUIsQ0FFdkJDLEdBQUcsV0FFQyxHQUFJQyxHQUFXRCxFQUFFLGVBRWpCQSxFQUFFRSxLQUFNRixFQUFHLGlCQUFtQixXQUUxQixHQUFJRyxHQUFPSCxFQUFHSSxTQUlsQkosRUFBRUUsS0FBTUYsRUFBRSxlQUFnQixXQUV0QixHQUFJSyxHQUFhTCxFQUFFSSxTQUl2QkosRUFBRUUsS0FBTUYsRUFBRSxXQUFZLFdBRWxCLEdBQUlNLEdBQVFOLEVBQUVJLFNBSWxCSixFQUFFRSxLQUFNRixF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SixLQUFNZSxFQUFXLGFBU3ZEL0ssRUFBUSxXQUNKTyxFQUFLLEdBQUdqQixJQUFNQyxFQUNkSyxJQVFSSSIsImZpbGUiOiJjYXJ0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuKCBmdW5jdGlvbigpe1xuXG4gICAgdmFyIGdsb2JhbFNjcm9sbEZsYWcgPSB0cnVlO1xuXG4gICAgJCggZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIG5ldyBQcmVsb2FkZXIoICQoJy5wcmVsb2FkZXInKSApO1xuXG4gICAgICAgICQuZWFjaCggJCggJy5zaXRlX19oZWFkZXInICksIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICBuZXcgTWVudSAoICQoIHRoaXMgKSApO1xuXG4gICAgICAgIH0gKTtcblxuICAgICAgICAkLmVhY2goICQoJ1tkYXRhLWhyZWZdJyksIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgbmV3IFNjcm9sbFBhbmVsKCAkKHRoaXMpICk7XG5cbiAgICAgICAgfSApO1xuXG4gICAgICAgICQuZWFjaCggJCgnLnNsaWRlcycpLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIG5ldyBTbGlkZXMoICQodGhpcykgKTtcblxuICAgICAgICB9ICk7XG5cbiAgICAgICAgJC5lYWNoKCAkKCcuc2l0ZV9fY29udGVudC1mdWxsJyksIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgbmV3IEZ1bGxIZWlnaHQoICQodGhpcykgKTtcblxuICAgICAgICB9ICk7XG5cbiAgICAgICAgJC5lYWNoKCAkKCcuc2l0ZV9pbmRleCcpLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIG5ldyBTY3JvbGxUb0hhc2goICQodGhpcykgKTtcblxuICAgICAgICB9ICk7XG5cbiAgICB9ICk7XG5cbiAgICB2YXIgUHJlbG9hZGVyID0gZnVuY3Rpb24gKG9iaikge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfd2luZG93ID0gJCggd2luZG93ICksXG4gICAgICAgICAgICBfcHJlbG9hZGVyID0gb2JqLFxuICAgICAgICAgICAgX2JvZHkgPSAkKCdib2R5Jyk7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9hZGRFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfd2luZG93Lm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGxvYWQ6IGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9zaG93U2l0ZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF9ib2R5WzBdLnByZWxvYWRlciA9IF9zZWxmO1xuICAgICAgICAgICAgICAgIF9hZGRFdmVudHMoKTtcblxuXG5cbiAgICAgICAgICAgICAgICAkKCdodG1sJykuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICdvdmVyZmxvdy15JzogJ2hpZGRlbidcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfc2hvd1NpdGUgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIF9wcmVsb2FkZXIuYWRkQ2xhc3MoICdwcmVsb2FkZXJfbG9hZGVkJyApO1xuXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICBfcHJlbG9hZGVyLnJlbW92ZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICQoJ2h0bWwnKS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdvdmVyZmxvdy15JzogJ3Njcm9sbCdcbiAgICAgICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgICAgICAkKCcuc2l0ZScpLmFkZENsYXNzKCAnc2l0ZV9fbG9hZGVkJyApO1xuXG4gICAgICAgICAgICAgICAgfSw1MDApO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAvL3B1YmxpYyBwcm9wZXJ0aWVzXG5cbiAgICAgICAgLy9wdWJsaWMgbWV0aG9kc1xuXG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG4gICAgdmFyIE1lbnUgPSBmdW5jdGlvbiggb2JqICkge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX3dpbmRvdyA9ICQod2luZG93KSxcbiAgICAgICAgICAgIF9odG1sID0gJCgnaHRtbCcpLFxuICAgICAgICAgICAgX21lbnUgPSBfb2JqLmZpbmQoJy5zaXRlX19tZW51JyksXG4gICAgICAgICAgICBfY29udGVudCA9ICQoJy5zaXRlX19jb250ZW50JyksXG4gICAgICAgICAgICBfYWN0aW9uID0gZmFsc2UsXG4gICAgICAgICAgICBfYWN0aW9uMiA9IGZhbHNlLFxuICAgICAgICAgICAgX2ZsYWdIaWRlID0gdHJ1ZSxcbiAgICAgICAgICAgIGxhc3RTY3JvbGxUb3AgPSAwLFxuICAgICAgICAgICAgX3Nob3dNZW51QnRuID0gX29iai5maW5kKCcuc2l0ZV9fbWVudS1idG4nKSxcbiAgICAgICAgICAgIF9nbG9iYWxXaWR0aCA9IDA7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9hZGRFdmVudHMgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIF93aW5kb3cub24oIHtcbiAgICAgICAgICAgICAgICAgICAgbG9hZDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfZ2xvYmFsV2lkdGggPSBfd2luZG93LndpZHRoKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcmVzaXplOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfZ2xvYmFsV2lkdGggIT0gX3dpbmRvdy53aWR0aCgpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2dsb2JhbFdpZHRoID0gX3dpbmRvdy53aWR0aCgpICsgMTtcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA+PSAxMDI0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9tZW51LnNjcm9sbFRvcCgwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Nsb3NlTWVudSggX3Nob3dNZW51QnRuICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAnc2Nyb2xsJzogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfYWN0aW9uID0gX3dpbmRvdy5zY3JvbGxUb3AoKSA+PSBfb2JqLmlubmVySGVpZ2h0KCkgKiAyO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy5zY3JvbGxUb3AoKSA+PSBfb2JqLmlubmVySGVpZ2h0KCkrIDIwICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF9mbGFnSGlkZSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZmxhZ0hpZGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX29iai5hZGRDbGFzcyggJ3NpdGVfX2hlYWRlcl9oaWRlJyApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZmxhZ0hpZGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vYmoucmVtb3ZlQ2xhc3MoICdzaXRlX19oZWFkZXJfaGlkZScgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfYWN0aW9uICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF9vYmouaGFzQ2xhc3MoICdzaXRlX19oZWFkZXJfaGlkZScgKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX29iai5hZGRDbGFzcyggJ3NpdGVfX2hlYWRlcl9maXhlZCcgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vYmoucmVtb3ZlQ2xhc3MoICdzaXRlX19oZWFkZXJfaGlkZScgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAxMDAgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCBfd2luZG93LnNjcm9sbFRvcCgpIDw9IF9vYmouaW5uZXJIZWlnaHQoKSAqIDMgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb2JqLnJlbW92ZUNsYXNzKCAnc2l0ZV9faGVhZGVyX2ZpeGVkJyApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vYmoucmVtb3ZlQ2xhc3MoICdzaXRlX19oZWFkZXJfaGlkZGVuJyApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LnNjcm9sbFRvcCgpIDw9IDEwICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX29iai5yZW1vdmVDbGFzcyggJ3NpdGVfX2hlYWRlcl9maXhlZCcgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb2JqLnJlbW92ZUNsYXNzKCAnc2l0ZV9faGVhZGVyX2hpZGRlbicgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICdET01Nb3VzZVNjcm9sbCc6IGZ1bmN0aW9uICggZSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlbHRhID0gZS5vcmlnaW5hbEV2ZW50LmRldGFpbDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBkZWx0YSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaXJlY3Rpb24gPSAoIGRlbHRhID4gMCApID8gMSA6IC0xO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NoZWNrU2Nyb2xsKCBkaXJlY3Rpb24gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGRpcmVjdGlvbiA8IDAgICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2FjdGlvbjIgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2FjdGlvbjIgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDMwMCApXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICdtb3VzZXdoZWVsJzogZnVuY3Rpb24gKCBlICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGVsdGEgPSBlLm9yaWdpbmFsRXZlbnQud2hlZWxEZWx0YTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBkZWx0YSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaXJlY3Rpb24gPSAoIGRlbHRhID4gMCApID8gLTEgOiAxO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NoZWNrU2Nyb2xsKCBkaXJlY3Rpb24gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGRpcmVjdGlvbiA8IDAgICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2FjdGlvbjIgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2FjdGlvbjIgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDMwMCApXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAkKHdpbmRvdykuc2Nyb2xsKGZ1bmN0aW9uKGV2ZW50KXtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgc3QgPSAkKHRoaXMpLnNjcm9sbFRvcCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdCA+IGxhc3RTY3JvbGxUb3Ape1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfY2hlY2tTY3JvbGwoIDEgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpcmVjdGlvbiA9IDFcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfY2hlY2tTY3JvbGwoIC0xICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaXJlY3Rpb24gPSAtMVxuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGFzdFNjcm9sbFRvcCA9IHN0O1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICggZGlyZWN0aW9uIDwgMCAgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9hY3Rpb24yID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hY3Rpb24yID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDMwMCApXG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgX3Nob3dNZW51QnRuLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoICQoIHRoaXMgKS5oYXNDbGFzcyggJ29wZW5lZCcgKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jbG9zZU1lbnUoICQoIHRoaXMgKSApXG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vcGVuTWVudSggJCggdGhpcyApICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfY2hlY2tTY3JvbGwgPSBmdW5jdGlvbiggZGlyZWN0aW9uICkge1xuXG4gICAgICAgICAgICAgICAgaWYoIGRpcmVjdGlvbiA+IDAgJiYgIV9vYmouaGFzQ2xhc3MoICdzaXRlX19oZWFkZXJfaGlkZGVuJyApICYmICFfc2hvd01lbnVCdG4uaGFzQ2xhc3MoICdvcGVuZWQnICkgJiYgX2FjdGlvbiAmJiAhX2FjdGlvbjIgKXtcblxuICAgICAgICAgICAgICAgICAgICBfb2JqLmFkZENsYXNzKCAnc2l0ZV9faGVhZGVyX2hpZGRlbicgKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmKCBkaXJlY3Rpb24gPCAwICYmIF9vYmouaGFzQ2xhc3MoICdzaXRlX19oZWFkZXJfaGlkZGVuJyApICYmICFfc2hvd01lbnVCdG4uaGFzQ2xhc3MoICdvcGVuZWQnICkgICYmIF9hY3Rpb24gJiYgX2FjdGlvbjIgJiYgZ2xvYmFsU2Nyb2xsRmxhZyApe1xuXG4gICAgICAgICAgICAgICAgICAgIF9vYmoucmVtb3ZlQ2xhc3MoJ3NpdGVfX2hlYWRlcl9oaWRkZW4nKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9jbG9zZU1lbnUgPSBmdW5jdGlvbiggZWxlbSApIHtcblxuICAgICAgICAgICAgICAgIF9odG1sLmNzcygge1xuICAgICAgICAgICAgICAgICAgICBvdmVyZmxvd1k6ICdhdXRvJ1xuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIGVsZW0ucmVtb3ZlQ2xhc3MoICdvcGVuZWQnICk7XG4gICAgICAgICAgICAgICAgX29iai5yZW1vdmVDbGFzcyggJ29wZW5lZC1tZW51JyApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBfb2JqWyAwIF0ub2JqID0gX3NlbGY7XG4gICAgICAgICAgICAgICAgX2FkZEV2ZW50cygpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9vcGVuTWVudSA9IGZ1bmN0aW9uKCBlbGVtICkgIHtcblxuICAgICAgICAgICAgICAgIGVsZW0uYWRkQ2xhc3MoICdvcGVuZWQnICk7XG4gICAgICAgICAgICAgICAgX29iai5hZGRDbGFzcyggJ29wZW5lZC1tZW51JyApO1xuXG4gICAgICAgICAgICAgICAgX2h0bWwuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgIG92ZXJmbG93WTogJ2hpZGRlbidcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG4gICAgdmFyIFNjcm9sbFBhbmVsID0gZnVuY3Rpb24gKCBvYmogKSB7XG5cbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfbGlua3MgPSBfb2JqLFxuICAgICAgICAgICAgX2h0bWwgPSAkKCdodG1sJyksXG4gICAgICAgICAgICBfd2luZG93ID0gJCh3aW5kb3cpLFxuICAgICAgICAgICAgX2RvbSA9ICAkKCAnaHRtbCwgYm9keScpLFxuICAgICAgICAgICAgX2hlYWRlciA9ICQoJy5zaXRlX19oZWFkZXInKSxcbiAgICAgICAgICAgIF9wb3B1cCA9ICQoJy5wb3B1cF9fY29va2llcy1pbmZvJyk7XG5cbiAgICAgICAgdmFyIF9hZGRFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfd2luZG93Lm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZTogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfY2hhbmdlQWN0aXZlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgJ3Njcm9sbCc6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2NoYW5nZUFjdGl2ZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICBfbGlua3Mub24oIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VySXRlbSA9ICQoIHRoaXMgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdDbGFzcyA9IGN1ckl0ZW0uYXR0cignZGF0YS1ocmVmJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dEl0ZW1Ub3AgPSAkKCAnLicgKyBuZXdDbGFzcyAgKS5vZmZzZXQoKS50b3A7XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLnNpdGVfX21lbnUtbmF2X2FuY2hvcnMgYScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ckl0ZW0uYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfZG9tLnN0b3AoIHRydWUsIGZhbHNlICk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfZG9tLmFuaW1hdGUoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxUb3A6IG5leHRJdGVtVG9wXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogNTAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2dyZXNzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsb2JhbFNjcm9sbEZsYWcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2hlYWRlci5hZGRDbGFzcyggJ3NpdGVfX2hlYWRlcl9oaWRkZW4nICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xvYmFsU2Nyb2xsRmxhZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAyMDAgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsb2JhbFNjcm9sbEZsYWcgPSB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDUwMCApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9odG1sLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJmbG93WTogJ2F1dG8nXG4gICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9oZWFkZXIuZmluZCgnLnNpdGVfX21lbnUtYnRuJykucmVtb3ZlQ2xhc3MoICdvcGVuZWQnICk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaGVhZGVyLnJlbW92ZUNsYXNzKCAnb3BlbmVkLW1lbnUnICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2NoYW5nZUFjdGl2ZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIHZhciBzY3JvbGxUb3AgPSBfd2luZG93LnNjcm9sbFRvcCgpLFxuICAgICAgICAgICAgICAgICAgICBpdGVtID0gJCgnYm9keScpLmZpbmQoJ1tkYXRhLXNjcm9sbD1cInNjcm9sbFwiXScpLFxuICAgICAgICAgICAgICAgICAgICBpdGVtUG9zID0gaXRlbS5vZmZzZXQoKS50b3A7XG5cbiAgICAgICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgaXRlbS5sZW5ndGg7IGkrKyApIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgY3VyID0gJChpdGVtW2ldKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1DdXIgPSAkKGl0ZW1baV0pLm9mZnNldCgpLnRvcCAtIF9oZWFkZXIub3V0ZXJIZWlnaHQodHJ1ZSksXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtSGVpZ2h0ID0gJChpdGVtW2ldKS5vdXRlckhlaWdodCh0cnVlKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiggc2Nyb2xsVG9wID4gaXRlbUN1ciApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckNsYXNzID0gY3VyLmF0dHIoJ2NsYXNzJykuc3BsaXQoJyAnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJMaW5rID0gX2xpbmtzLmZpbHRlcihcIltkYXRhLWhyZWY9XCIrY3VyQ2xhc3NbMF0rXCJdXCIpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfbGlua3MucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VyTGluay5hZGRDbGFzcygnYWN0aXZlJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiggc2Nyb2xsVG9wID4gKCBpdGVtQ3VyICsgaXRlbUhlaWdodCApICl7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9saW5rcy5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIF9vYmpbMF0ub2JqID0gX3NlbGY7XG4gICAgICAgICAgICAgICAgX2FkZEV2ZW50cygpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbiAgICB2YXIgU2xpZGVzID0gZnVuY3Rpb24gKG9iaikge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX3dpbmRvdyA9ICQod2luZG93KTtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfd2luZG93Lm9uKHtcbiAgICAgICAgICAgICAgICAgICAgbG9hZDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfY2hlY2tTY3JvbGwoKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfY2hlY2tTY3JvbGwoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9jaGVja1Njcm9sbCA9IGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgICAgICAgICB2YXIgY3VyU2Nyb2xsID0gX3dpbmRvdy5zY3JvbGxUb3AoKSxcbiAgICAgICAgICAgICAgICAgICAgd2luZG93SCA9IF93aW5kb3cuaGVpZ2h0KCksXG4gICAgICAgICAgICAgICAgICAgIHRvcFBvcyA9IF9vYmoub2Zmc2V0KCkudG9wLFxuICAgICAgICAgICAgICAgICAgICB0b3BJbldpbmRvdyA9IHRvcFBvcy1jdXJTY3JvbGwsXG4gICAgICAgICAgICAgICAgICAgIHZpc2libGVQZXJjZW50ID0gMS0odG9wSW5XaW5kb3cvd2luZG93SCk7XG5cbiAgICAgICAgICAgICAgICBpZiggdmlzaWJsZVBlcmNlbnQgPiAuNSApe1xuICAgICAgICAgICAgICAgICAgICBpZiggIV9vYmouaGFzQ2xhc3MoJ3NsaWRlc19hY3RpdmUnKSApe1xuICAgICAgICAgICAgICAgICAgICAgICAgX29iai5hZGRDbGFzcygnc2xpZGVzX2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX29ialswXS5zbGlkZXMgPSBfc2VsZjtcbiAgICAgICAgICAgICAgICBfYWRkRXZlbnRzKCk7XG5cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgLy9wdWJsaWMgcHJvcGVydGllc1xuXG4gICAgICAgIC8vcHVibGljIG1ldGhvZHNcblxuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBGdWxsSGVpZ2h0ID0gZnVuY3Rpb24gKG9iaikge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX3dpbmRvdyA9ICQod2luZG93KSxcbiAgICAgICAgICAgIF9oZWFkZXIgPSAkKCcuc2l0ZV9faGVhZGVyJyksXG4gICAgICAgICAgICBfZ2xvYmFsV2lkdGggPSAwO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfYWRkRXZlbnRzID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBfd2luZG93Lm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGxvYWQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2dsb2JhbFdpZHRoID0gX3dpbmRvdy53aWR0aCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3NldEhlaWdodCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZTogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX2dsb2JhbFdpZHRoICE9IF93aW5kb3cud2lkdGgoKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9nbG9iYWxXaWR0aCA9IF93aW5kb3cud2lkdGgoKSArIDE7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2V0SGVpZ2h0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBfb2JqWyAwIF0ub2JqID0gX3NlbGY7XG4gICAgICAgICAgICAgICAgX2FkZEV2ZW50cygpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9zZXRIZWlnaHQgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIHZhciBoZWlnaHQgPSBfd2luZG93LmhlaWdodCgpO1xuXG4gICAgICAgICAgICAgICAgX29iai5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgJ21pbi1oZWlnaHQnOiBoZWlnaHQgLSBfaGVhZGVyLmlubmVySGVpZ2h0KCkgLSAkKCcuc2l0ZV9fbWFpbi10aXRsZScpLm91dGVySGVpZ2h0KHRydWUpXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgaWYoIF9vYmouZmluZCgnLmNvbnRhY3QtdXMnKS5sZW5ndGggKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA+PSAxMDI0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfb2JqLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdtaW4taGVpZ2h0JzogJydcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfb2JqLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdtaW4taGVpZ2h0JzogaGVpZ2h0IC0gX2hlYWRlci5pbm5lckhlaWdodCgpIC0gJCgnLnNpdGVfX21haW4tdGl0bGUnKS5vdXRlckhlaWdodCh0cnVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgX29iai5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdtaW4taGVpZ2h0JzogaGVpZ2h0IC0gX2hlYWRlci5pbm5lckhlaWdodCgpIC0gJCgnLnNpdGVfX21haW4tdGl0bGUnKS5vdXRlckhlaWdodCh0cnVlKVxuICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG4gICAgdmFyIFNjcm9sbFRvSGFzaCA9IGZ1bmN0aW9uICggb2JqICkge1xuXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX3dpbmRvdyA9ICQod2luZG93KSxcbiAgICAgICAgICAgIF9kb20gPSAgJCgnaHRtbCwgYm9keScpO1xuXG4gICAgICAgIHZhciBfYWRkRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuICAgICAgICAgICAgICAgICAgICBsb2FkOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3Njcm9sbFRvKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDEwMCApO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9zY3JvbGxUbyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgdmFyIGhhc2ggPSB3aW5kb3cubG9jYXRpb24uaGFzaC5yZXBsYWNlKCcjJywgJycpO1xuXG4gICAgICAgICAgICAgICAgaWYoIGhhc2ggKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW0gPSAkKCAnLicgKyB3aW5kb3cubG9jYXRpb24uaGFzaC5yZXBsYWNlKCcjJywgJycpICk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoIGVsZW0ubGVuZ3RoICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oIDAsIHBhcnNlSW50KCBlbGVtLm9mZnNldCgpLnRvcCApICk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICQoJy5zbGlkZXMnKS5hZGRDbGFzcygnc2xpZGVzX2FjdGl2ZScpO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBfb2JqWzBdLm9iaiA9IF9zZWxmO1xuICAgICAgICAgICAgICAgIF9hZGRFdmVudHMoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG59ICkoKTsiLCIoIGZ1bmN0aW9uKCl7XG5cbiAgICAkKCBmdW5jdGlvbigpe1xuXG4gICAgICAgICQoICcucG9wdXAnICkuZWFjaChmdW5jdGlvbigpe1xuXG4gICAgICAgICAgICBuZXcgUG9wdXAoJCh0aGlzKSk7XG5cbiAgICAgICAgfSk7XG5cbiAgICB9KTtcblxuICAgIHZhciBQb3B1cCA9IGZ1bmN0aW9uKCBvYmogKXtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX3BvcHVwUGFkZGluZyA9IDQwLFxuICAgICAgICAgICAgX2J0blNob3cgPSAgJCggJy5wb3B1cF9fb3BlbicgKSxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfYnRuQ2xvc2UgPSBfb2JqLmZpbmQoICcucG9wdXBfX2Nsb3NlLCAucG9wdXBfX2NhbmNlbCcgKSxcbiAgICAgICAgICAgIF93cmFwID0gX29iai5maW5kKCAnLnBvcHVwX193cmFwJyApLFxuICAgICAgICAgICAgX2NvbnRlbnRzID0gX29iai5maW5kKCAnLnBvcHVwX19jb250ZW50JyApLFxuICAgICAgICAgICAgX3Njcm9sbENvbnRlaW5lciA9ICQoICdodG1sJyApLFxuICAgICAgICAgICAgX3dpbmRvdyA9ICQoIHdpbmRvdyApLFxuICAgICAgICAgICAgX2dsb2JhbFdpZHRoLFxuICAgICAgICAgICAgX3RpbWVyID0gc2V0VGltZW91dCggZnVuY3Rpb24oKXt9LCAxICk7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9jZW50ZXJXcmFwID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBpZiAoIF93aW5kb3cuaGVpZ2h0KCkgLSAoIF9wb3B1cFBhZGRpbmcgKiAyICkgLSBfd3JhcC5oZWlnaHQoKSA+IDAgKSB7XG4gICAgICAgICAgICAgICAgICAgIF93cmFwLmNzcyggeyB0b3A6ICggKCBfd2luZG93LmhlaWdodCgpIC0gKCBfcG9wdXBQYWRkaW5nICogMiApICkgLSBfd3JhcC5oZWlnaHQoKSApIC8gMiB9ICk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgX3dyYXAuY3NzKCB7IHRvcDogMCB9ICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9nZXRTY3JvbGxXaWR0aCA9IGZ1bmN0aW9uICgpe1xuICAgICAgICAgICAgICAgIHZhciBzY3JvbGxEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnZGl2JyksXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbEJhcldpZHRoO1xuXG4gICAgICAgICAgICAgICAgc2Nyb2xsRGl2LmNsYXNzTmFtZSA9ICdwb3B1cF9fc2Nyb2xsYmFyLW1lYXN1cmUnO1xuXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCggc2Nyb2xsRGl2ICk7XG5cbiAgICAgICAgICAgICAgICBzY3JvbGxCYXJXaWR0aCA9IHNjcm9sbERpdi5vZmZzZXRXaWR0aCAtIHNjcm9sbERpdi5jbGllbnRXaWR0aDtcblxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoc2Nyb2xsRGl2KTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBzY3JvbGxCYXJXaWR0aDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaGlkZSA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgX29iai5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3dZOiAnaGlkZGVuJ1xuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICBfc2Nyb2xsQ29udGVpbmVyLmNzcygge1xuICAgICAgICAgICAgICAgICAgICBvdmVyZmxvd1k6ICdhdXRvJyxcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZ1JpZ2h0OiAwXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgX29iai5yZW1vdmVDbGFzcyggJ3BvcHVwX29wZW5lZCcgKTtcbiAgICAgICAgICAgICAgICBfb2JqLmFkZENsYXNzKCAncG9wdXBfaGlkZScgKTtcblxuICAgICAgICAgICAgICAgIF90aW1lciA9IHNldFRpbWVvdXQoIGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgICAgICAgICAgICAgX29iai5jc3MgKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJmbG93WTogJ3Njcm9sbCdcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgX29iai5yZW1vdmVDbGFzcyggJ3BvcHVwX2hpZGUnICk7XG4gICAgICAgICAgICAgICAgfSwgMzAwICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgX29ialsgMCBdLm9iaiA9IF9zZWxmO1xuICAgICAgICAgICAgICAgIF9vbkV2ZW50cygpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9vbkV2ZW50cyA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuICAgICAgICAgICAgICAgICAgICBsb2FkOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9nbG9iYWxXaWR0aCA9IF93aW5kb3cud2lkdGgoKTtcblxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICByZXNpemU6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBfY2VudGVyV3JhcCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpID49IDEwMjQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggX2dsb2JhbFdpZHRoICE9IF93aW5kb3cud2lkdGgoKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZ2xvYmFsV2lkdGggPSBfd2luZG93LndpZHRoKCkgKyAxO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9oaWRlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgIF9idG5TaG93Lm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigpe1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggJCh0aGlzKS5oYXNDbGFzcygnY29va2llcy1pbmZvX2J0bicpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA8IDEwMjQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3Nob3coICQoIHRoaXMgKS5hdHRyKCAnZGF0YS1wb3B1cCcgKSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2hvdyggJCggdGhpcyApLmF0dHIoICdkYXRhLXBvcHVwJyApICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICBfd3JhcC5vbigge1xuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oIGUgKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgX29iai5vbigge1xuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgX2J0bkNsb3NlLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgX2hpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfc2hvdyA9IGZ1bmN0aW9uKCBjbGFzc05hbWUgKXtcbiAgICAgICAgICAgICAgICBfc2V0UG9wdXBDb250ZW50KCBjbGFzc05hbWUgKTtcblxuICAgICAgICAgICAgICAgIF9zY3JvbGxDb250ZWluZXIuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgIG92ZXJmbG93WTogJ2hpZGRlbicsXG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmdSaWdodDogX2dldFNjcm9sbFdpZHRoKClcbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgX29iai5hZGRDbGFzcyggJ3BvcHVwX29wZW5lZCcgKTtcbiAgICAgICAgICAgICAgICBfY2VudGVyV3JhcCgpO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3NldFBvcHVwQ29udGVudCA9IGZ1bmN0aW9uKCBjbGFzc05hbWUgKXtcbiAgICAgICAgICAgICAgICB2YXIgY3VyQ29udGVudCA9IF9jb250ZW50cy5maWx0ZXIoICcucG9wdXBfXycgKyBjbGFzc05hbWUgKTtcblxuICAgICAgICAgICAgICAgIF9jb250ZW50cy5jc3MoIHsgZGlzcGxheTogJ25vbmUnIH0gKTtcbiAgICAgICAgICAgICAgICBjdXJDb250ZW50LmNzcyggeyBkaXNwbGF5OiAnYmxvY2snIH0gKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgLy9wdWJsaWMgcHJvcGVydGllc1xuXG4gICAgICAgIC8vcHVibGljIG1ldGhvZHNcblxuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxufSApKCk7XG5cbiIsIlwidXNlIHN0cmljdFwiO1xuKCBmdW5jdGlvbigpe1xuXG4gICAgJCggZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICQuZWFjaCggJCgnLmNvdW50LXByb2R1Y3QnKSwgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBuZXcgU3Bpbm5lciggJCh0aGlzKSApO1xuXG4gICAgICAgIH0gKTtcblxuICAgIH0gKTtcblxuICAgIHZhciBTcGlubmVyID0gZnVuY3Rpb24gKG9iaikge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX2lucHV0ID0gX29iai5maW5kKCcuY291bnQtcHJvZHVjdF9faW5wdXQnKSxcbiAgICAgICAgICAgIF9idG5VcCA9IF9vYmouZmluZCgnLmNvdW50LXByb2R1Y3RfYWRkJyksXG4gICAgICAgICAgICBfYnRuRG93biA9IF9vYmouZmluZCgnLmNvdW50LXByb2R1Y3RfZGVsJyk7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9hZGRFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfaW5wdXQub24oIHtcbiAgICAgICAgICAgICAgICAgICAga2V5cHJlc3M6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCAoIGV2ZW50LndoaWNoICE9IDQ2IHx8ICQoIHRoaXMgKS52YWwoKS5pbmRleE9mKCAnLicgKSAhPSAtMSApICYmICggZXZlbnQud2hpY2ggPCA0OCB8fCBldmVudC53aGljaCA+IDU3ICkgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgIF9pbnB1dC5vbigge1xuICAgICAgICAgICAgICAgICAgICBrZXl1cDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX2lucHV0LnZhbCgpID09ICcnICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2lucHV0LnZhbCggMSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICBfYnRuVXAub24oIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2FkZENvdW50KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgIF9idG5Eb3duLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWR1Y2VDb3VudCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9hZGRDb3VudCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gcGFyc2VJbnQoIF9pbnB1dC52YWwoKSApO1xuXG4gICAgICAgICAgICAgICAgX2lucHV0LnZhbCggdmFsdWUgKyAxICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfcmVkdWNlQ291bnQgPSBmdW5jdGlvbigpe1xuXG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gcGFyc2VJbnQoIF9pbnB1dC52YWwoKSApO1xuXG4gICAgICAgICAgICAgICAgaWYoIHZhbHVlICE9IDEgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgX2lucHV0LnZhbCggdmFsdWUgLSAxICk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfb2JqWzBdLm9iaiA9IF9zZWxmO1xuICAgICAgICAgICAgICAgIF9hZGRFdmVudHMoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgLy9wdWJsaWMgcHJvcGVydGllc1xuXG4gICAgICAgIC8vcHVibGljIG1ldGhvZHNcblxuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxufSApKCk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG4oIGZ1bmN0aW9uKCl7XG5cbiAgICAkKCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgJC5lYWNoKCAkKCcubXktY2FydF9fcHJvZHVjdCcpLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIG5ldyBQcm9kdWN0c0luQ2FydCggJCh0aGlzKSApO1xuXG4gICAgICAgIH0gKTtcblxuICAgICAgICAkLmVhY2goICQoJy5wcm9kdWN0LXNpbmdsZV9faW5mbycpLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIG5ldyBBZGRQcm9kdWN0c1RvQ2FydCggJCh0aGlzKSApO1xuXG4gICAgICAgIH0gKTtcblxuICAgIH0gKTtcblxuICAgIHZhciBQcm9kdWN0c0luQ2FydCA9IGZ1bmN0aW9uIChvYmopIHtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF9pbnB1dCA9IF9vYmouZmluZCgnLmNvdW50LXByb2R1Y3RfX2lucHV0JyksXG4gICAgICAgICAgICBfYnRuQ2hhbmdlQ291bnQgPSBfb2JqLmZpbmQoJy5jb3VudC1wcm9kdWN0X19idG4nKSxcbiAgICAgICAgICAgIF9idG5SZW1vdmVQcm9kdWN0ID0gX29iai5maW5kKCcubXktY2FydF9fcmVtb3ZlJyksXG4gICAgICAgICAgICBfcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpLFxuICAgICAgICAgICAgX2NhcnQgPSAkKCcuY2FydCcpLFxuICAgICAgICAgICAgb2xkQ291bnQgPSAwLFxuICAgICAgICAgICAgbmV3Q291bnQgPSAwLFxuICAgICAgICAgICAgX3RvdGFsUHJpY2UgPSAkKCcubXktY2FydF9fdG90YWwnKSxcbiAgICAgICAgICAgIF9sb2FkID0gX29iai5maW5kKCcubXktY2FydF9fbG9hZGluZycpLFxuICAgICAgICAgICAgX2J0blByb21vID0gJCgnLm15LWNhcnRfX2RlZmluZSAuYnRuJyksXG4gICAgICAgICAgICBfaW5wdXRDb3Vwb24gPSAkKCcubXktY2FydF9fZGVmaW5lIGlucHV0JyksXG4gICAgICAgICAgICBfZGlzY291bnQgPSAkKCcubXktY2FydF9fZGlzY291bnQnKSxcbiAgICAgICAgICAgIF9kZWZpbmUgPSAkKCcubXktY2FydF9fZGVmaW5lJyksXG4gICAgICAgICAgICBfYXBwbGllZCA9ICQoJy5teS1jYXJ0X19hcHBsaWVkJyksXG4gICAgICAgICAgICBfaW52YWxpZCA9ICQoJy5teS1jYXJ0X19pbnZhbGlkJyksXG4gICAgICAgICAgICBfd2luZG93ID0gJCh3aW5kb3cpO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfYWRkRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG5cbiAgICAgICAgICAgICAgICBfd2luZG93Lm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGxvYWQ6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfc2V0SGVpZ2h0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcmVzaXplOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9zZXRIZWlnaHQoKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgX2lucHV0Lm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGtleXByZXNzOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggISgoIGV2ZW50LndoaWNoICE9IDQ2IHx8ICQoIHRoaXMgKS52YWwoKS5pbmRleE9mKCAnLicgKSAhPSAtMSApICYmICggZXZlbnQud2hpY2ggPCA0OCB8fCBldmVudC53aGljaCA+IDU3ICkpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlcXVlc3RDb3VudENoYW5nZSggJCh0aGlzKS5wYXJlbnRzKCcubXktY2FydF9fcHJvZHVjdCcpICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgX2lucHV0Lm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGtleXVwOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dyaXRlSW5DYXJ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlcXVlc3RDb3VudENoYW5nZSggX29iaiApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAwICk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIF9idG5DaGFuZ2VDb3VudC5vbigge1xuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfYnRuUmVtb3ZlUHJvZHVjdC5hZGRDbGFzcygnbG9hZGluZycpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZXF1ZXN0Q291bnRDaGFuZ2UoIF9vYmogKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCA1MDAgKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgX2J0bkNoYW5nZUNvdW50Lm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIG1vdXNldXA6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd3JpdGVJbkNhcnQoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAwICk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIF9idG5SZW1vdmVQcm9kdWN0Lm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaXJJdGVtID0gJCh0aGlzKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoICEoIGNpckl0ZW0uaGFzQ2xhc3MoJ2xvYWRpbmcnKSApICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2xvYWQuYWRkQ2xhc3MoJ3Zpc2libGUnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZXF1ZXN0UHJvZHVjdFJlbW92ZSggY2lySXRlbS5wYXJlbnRzKCcubXktY2FydF9fcHJvZHVjdCcpICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCA1MDAgKTtcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgX2J0blByb21vLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaXJJdGVtID0gJCh0aGlzKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoICEoIF9pbnB1dENvdXBvbi52YWwoKSA9PSAnJyApICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLm15LWNhcnRfX3Byb21vLWxvYWRpbmcnKS5hZGRDbGFzcygnbG9hZGluZycpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoICEoIGNpckl0ZW0uaGFzQ2xhc3MoJ2FqYXgtbG9hZGluZycpICkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlcXVlc3RDb3Vwb25EaXNjb3VudCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2lucHV0Q291cG9uLmZvY3VzKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIF9pbnZhbGlkLmZpbmQoJ2EnKS5vbigge1xuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcubXktY2FydF9fcHJvbW8tbG9hZGluZycpLnJlbW92ZUNsYXNzKCdsb2FkaW5nJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9pbnZhbGlkLnJlbW92ZUNsYXNzKCd2aXNpYmxlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfZGVmaW5lLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBfYXBwbGllZC5maW5kKCdhJykub24oIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLm15LWNhcnRfX3Byb21vLWxvYWRpbmcnKS5yZW1vdmVDbGFzcygnbG9hZGluZycpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVxdWVzdENhbmNlbENvdXBvbkRpc2NvdW50KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3JlbW92ZVByb2R1Y3QgPSBmdW5jdGlvbiggZWxlbSApIHtcblxuICAgICAgICAgICAgICAgIGVsZW0uYWRkQ2xhc3MoJ2hpZGRlbicpO1xuXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgZWxlbS5yZW1vdmUoKTtcblxuICAgICAgICAgICAgICAgIH0sIDUwMCApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3JlcXVlc3RQcm9kdWN0UmVtb3ZlID0gZnVuY3Rpb24gKCBlbGVtICkge1xuXG4gICAgICAgICAgICAgICAgX3JlcXVlc3QuYWJvcnQoKTtcbiAgICAgICAgICAgICAgICBfcmVxdWVzdCA9ICQuYWpheCgge1xuICAgICAgICAgICAgICAgICAgICB1cmw6ICQoJ2JvZHknKS5hdHRyKCdkYXRhLWFjdGlvbicpLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246ICdyZW1vdmVfY2FydF9pdGVtJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBlbGVtLmF0dHIoJ2RhdGEtcHJvZHVjdC1rZXknKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsYWc6ICdyZW1vdmUnXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiZ2V0XCIsXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChtKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVtb3ZlUHJvZHVjdCggZWxlbSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggcGFyc2VJbnQobS5jYXJ0Q291bnRQcm9kdWN0cykgPT0gMCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jYXJ0LmZpbmQoJ2RpdicpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jYXJ0LnJlbW92ZUNsYXNzKCdjYXJ0X2ZpbGwnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuc2l0ZV9faGVhZGVyJykucmVtb3ZlQ2xhc3MoJ3NpdGVfX2hlYWRlcl9maWxsLWNhcnQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcubXktY2FydCcpLmFkZENsYXNzKCdlbXB0eScpO1xuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2FydC5maW5kKCdkaXYnKS5odG1sKCBtLmNhcnRDb3VudFByb2R1Y3RzICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Rpc2NvdW50LmZpbmQoJ2RkJykuaHRtbCggbS5kaXNjb3VudCApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBfdG90YWxQcmljZS5maW5kKCdkZCcpLmh0bWwoIG0uc3VidG90YWwgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbG9hZC5yZW1vdmVDbGFzcygndmlzaWJsZScpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCA1MDAgKTtcblxuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoWE1MSHR0cFJlcXVlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggWE1MSHR0cFJlcXVlc3Quc3RhdHVzVGV4dCAhPSBcImFib3J0XCIgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCJFUlJPUiEhIVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9yZXF1ZXN0Q291bnRDaGFuZ2UgPSBmdW5jdGlvbiAoIGVsZW0gKSB7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgX3JlcXVlc3QuYWJvcnQoKTtcbiAgICAgICAgICAgICAgICBfcmVxdWVzdCA9ICQuYWpheCgge1xuICAgICAgICAgICAgICAgICAgICB1cmw6ICQoJ2JvZHknKS5hdHRyKCdkYXRhLWFjdGlvbicpLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246ICdjYXJ0X3F1YW50aXR5X2NoYW5nZXMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGVsZW0uYXR0cignZGF0YS1wcm9kdWN0LWlkJyksXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk6IGVsZW0uYXR0cignZGF0YS1wcm9kdWN0LWtleScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgY291bnRQcm9kdWN0OiBlbGVtLmZpbmQoJy5jb3VudC1wcm9kdWN0X19pbnB1dCcpLnZhbCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmxhZzogJ2NoYW5nZUNvdW50J1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImdldFwiLFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAobSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtLmZpbmQoJy5teS1jYXJ0X190b3RhbC1wcmljZScpLmh0bWwoIG0udG90YWwgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90b3RhbFByaWNlLmZpbmQoJ2RkJykuaHRtbCggbS5zdWJ0b3RhbCApO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLm15LWNhcnRfX2Rpc2NvdW50JykuZmluZCgnZGQnKS5odG1sKCBtLmRpc2NvdW50ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2J0blJlbW92ZVByb2R1Y3QucmVtb3ZlQ2xhc3MoJ2xvYWRpbmcnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgNTAwICk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChYTUxIdHRwUmVxdWVzdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBYTUxIdHRwUmVxdWVzdC5zdGF0dXNUZXh0ICE9IFwiYWJvcnRcIiApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydChcIkVSUk9SISEhXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3JlcXVlc3RDb3Vwb25EaXNjb3VudCA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF9yZXF1ZXN0LmFib3J0KCk7XG4gICAgICAgICAgICAgICAgX3JlcXVlc3QgPSAkLmFqYXgoIHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAkKCdib2R5JykuYXR0cignZGF0YS1hY3Rpb24nKSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnYXBwbHlfY291cG9uX3RvX29yZGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0VmFsOiBfaW5wdXRDb3Vwb24udmFsKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBmbGFnOiAnY291cG9uJ1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImdldFwiLFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAobSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBtLnN0YXR1cyA9PSAxICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9kaXNjb3VudC5hZGRDbGFzcygndmlzaWJsZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZGVmaW5lLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2FwcGxpZWQuYWRkQ2xhc3MoJ3Zpc2libGUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RvdGFsUHJpY2UuZmluZCgnZGQnKS5odG1sKCBtLnN1YnRvdGFsICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9kaXNjb3VudC5maW5kKCdkZCcpLmh0bWwoIG0uZGlzY291bnQgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2RlZmluZS5hZGRDbGFzcygnaGlkZGVuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pbnZhbGlkLmFkZENsYXNzKCd2aXNpYmxlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hcHBsaWVkLmFkZENsYXNzKCdoaWRkZW4nKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9idG5Qcm9tby5yZW1vdmVDbGFzcygnYWpheC1sb2FkaW5nJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLm15LWNhcnRfX3Byb21vLWxvYWRpbmcnKS5yZW1vdmVDbGFzcygnbG9hZGluZycpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCA1MDAgKTtcblxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKFhNTEh0dHBSZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIFhNTEh0dHBSZXF1ZXN0LnN0YXR1c1RleHQgIT0gXCJhYm9ydFwiICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiRVJST1IhISFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfcmVxdWVzdENhbmNlbENvdXBvbkRpc2NvdW50ID0gZnVuY3Rpb24gKCApIHtcblxuICAgICAgICAgICAgICAgIF9yZXF1ZXN0LmFib3J0KCk7XG4gICAgICAgICAgICAgICAgX3JlcXVlc3QgPSAkLmFqYXgoIHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAkKCdib2R5JykuYXR0cignZGF0YS1hY3Rpb24nKSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAncmVtb3ZlX2NvdXBvbl90b19vcmRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dFZhbDogX2lucHV0Q291cG9uLnZhbCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmxhZzogJ2NvdXBvblJlbW92ZSdcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJnZXRcIixcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKG0pIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdG90YWxQcmljZS5maW5kKCdkZCcpLmh0bWwoIG0uc3VidG90YWwgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZGlzY291bnQucmVtb3ZlQ2xhc3MoJ3Zpc2libGUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZGVmaW5lLnJlbW92ZUNsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYXBwbGllZC5yZW1vdmVDbGFzcygndmlzaWJsZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5teS1jYXJ0X19wcm9tby1sb2FkaW5nJykucmVtb3ZlQ2xhc3MoJ2xvYWRpbmcnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgNTAwICk7XG5cblxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKFhNTEh0dHBSZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIFhNTEh0dHBSZXF1ZXN0LnN0YXR1c1RleHQgIT0gXCJhYm9ydFwiICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiRVJST1IhISFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfc2V0SGVpZ2h0ID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAvL19vYmouZWFjaCggZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckl0ZW0gPSBfb2JqLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW4gPSBjdXJJdGVtLmZpbmQoJz5kaXYnKTtcblxuICAgICAgICAgICAgICAgICAgICBjdXJJdGVtLmhlaWdodCggY2hpbGRyZW4ub3V0ZXJIZWlnaHQodHJ1ZSkgKTtcblxuICAgICAgICAgICAgICAgIC8vfSApXG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfd3JpdGVJbkNhcnQgPSAgZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBuZXdDb3VudCA9IDA7XG5cbiAgICAgICAgICAgICAgICBpZiggISggX2NhcnQuaGFzQ2xhc3MoJ2NhcnRfZmlsbCcpICkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgJCgnLm15LWNhcnRfX3Byb2R1Y3RzIC5jb3VudC1wcm9kdWN0X19pbnB1dCcpLmVhY2goIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VySXRlbSA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBwYXJzZUludCggY3VySXRlbS52YWwoKSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdDb3VudCArPSB2YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9jYXJ0LmFwcGVuZCgnPGRpdj48L2Rpdj4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jYXJ0LmFkZENsYXNzKCdjYXJ0X2ZpbGwnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5zaXRlX19oZWFkZXInKS5hZGRDbGFzcygnc2l0ZV9faGVhZGVyX2ZpbGwtY2FydCcpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBuZXdDb3VudCA9PSAxICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jYXJ0LmZpbmQoJ2RpdicpLmh0bWwoIG5ld0NvdW50ICsgJyBpdGVtJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jYXJ0LmZpbmQoJ2RpdicpLmh0bWwoIG5ld0NvdW50ICsgJyBpdGVtcycpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAxMDAgKTtcblxuICAgICAgICAgICAgICAgICAgICB9LCA2MDAgKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgJCgnLm15LWNhcnRfX3Byb2R1Y3RzIC5jb3VudC1wcm9kdWN0X19pbnB1dCcpLmVhY2goIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VySXRlbSA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBwYXJzZUludCggY3VySXRlbS52YWwoKSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdDb3VudCArPSB2YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9jYXJ0LmZpbmQoJ2RpdicpLmh0bWwoIG5ld0NvdW50ICsgJyBpdGVtcycpO1xuXG4gICAgICAgICAgICAgICAgICAgIH0sIDcwMCApO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX29ialswXS5vYmogPSBfc2VsZjtcbiAgICAgICAgICAgICAgICBfYWRkRXZlbnRzKCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIC8vcHVibGljIHByb3BlcnRpZXNcblxuICAgICAgICAvL3B1YmxpYyBtZXRob2RzXG5cblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbiAgICB2YXIgQWRkUHJvZHVjdHNUb0NhcnQgPSBmdW5jdGlvbiAob2JqKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfaW5wdXQgPSBfb2JqLmZpbmQoJy5jb3VudC1wcm9kdWN0X19pbnB1dCcpLFxuICAgICAgICAgICAgX3ByaWNlID0gX29iai5maW5kKCcucHJvZHVjdC1zaW5nbGVfX3ByaWNlJyksXG4gICAgICAgICAgICBfYWRkVG9DYXJ0QnRuID0gX29iai5maW5kKCcucHJvZHVjdC1zaW5nbGVfX2FkZCcpLFxuICAgICAgICAgICAgX3JlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKSxcbiAgICAgICAgICAgIF9jYXJ0ID0gJCgnLmNhcnQnKSxcbiAgICAgICAgICAgIG9sZENvdW50ID0gMCxcbiAgICAgICAgICAgIG5ld0NvdW50ID0gMCxcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKHdpbmRvdyk7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9hZGRFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfYWRkVG9DYXJ0QnRuLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiAoIGV2ZW50ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggISggX2FkZFRvQ2FydEJ0bi5oYXNDbGFzcygnYWRkaW5nJykgKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAkKCcuZ2FsbGVyeV9fdG9wIC5zbGljay1jdXJyZW50JykubGVuZ3RoICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hbmltYXRlZEFkZGluZyggZXZlbnQgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dyaXRlSW5DYXJ0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVxdWVzdFByb2R1Y3RBZGRUb0NhcnQoICQodGhpcykucGFyZW50cygnLnByb2R1Y3Qtc2luZ2xlX19pbmZvJykgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYWRkVG9DYXJ0QnRuLmFkZENsYXNzKCdhZGRpbmcnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9hbmltYXRlZEFkZGluZyA9IGZ1bmN0aW9uKCBldmVudCApIHtcblxuICAgICAgICAgICAgICAgIHZhciBwaWMgPSAkKCcuZ2FsbGVyeV9fdG9wIC5zbGljay1jdXJyZW50JykuZGF0YSgnaW1hZ2UnKSxcblxuICAgICAgICAgICAgICAgIGUgPSBldmVudCB8fCB3aW5kb3cuZXZlbnQ7XG5cbiAgICAgICAgICAgICAgICB2YXIgcGFnZVggPSBlLnBhZ2VYLFxuICAgICAgICAgICAgICAgICAgICBwYWdlWSA9IGUucGFnZVk7XG5cbiAgICAgICAgICAgICAgICAkKCdib2R5JykuYXBwZW5kKCc8ZGl2IGNsYXNzPVwic2l0ZV9fcHJvZHVjdCBoaWRkZW5cIiBzdHlsZT1cImJhY2tncm91bmQtaW1hZ2U6dXJsKCcrIHBpYyArJylcIj48L2Rpdj4nKTtcbiAgICAgICAgICAgICAgICAkKCcuc2l0ZV9fcHJvZHVjdCcpLmNzcygge1xuICAgICAgICAgICAgICAgICAgICB0b3A6ICQoJy5nYWxsZXJ5X190b3AnKS5vZmZzZXQoKS50b3AgLFxuICAgICAgICAgICAgICAgICAgICBsZWZ0OiAkKCcuZ2FsbGVyeV9fdG9wJykub2Zmc2V0KCkubGVmdCxcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICQoJy5nYWxsZXJ5X190b3AnKS53aWR0aCgpLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6ICQoJy5nYWxsZXJ5X190b3AnKS5oZWlnaHQoKVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICQoJy5zaXRlX19wcm9kdWN0JykuYWRkQ2xhc3MoJ3Zpc2libGUnKTtcbiAgICAgICAgICAgICAgICAgICAgJCgnLnNpdGVfX3Byb2R1Y3QnKS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogX2NhcnQub2Zmc2V0KCkudG9wICsgX2NhcnQuaW5uZXJIZWlnaHQoKS8yIC0gJCgnLnNpdGVfX3Byb2R1Y3QnKS5oZWlnaHQoKS8yICxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IF9jYXJ0Lm9mZnNldCgpLmxlZnQgKyBfY2FydC5pbm5lcldpZHRoKCkvMiAtICQoJy5zaXRlX19wcm9kdWN0Jykud2lkdGgoKS8yXG4gICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIH0sIDEwMCApO1xuXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgJCgnLnNpdGVfX3Byb2R1Y3QnKS5yZW1vdmVDbGFzcygndmlzaWJsZScpO1xuICAgICAgICAgICAgICAgICAgICAkKCcuc2l0ZV9fcHJvZHVjdCcpLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgJy13ZWJraXQtdHJhbnNmb3JtJzogJ3NjYWxlKDAuMyknLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ3RyYW5zZm9ybSc6ICdzY2FsZSgwLjMpJ1xuICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICB9LCA1MDAgKTtcblxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICQoJy5zaXRlX19wcm9kdWN0JykucmVtb3ZlKCk7XG5cbiAgICAgICAgICAgICAgICB9LCA3MDAgKTtcblxuXG4gICAgICAgICAgICAgICAgX3dyaXRlSW5DYXJ0KCk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfd3JpdGVJbkNhcnQgPSAgZnVuY3Rpb24oKSB7XG5cblxuICAgICAgICAgICAgICAgIGlmKCAhKCBfY2FydC5oYXNDbGFzcygnY2FydF9maWxsJykgKSApIHtcblxuICAgICAgICAgICAgICAgICAgICBuZXdDb3VudCA9IHBhcnNlSW50KCBfaW5wdXQudmFsKCkgKTtcblxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2NhcnQuYXBwZW5kKCc8ZGl2PjwvZGl2PicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2NhcnQuYWRkQ2xhc3MoJ2NhcnRfZmlsbCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLnNpdGVfX2hlYWRlcicpLmFkZENsYXNzKCdzaXRlX19oZWFkZXJfZmlsbC1jYXJ0Jyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIG5ld0NvdW50ID09IDEgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NhcnQuZmluZCgnZGl2JykuaHRtbCggbmV3Q291bnQgKyAnIGl0ZW0nKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NhcnQuZmluZCgnZGl2JykuaHRtbCggbmV3Q291bnQgKyAnIGl0ZW1zJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDEwMCApO1xuXG4gICAgICAgICAgICAgICAgICAgIH0sIDYwMCApO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICBvbGRDb3VudCA9IHBhcnNlSW50KCBfY2FydC5maW5kKCdkaXYnKS50ZXh0KCkgKTtcbiAgICAgICAgICAgICAgICAgICAgbmV3Q291bnQgPSBwYXJzZUludCggX2lucHV0LnZhbCgpICkgKyBvbGRDb3VudDtcblxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2NhcnQuZmluZCgnZGl2JykuaHRtbCggbmV3Q291bnQgKyAnIGl0ZW1zJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSwgNzAwICk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICBfYWRkVG9DYXJ0QnRuLnJlbW92ZUNsYXNzKCdhZGRpbmcnKTtcblxuICAgICAgICAgICAgICAgIH0sIDcwMCApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3JlcXVlc3RQcm9kdWN0QWRkVG9DYXJ0ID0gZnVuY3Rpb24gKCBlbGVtICkge1xuXG4gICAgICAgICAgICAgICAgX3JlcXVlc3QuYWJvcnQoKTtcbiAgICAgICAgICAgICAgICBfcmVxdWVzdCA9ICQuYWpheCgge1xuICAgICAgICAgICAgICAgICAgICB1cmw6ICQoJ2JvZHknKS5hdHRyKCdkYXRhLWFjdGlvbicpLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246ICdzaW5nbGVfYWRkX3Byb2R1Y3QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGVsZW0uYXR0cignZGF0YS1pZCcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgY291bnRQcm9kdWN0OiBfaW5wdXQudmFsKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmljZTogX3ByaWNlLnRleHQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsYWc6ICdhZGRUb0NhcnQnXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiZ2V0XCIsXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChtKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggcGFyc2VJbnQoIG0uY2FydENvdW50UHJvZHVjdHMgKSAhPSBuZXdDb3VudCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jYXJ0LmZpbmQoJ2RpdicpLmh0bWwoIG0uY2FydENvdW50UHJvZHVjdHMgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoIFhNTEh0dHBSZXF1ZXN0LCBtICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBYTUxIdHRwUmVxdWVzdC5zdGF0dXNUZXh0ICE9IFwiYWJvcnRcIiApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggcGFyc2VJbnQoIG0uY2FydENvdW50UHJvZHVjdHMgKSAhPSBuZXdDb3VudCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2FydC5maW5kKCdkaXYnKS5odG1sKCBvbGRDb3VudCArICdpdGVtcycgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX29ialswXS5vYmogPSBfc2VsZjtcbiAgICAgICAgICAgICAgICBfYWRkRXZlbnRzKCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIC8vcHVibGljIHByb3BlcnRpZXNcblxuICAgICAgICAvL3B1YmxpYyBtZXRob2RzXG5cblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbn0gKSgpOyJdfQ==
