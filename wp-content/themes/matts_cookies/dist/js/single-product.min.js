"use strict";!function(){$(function(){new e($(".preloader")),$.each($(".site__header"),function(){new o($(this))}),$.each($(".site__menu-nav_anchors"),function(){new s($(this))}),$.each($(".slides"),function(){new i($(this))})});var e=function(e){var o=this,s=$(window),i=e,n=$("body"),t=function(){s.on({load:function(){d()}})},a=function(){n[0].preloader=o,t()},d=function(){i.addClass("preloader_loaded"),setTimeout(function(){i.remove(),$(".site").addClass("site__loaded")},500)};a()},o=function(e){var o=this,s=e,i=$(window),n=$("html"),t=s.find(".site__menu"),a=($(".site__content"),!1),d=!1,l=!0,r=0,c=s.find(".site__menu-btn"),f=0,h=function(){i.on({load:function(){f=i.width()},resize:function(){f!=i.width()&&(f=i.width()+1,i.width()>=1024&&(t.scrollTop(0),_(c)))},scroll:function(){a=i.scrollTop()>=2*s.innerHeight(),i.scrollTop()>=s.innerHeight()?l&&(l=!1,s.addClass("site__header_hide")):(l=!0,s.removeClass("site__header_hide")),a?s.hasClass("site__header_hide")&&setTimeout(function(){s.addClass("site__header_fixed"),s.removeClass("site__header_hide")},100):i.scrollTop()<=3*s.innerHeight()&&s.removeClass("site__header_fixed")},DOMMouseScroll:function(e){var o=e.originalEvent.detail;if(o){var s=o>0?1:-1;u(s)}s<0?d=!0:setTimeout(function(){d=!1},300)},mousewheel:function(e){var o=e.originalEvent.wheelDelta;if(o){var s=o>0?-1:1;u(s)}s<0?d=!0:setTimeout(function(){d=!1},300)}}),$(window).scroll(function(e){var o=$(this).scrollTop();if(o>r){u(1);var s=1}else{u(-1);var s=-1}r=o,s<0?d=!0:setTimeout(function(){d=!1},300)}),c.on({click:function(){$(this).hasClass("opened")?_($(this)):p($(this))}})},u=function(e){e>0&&!s.hasClass("site__header_hidden")&&!c.hasClass("opened")&&a&&!d&&s.addClass("site__header_hidden"),e<0&&s.hasClass("site__header_hidden")&&!c.hasClass("opened")&&a&&d&&s.removeClass("site__header_hidden")},_=function(e){n.css({overflowY:"auto"}),e.removeClass("opened"),s.removeClass("opened-menu")},v=function(){s[0].obj=o,h()},p=function(e){e.addClass("opened"),s.addClass("opened-menu"),n.css({overflowY:"hidden"})};v()},s=function(e){var o=this,s=e,i=s.find(".site__menu-link"),n=$("html"),t=$(window),a=$("html, body"),d=$(".site__header"),l=($(".popup__cookies-info"),function(){t.on({resize:function(){r()},scroll:function(){r()}}),i.on({click:function(){var e=$(this),o=e.attr("data-href"),s=$("."+o).offset().top-d.innerHeight();return i.removeClass("active"),e.addClass("active"),s=t.width()>=1024?$("."+o).offset().top-91:$("."+o).offset().top-64,a.stop(!0,!1),a.animate({scrollTop:s},300),n.css({overflowY:"auto"}),d.find(".site__menu-btn").removeClass("opened"),d.removeClass("opened-menu"),!1}})}),r=function(){for(var e=$(window).scrollTop(),o=$("body").find('[data-scroll="scroll"]'),s=(o.offset().top,0);s<o.length;s++){var n=$(o[s]),t=$(o[s]).offset().top-d.outerHeight(!0),a=$(o[s]).outerHeight(!0);if(e>t){var l=n.attr("class").split(" "),r=i.filter("[data-href="+l[0]+"]");i.removeClass("active"),r.addClass("active")}e>t+a&&i.removeClass("active")}},c=function(){s[0].obj=o,l(),r()};c()},i=function(e){var o=this,s=e,i=$(window),n=function(){i.on({scroll:function(){t()}})},t=function(){var e=i.scrollTop(),o=i.height(),n=s.offset().top,t=n-e,a=1-t/o;a>.5&&(s.hasClass("slides_active")||s.addClass("slides_active"))},a=function(){s[0].slides=o,n(),t()};a()}}();
"use strict";!function(){$(function(){$.each($(".product-single__gallery"),function(){new e($(this))})});var e=function(e){var s=e.find(".gallery__top"),i=e.find(".gallery__thumbs"),l=function(){var e=new Swiper(s,{spaceBetween:10,breakpoints:{1024:{effect:"fade",fade:{crossFade:!1}}},onSlideChangeStart:function(e){var s=e.activeIndex;$(l.slides).removeClass("is-selected"),$(l.slides).eq(s).addClass("is-selected"),l.slideTo(s,300,!0)}}),l=new Swiper(i,{touchRatio:.2,slidesPerView:2,slideToClickedSlide:!0,onClick:function(s,i){var l=s.clickedIndex;s.activeIndex=l,s.updateClasses(),$(s.slides).removeClass("is-selected"),$(s.clickedSlide).addClass("is-selected"),e.slideTo(l,300,!1)}});e.params.control=l,l.params.control=e},n=function(){l()};n()}}();
!function(){$(function(){$(".popup").each(function(){new o($(this))})});var o=function(o){var n,t=this,i=40,p=$(".popup__open"),e=o,c=e.find(".popup__close, .popup__cancel"),s=e.find(".popup__wrap"),u=e.find(".popup__content"),d=$("html"),a=$(window),h=setTimeout(function(){},1),f=function(){a.height()-2*i-s.height()>0?s.css({top:(a.height()-2*i-s.height())/2}):s.css({top:0})},r=function(){var o,n=document.createElement("div");return n.className="popup__scrollbar-measure",document.body.appendChild(n),o=n.offsetWidth-n.clientWidth,document.body.removeChild(n),o},l=function(){e.css({overflowY:"hidden"}),d.css({overflowY:"auto",paddingRight:0}),e.removeClass("popup_opened"),e.addClass("popup_hide"),h=setTimeout(function(){e.css({overflowY:"auto"}),e.removeClass("popup_hide")},300)},_=function(){e[0].obj=t,v()},v=function(){a.on({load:function(){n=a.width()},resize:function(){f(),a.width()>=1024&&n!=a.width()&&(n=a.width()+1,l())}}),p.on({click:function(){return $(this).hasClass("cookies-info_btn")?a.width()<1024?(w($(this).attr("data-popup")),!1):void 0:(w($(this).attr("data-popup")),!1)}}),s.on({click:function(o){o.stopPropagation()}}),e.on({click:function(){return l(),!1}}),c.on({click:function(){return l(),!1}})},w=function(o){m(o),d.css({overflowY:"hidden",paddingRight:r()}),e.addClass("popup_opened"),f()},m=function(o){var n=u.filter(".popup__"+o);u.css({display:"none"}),n.css({display:"block"})};_()}}();
"use strict";!function(){$(function(){$.each($(".count-product"),function(){new n($(this))})});var n=function(n){var t=this,c=n,i=c.find(".count-product__input"),u=c.find(".count-product_add"),o=c.find(".count-product_del"),e=function(){i.on({keypress:function(){46==event.which&&$(this).val().indexOf(".")==-1||!(event.which<48||event.which>57)||event.preventDefault()}}),i.on({keyup:function(){""==i.val()&&i.val(1)}}),u.on({click:function(){return f(),!1}}),o.on({click:function(){return r(),!1}})},f=function(){var n=parseInt(i.val());i.val(n+1)},r=function(){var n=parseInt(i.val());1!=n&&i.val(n-1)},a=function(){c[0].obj=t,e()};a()}}();
"use strict";!function(){$(function(){$.each($(".my-cart__product"),function(){new t($(this))}),$.each($(".product-single__info"),function(){new e($(this))})});var t=function(t){var e=this,n=t,i=n.find(".count-product__input"),o=n.find(".count-product__btn"),a=n.find(".my-cart__remove"),s=new XMLHttpRequest,d=$(".cart"),r=$(".my-cart__total"),c=$(window),u=function(){c.on({load:function(){p()},resize:function(){p()}}),i.on({keypress:function(){(46==event.which&&$(this).val().indexOf(".")==-1||!(event.which<48||event.which>57))&&_($(this).parents(".my-cart__product"))}}),o.on({click:function(){_($(this).parents(".my-cart__product"))}}),a.on({click:function(){return l($(this).parents(".my-cart__product")),!1}})},f=function(t){t.addClass("hidden"),setTimeout(function(){t.remove()},500)},l=function(t){s.abort(),s=$.ajax({url:$("body").attr("data-action"),data:{id:t.attr("data-id"),flag:"remove"},dataType:"json",type:"get",success:function(e){f(t),0==parseInt(e.cartCountProducts)?(d.find("div").remove(),d.removeClass("cart_fill"),$(".site__header").removeClass("site__header_fill-cart")):d.find("div").html(e.cartCountProducts),r.find("span").html(e.subtotal)},error:function(t){"abort"!=t.statusText&&alert("ERROR!!!")}})},_=function(t){s.abort(),s=$.ajax({url:$("body").attr("data-action"),data:{id:t.attr("data-id"),countProduct:t.find(".count-product__input").val(),flag:"changeCount"},dataType:"json",type:"get",success:function(e){t.find(".my-cart__total-price").html(e.total),r.find("span").html(e.subtotal)},error:function(t){"abort"!=t.statusText&&alert("ERROR!!!")}})},p=function(){n.each(function(){var t=$(this),e=t.find(">div");t.height(e.outerHeight(!0))})},h=function(){n[0].obj=e,u()};h()},e=function(t){var e=this,n=t,i=n.find(".count-product__input"),o=n.find(".product-single__price"),a=n.find(".product-single__add"),s=new XMLHttpRequest,d=$(".cart"),r=($(window),function(){a.on({click:function(t){return a.hasClass("adding")||(f(t,$(this).parents(".product-single__info")),a.addClass("adding")),!1}})}),c=function(t,e){var n=e.data("image"),i=t||window.event;i.pageX,i.pageY;$("body").append('<div class="site__product hidden"><img src="'+n+'" alt=""></div>'),$(".site__product").css({top:$(".gallery__top").offset().top+$(".gallery__top").innerHeight()/2-$(".site__product").height()/2,left:$(".gallery__top").offset().left+$(".gallery__top").innerWidth()/2-$(".site__product").width()/2}),setTimeout(function(){$(".site__product").addClass("visible"),$(".site__product").css({top:d.offset().top+d.innerHeight()/2-$(".site__product").height()/2,left:d.offset().left+d.innerWidth()/2-$(".site__product").width()/2})},100),setTimeout(function(){$(".site__product").removeClass("visible")},500),setTimeout(function(){$(".site__product").remove(),a.removeClass("adding")},700)},u=function(){var t="";t=1==parseInt(i.val())?" item":" items",$(".product-single").append('<div class="product-single__info-message hidden">'+i.val()+t+" added to cart</div>"),$(".product-single__info-message ").css({top:a.offset().top+a.innerHeight()+10,left:a.offset().left}),setTimeout(function(){$(".product-single__info-message").addClass("visible")},200),setTimeout(function(){$(".product-single__info-message").remove(),a.removeClass("adding")},3e3)},f=function(t,e){s.abort(),s=$.ajax({url:$("body").attr("data-action"),data:{id:e.attr("data-id"),countProduct:i.val(),price:o.text(),flag:"addToCart"},dataType:"json",type:"get",success:function(n){parseInt(n.cartCountProducts)!=parseInt(d.find("div").text())?d.hasClass("cart_fill")||(c(t,e),setTimeout(function(){d.append("<div></div>"),d.addClass("cart_fill"),$(".site__header").addClass("site__header_fill-cart"),setTimeout(function(){d.find("div").html(n.cartCountProducts)},100)},600)):u()},error:function(t){"abort"!=t.statusText&&alert("ERROR!!!")}})},l=function(){n[0].obj=e,r()};l()}}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5tYWluLmpzIiwianF1ZXJ5LnNpbmdsZS1wcm9kdWN0LmpzIiwianF1ZXJ5LnBvcHVwLmpzIiwianF1ZXJ5Lm51bWJlci1zcGlubmVyLmpzIiwianF1ZXJ5LmFqYXgtY2FydC5qcyJdLCJuYW1lcyI6WyIkIiwiUHJlbG9hZGVyIiwiZWFjaCIsIk1lbnUiLCJ0aGlzIiwiU2Nyb2xsUGFuZWwiLCJTbGlkZXMiLCJvYmoiLCJfc2VsZiIsIl93aW5kb3ciLCJ3aW5kb3ciLCJfcHJlbG9hZGVyIiwiX2JvZHkiLCJfYWRkRXZlbnRzIiwib24iLCJsb2FkIiwiX3Nob3dTaXRlIiwiX2luaXQiLCJwcmVsb2FkZXIiLCJhZGRDbGFzcyIsInNldFRpbWVvdXQiLCJyZW1vdmUiLCJfb2JqIiwiX2h0bWwiLCJfbWVudSIsImZpbmQiLCJfYWN0aW9uIiwiX2FjdGlvbjIiLCJfZmxhZ0hpZGUiLCJsYXN0U2Nyb2xsVG9wIiwiX3Nob3dNZW51QnRuIiwiX2dsb2JhbFdpZHRoIiwid2lkdGgiLCJyZXNpemUiLCJzY3JvbGxUb3AiLCJfY2xvc2VNZW51Iiwic2Nyb2xsIiwiaW5uZXJIZWlnaHQiLCJyZW1vdmVDbGFzcyIsImhhc0NsYXNzIiwiRE9NTW91c2VTY3JvbGwiLCJlIiwiZGVsdGEiLCJvcmlnaW5hbEV2ZW50IiwiZGV0YWlsIiwiZGlyZWN0aW9uIiwiX2NoZWNrU2Nyb2xsIiwibW91c2V3aGVlbCIsIndoZWVsRGVsdGEiLCJldmVudCIsInN0IiwiY2xpY2siLCJfb3Blbk1lbnUiLCJlbGVtIiwiY3NzIiwib3ZlcmZsb3dZIiwiX2xpbmtzIiwiX2RvbSIsIl9oZWFkZXIiLCJfY2hhbmdlQWN0aXZlIiwiY3VySXRlbSIsIm5ld0NsYXNzIiwiYXR0ciIsIm5leHRJdGVtVG9wIiwib2Zmc2V0IiwidG9wIiwic3RvcCIsImFuaW1hdGUiLCJpdGVtIiwiaSIsImxlbmd0aCIsImN1ciIsIml0ZW1DdXIiLCJvdXRlckhlaWdodCIsIml0ZW1IZWlnaHQiLCJjdXJDbGFzcyIsInNwbGl0IiwiY3VyTGluayIsImZpbHRlciIsImN1clNjcm9sbCIsIndpbmRvd0giLCJoZWlnaHQiLCJ0b3BQb3MiLCJ0b3BJbldpbmRvdyIsInZpc2libGVQZXJjZW50Iiwic2xpZGVzIiwiU3dpcGVyR2FsbGVyeSIsIl9nYWxsZXJ5VG9wIiwiX2dhbGxlcnlUaHVtYnMiLCJfaW5pdFN3aXBlciIsImdhbGxlcnlUb3AiLCJTd2lwZXIiLCJzcGFjZUJldHdlZW4iLCJicmVha3BvaW50cyIsIjEwMjQiLCJlZmZlY3QiLCJmYWRlIiwiY3Jvc3NGYWRlIiwib25TbGlkZUNoYW5nZVN0YXJ0Iiwic3dpcGVyIiwiYWN0aXZlSW5kZXgiLCJnYWxsZXJ5VGh1bWJzIiwiZXEiLCJzbGlkZVRvIiwidG91Y2hSYXRpbyIsInNsaWRlc1BlclZpZXciLCJzbGlkZVRvQ2xpY2tlZFNsaWRlIiwib25DbGljayIsImNsaWNrZWQiLCJjbGlja2VkSW5kZXgiLCJ1cGRhdGVDbGFzc2VzIiwiY2xpY2tlZFNsaWRlIiwicGFyYW1zIiwiY29udHJvbCIsIlBvcHVwIiwiX3BvcHVwUGFkZGluZyIsIl9idG5TaG93IiwiX2J0bkNsb3NlIiwiX3dyYXAiLCJfY29udGVudHMiLCJfc2Nyb2xsQ29udGVpbmVyIiwiX3RpbWVyIiwiX2NlbnRlcldyYXAiLCJfZ2V0U2Nyb2xsV2lkdGgiLCJzY3JvbGxCYXJXaWR0aCIsInNjcm9sbERpdiIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsImJvZHkiLCJhcHBlbmRDaGlsZCIsIm9mZnNldFdpZHRoIiwiY2xpZW50V2lkdGgiLCJyZW1vdmVDaGlsZCIsIl9oaWRlIiwicGFkZGluZ1JpZ2h0IiwiX29uRXZlbnRzIiwiX3Nob3ciLCJzdG9wUHJvcGFnYXRpb24iLCJfc2V0UG9wdXBDb250ZW50IiwiY3VyQ29udGVudCIsImRpc3BsYXkiLCJTcGlubmVyIiwiX2lucHV0IiwiX2J0blVwIiwiX2J0bkRvd24iLCJrZXlwcmVzcyIsIndoaWNoIiwidmFsIiwiaW5kZXhPZiIsInByZXZlbnREZWZhdWx0Iiwia2V5dXAiLCJfYWRkQ291bnQiLCJfcmVkdWNlQ291bnQiLCJ2YWx1ZSIsInBhcnNlSW50IiwiUHJvZHVjdHNJbkNhcnQiLCJBZGRQcm9kdWN0c1RvQ2FydCIsIl9idG5DaGFuZ2VDb3VudCIsIl9idG5SZW1vdmVQcm9kdWN0IiwiX3JlcXVlc3QiLCJYTUxIdHRwUmVxdWVzdCIsIl9jYXJ0IiwiX3RvdGFsUHJpY2UiLCJfc2V0SGVpZ2h0IiwiX3JlcXVlc3RDb3VudENoYW5nZSIsInBhcmVudHMiLCJfcmVxdWVzdFByb2R1Y3RSZW1vdmUiLCJfcmVtb3ZlUHJvZHVjdCIsImFib3J0IiwiYWpheCIsInVybCIsImRhdGEiLCJpZCIsImZsYWciLCJkYXRhVHlwZSIsInR5cGUiLCJzdWNjZXNzIiwibSIsImNhcnRDb3VudFByb2R1Y3RzIiwiaHRtbCIsInN1YnRvdGFsIiwiZXJyb3IiLCJzdGF0dXNUZXh0IiwiYWxlcnQiLCJjb3VudFByb2R1Y3QiLCJ0b3RhbCIsImNoaWxkcmVuIiwiX3ByaWNlIiwiX2FkZFRvQ2FydEJ0biIsIl9yZXF1ZXN0UHJvZHVjdEFkZFRvQ2FydCIsIl9hbmltYXRlZEFkZGluZyIsInBpYyIsInBhZ2VYIiwicGFnZVkiLCJhcHBlbmQiLCJsZWZ0IiwiaW5uZXJXaWR0aCIsIl9pbmZvQWRkaW5nIiwiaXRlbVRleHQiLCJwcmljZSIsInRleHQiXSwibWFwcGluZ3MiOiJBQUFBLGNBQ0EsV0FFSUEsRUFBRyxXQUVDLEdBQUlDLEdBQVdELEVBQUUsZUFFakJBLEVBQUVFLEtBQU1GLEVBQUcsaUJBQW1CLFdBRTFCLEdBQUlHLEdBQU9ILEVBQUdJLFNBSWxCSixFQUFFRSxLQUFNRixFQUFFLDJCQUE0QixXQUVsQyxHQUFJSyxHQUFhTCxFQUFFSSxTQUl2QkosRUFBRUUsS0FBTUYsRUFBRSxXQUFZLFdBRWxCLEdBQUlNLEdBQVFOLEVBQUVJLFVBTXRCLElBQUlILEdBQVksU0FBVU0sR0FHdEIsR0FBSUMsR0FBUUosS0FDUkssRUFBVVQsRUFBR1UsUUFD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LFNBSWZwSixFQUFFLG1CQUFtQm1NLE9BQU8sb0RBQXFEcEQsRUFBT0ssTUFBUW1ELEVBQVUsd0JBQzFHdk0sRUFBRSxrQ0FBa0NzRCxLQUNoQ1csSUFBSzRILEVBQWM3SCxTQUFTQyxJQUFNNEgsRUFBY3hKLGNBQWdCLEdBQ2hFK0osS0FBTVAsRUFBYzdILFNBQVNvSSxPQUdqQ2hMLFdBQVksV0FFUnBCLEVBQUUsaUNBQWlDbUIsU0FBUyxZQUU3QyxLQUVIQyxXQUFZLFdBRVJwQixFQUFFLGlDQUFpQ3FCLFNBQ25Dd0ssRUFBY3ZKLFlBQVksV0FFM0IsTUFJUHdKLEVBQTJCLFNBQVc3SSxFQUFPSSxHQUV6QzJHLEVBQVNTLFFBQ1RULEVBQVdoSyxFQUFFMEssTUFDVEMsSUFBSzNLLEVBQUUsUUFBUThELEtBQUssZUFDcEI4RyxNQUNJQyxHQUFJeEgsRUFBS1MsS0FBSyxXQUNkMkgsYUFBYzFDLEVBQU9LLE1BQ3JCb0QsTUFBT1osRUFBT2EsT0FDZDNCLEtBQU0sYUFFVkMsU0FBVSxPQUNWQyxLQUFNLE1BQ05DLFFBQVMsU0FBVUMsR0FFWHZCLFNBQVN1QixFQUFFQyxvQkFBc0J4QixTQUFTTyxFQUFNekksS0FBSyxPQUFPZ0wsUUFFckR2QyxFQUFNM0gsU0FBUyxlQUVsQndKLEVBQWlCOUksRUFBT0ksR0FFeEJqQyxXQUFZLFdBRVI4SSxFQUFNaUMsT0FBTyxlQUNiakMsRUFBTS9JLFNBQVMsYUFDZm5CLEVBQUUsaUJBQWlCbUIsU0FBUywwQkFFNUJDLFdBQVksV0FFUjhJLEVBQU16SSxLQUFLLE9BQU8ySixLQUFLRixFQUFFQyxvQkFFMUIsTUFFSixNQU9QbUIsS0FLUmhCLE1BQU8sU0FBVXJCLEdBQ3FCLFNBQTdCQSxFQUFlc0IsWUFDaEJDLE1BQU0sZ0JBTXRCdkssRUFBUSxXQUNKSyxFQUFLLEdBQUdmLElBQU1DLEVBQ2RLLElBUVJJIiwiZmlsZSI6InNpbmdsZS1wcm9kdWN0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuKCBmdW5jdGlvbigpe1xuXG4gICAgJCggZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIG5ldyBQcmVsb2FkZXIoICQoJy5wcmVsb2FkZXInKSApO1xuXG4gICAgICAgICQuZWFjaCggJCggJy5zaXRlX19oZWFkZXInICksIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICBuZXcgTWVudSAoICQoIHRoaXMgKSApO1xuXG4gICAgICAgIH0gKTtcblxuICAgICAgICAkLmVhY2goICQoJy5zaXRlX19tZW51LW5hdl9hbmNob3JzJyksIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgbmV3IFNjcm9sbFBhbmVsKCAkKHRoaXMpICk7XG5cbiAgICAgICAgfSApO1xuXG4gICAgICAgICQuZWFjaCggJCgnLnNsaWRlcycpLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIG5ldyBTbGlkZXMoICQodGhpcykgKTtcblxuICAgICAgICB9ICk7XG5cbiAgICB9ICk7XG5cbiAgICB2YXIgUHJlbG9hZGVyID0gZnVuY3Rpb24gKG9iaikge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfd2luZG93ID0gJCggd2luZG93ICksXG4gICAgICAgICAgICBfcHJlbG9hZGVyID0gb2JqLFxuICAgICAgICAgICAgX2JvZHkgPSAkKCdib2R5Jyk7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9hZGRFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfd2luZG93Lm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGxvYWQ6IGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9zaG93U2l0ZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF9ib2R5WzBdLnByZWxvYWRlciA9IF9zZWxmO1xuICAgICAgICAgICAgICAgIF9hZGRFdmVudHMoKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9zaG93U2l0ZSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgX3ByZWxvYWRlci5hZGRDbGFzcyggJ3ByZWxvYWRlcl9sb2FkZWQnICk7XG5cbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgIF9wcmVsb2FkZXIucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgICQoJy5zaXRlJykuYWRkQ2xhc3MoICdzaXRlX19sb2FkZWQnICk7XG5cbiAgICAgICAgICAgICAgICB9LDUwMCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIC8vcHVibGljIHByb3BlcnRpZXNcblxuICAgICAgICAvL3B1YmxpYyBtZXRob2RzXG5cblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbiAgICB2YXIgTWVudSA9IGZ1bmN0aW9uKCBvYmogKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfd2luZG93ID0gJCh3aW5kb3cpLFxuICAgICAgICAgICAgX2h0bWwgPSAkKCdodG1sJyksXG4gICAgICAgICAgICBfbWVudSA9IF9vYmouZmluZCgnLnNpdGVfX21lbnUnKSxcbiAgICAgICAgICAgIF9jb250ZW50ID0gJCgnLnNpdGVfX2NvbnRlbnQnKSxcbiAgICAgICAgICAgIF9hY3Rpb24gPSBmYWxzZSxcbiAgICAgICAgICAgIF9hY3Rpb24yID0gZmFsc2UsXG4gICAgICAgICAgICBfZmxhZ0hpZGUgPSB0cnVlLFxuICAgICAgICAgICAgbGFzdFNjcm9sbFRvcCA9IDAsXG4gICAgICAgICAgICBfc2hvd01lbnVCdG4gPSBfb2JqLmZpbmQoJy5zaXRlX19tZW51LWJ0bicpLFxuICAgICAgICAgICAgX2dsb2JhbFdpZHRoID0gMDtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuICAgICAgICAgICAgICAgICAgICBsb2FkOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9nbG9iYWxXaWR0aCA9IF93aW5kb3cud2lkdGgoKTtcblxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICByZXNpemU6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF9nbG9iYWxXaWR0aCAhPSBfd2luZG93LndpZHRoKCkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZ2xvYmFsV2lkdGggPSBfd2luZG93LndpZHRoKCkgKyAxO1xuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpID49IDEwMjQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX21lbnUuc2Nyb2xsVG9wKDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2xvc2VNZW51KCBfc2hvd01lbnVCdG4gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICdzY3JvbGwnOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9hY3Rpb24gPSBfd2luZG93LnNjcm9sbFRvcCgpID49IF9vYmouaW5uZXJIZWlnaHQoKSAqIDI7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LnNjcm9sbFRvcCgpID49IF9vYmouaW5uZXJIZWlnaHQoKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfZmxhZ0hpZGUgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2ZsYWdIaWRlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vYmouYWRkQ2xhc3MoICdzaXRlX19oZWFkZXJfaGlkZScgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2ZsYWdIaWRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb2JqLnJlbW92ZUNsYXNzKCAnc2l0ZV9faGVhZGVyX2hpZGUnICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX2FjdGlvbiApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfb2JqLmhhc0NsYXNzKCAnc2l0ZV9faGVhZGVyX2hpZGUnICkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vYmouYWRkQ2xhc3MoICdzaXRlX19oZWFkZXJfZml4ZWQnICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb2JqLnJlbW92ZUNsYXNzKCAnc2l0ZV9faGVhZGVyX2hpZGUnICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAwICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICggX3dpbmRvdy5zY3JvbGxUb3AoKSA8PSBfb2JqLmlubmVySGVpZ2h0KCkgKiAzICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX29iai5yZW1vdmVDbGFzcyggJ3NpdGVfX2hlYWRlcl9maXhlZCcgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICdET01Nb3VzZVNjcm9sbCc6IGZ1bmN0aW9uICggZSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlbHRhID0gZS5vcmlnaW5hbEV2ZW50LmRldGFpbDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBkZWx0YSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaXJlY3Rpb24gPSAoIGRlbHRhID4gMCApID8gMSA6IC0xO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NoZWNrU2Nyb2xsKCBkaXJlY3Rpb24gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGRpcmVjdGlvbiA8IDAgICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2FjdGlvbjIgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2FjdGlvbjIgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDMwMCApXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICdtb3VzZXdoZWVsJzogZnVuY3Rpb24gKCBlICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGVsdGEgPSBlLm9yaWdpbmFsRXZlbnQud2hlZWxEZWx0YTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBkZWx0YSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaXJlY3Rpb24gPSAoIGRlbHRhID4gMCApID8gLTEgOiAxO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NoZWNrU2Nyb2xsKCBkaXJlY3Rpb24gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGRpcmVjdGlvbiA8IDAgICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2FjdGlvbjIgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2FjdGlvbjIgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDMwMCApXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAkKHdpbmRvdykuc2Nyb2xsKGZ1bmN0aW9uKGV2ZW50KXtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgc3QgPSAkKHRoaXMpLnNjcm9sbFRvcCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdCA+IGxhc3RTY3JvbGxUb3Ape1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfY2hlY2tTY3JvbGwoIDEgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpcmVjdGlvbiA9IDFcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfY2hlY2tTY3JvbGwoIC0xICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaXJlY3Rpb24gPSAtMVxuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGFzdFNjcm9sbFRvcCA9IHN0O1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICggZGlyZWN0aW9uIDwgMCAgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9hY3Rpb24yID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hY3Rpb24yID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDMwMCApXG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgX3Nob3dNZW51QnRuLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoICQoIHRoaXMgKS5oYXNDbGFzcyggJ29wZW5lZCcgKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jbG9zZU1lbnUoICQoIHRoaXMgKSApXG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vcGVuTWVudSggJCggdGhpcyApICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfY2hlY2tTY3JvbGwgPSBmdW5jdGlvbiggZGlyZWN0aW9uICkge1xuXG4gICAgICAgICAgICAgICAgaWYoIGRpcmVjdGlvbiA+IDAgJiYgIV9vYmouaGFzQ2xhc3MoICdzaXRlX19oZWFkZXJfaGlkZGVuJyApICYmICFfc2hvd01lbnVCdG4uaGFzQ2xhc3MoICdvcGVuZWQnICkgJiYgX2FjdGlvbiAmJiAhX2FjdGlvbjIgKXtcblxuICAgICAgICAgICAgICAgICAgICBfb2JqLmFkZENsYXNzKCAnc2l0ZV9faGVhZGVyX2hpZGRlbicgKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmKCBkaXJlY3Rpb24gPCAwICYmIF9vYmouaGFzQ2xhc3MoICdzaXRlX19oZWFkZXJfaGlkZGVuJyApICYmICFfc2hvd01lbnVCdG4uaGFzQ2xhc3MoICdvcGVuZWQnICkgICYmIF9hY3Rpb24gJiYgX2FjdGlvbjIgKXtcblxuICAgICAgICAgICAgICAgICAgICBfb2JqLnJlbW92ZUNsYXNzKCdzaXRlX19oZWFkZXJfaGlkZGVuJyk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfY2xvc2VNZW51ID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cbiAgICAgICAgICAgICAgICBfaHRtbC5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3dZOiAnYXV0bydcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBlbGVtLnJlbW92ZUNsYXNzKCAnb3BlbmVkJyApO1xuICAgICAgICAgICAgICAgIF9vYmoucmVtb3ZlQ2xhc3MoICdvcGVuZWQtbWVudScgKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgX29ialsgMCBdLm9iaiA9IF9zZWxmO1xuICAgICAgICAgICAgICAgIF9hZGRFdmVudHMoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfb3Blbk1lbnUgPSBmdW5jdGlvbiggZWxlbSApICB7XG5cbiAgICAgICAgICAgICAgICBlbGVtLmFkZENsYXNzKCAnb3BlbmVkJyApO1xuICAgICAgICAgICAgICAgIF9vYmouYWRkQ2xhc3MoICdvcGVuZWQtbWVudScgKTtcblxuICAgICAgICAgICAgICAgIF9odG1sLmNzcygge1xuICAgICAgICAgICAgICAgICAgICBvdmVyZmxvd1k6ICdoaWRkZW4nXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBTY3JvbGxQYW5lbCA9IGZ1bmN0aW9uICggb2JqICkge1xuXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX2xpbmtzID0gX29iai5maW5kKCcuc2l0ZV9fbWVudS1saW5rJyksXG4gICAgICAgICAgICBfaHRtbCA9ICQoJ2h0bWwnKSxcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKHdpbmRvdyksXG4gICAgICAgICAgICBfZG9tID0gICQoICdodG1sLCBib2R5JyksXG4gICAgICAgICAgICBfaGVhZGVyID0gJCgnLnNpdGVfX2hlYWRlcicpLFxuICAgICAgICAgICAgX3BvcHVwID0gJCgnLnBvcHVwX19jb29raWVzLWluZm8nKTtcblxuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF93aW5kb3cub24oIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzaXplOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9jaGFuZ2VBY3RpdmUoKTtcblxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAnc2Nyb2xsJzogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfY2hhbmdlQWN0aXZlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgIF9saW5rcy5vbigge1xuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJJdGVtID0gJCggdGhpcyApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0NsYXNzID0gY3VySXRlbS5hdHRyKCdkYXRhLWhyZWYnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0SXRlbVRvcCA9ICQoICcuJyArIG5ld0NsYXNzICApLm9mZnNldCgpLnRvcCAtIF9oZWFkZXIuaW5uZXJIZWlnaHQoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2xpbmtzLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1ckl0ZW0uYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpID49IDEwMjQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0SXRlbVRvcCA9ICQoICcuJyArIG5ld0NsYXNzICApLm9mZnNldCgpLnRvcCAtIDkxO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dEl0ZW1Ub3AgPSAkKCAnLicgKyBuZXdDbGFzcyAgKS5vZmZzZXQoKS50b3AgLSA2NDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgX2RvbS5zdG9wKCB0cnVlLCBmYWxzZSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2RvbS5hbmltYXRlKCB7IHNjcm9sbFRvcDogbmV4dEl0ZW1Ub3AgIH0sIDMwMCApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfaHRtbC5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdmVyZmxvd1k6ICdhdXRvJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfaGVhZGVyLmZpbmQoJy5zaXRlX19tZW51LWJ0bicpLnJlbW92ZUNsYXNzKCAnb3BlbmVkJyApO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2hlYWRlci5yZW1vdmVDbGFzcyggJ29wZW5lZC1tZW51JyApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9jaGFuZ2VBY3RpdmUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgc2Nyb2xsVG9wID0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpLFxuICAgICAgICAgICAgICAgICAgICBpdGVtID0gJCgnYm9keScpLmZpbmQoJ1tkYXRhLXNjcm9sbD1cInNjcm9sbFwiXScpLFxuICAgICAgICAgICAgICAgICAgICBpdGVtUG9zID0gaXRlbS5vZmZzZXQoKS50b3A7XG5cbiAgICAgICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgaXRlbS5sZW5ndGg7IGkrKyApIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgY3VyID0gJChpdGVtW2ldKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1DdXIgPSAkKGl0ZW1baV0pLm9mZnNldCgpLnRvcCAtIF9oZWFkZXIub3V0ZXJIZWlnaHQodHJ1ZSksXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtSGVpZ2h0ID0gJChpdGVtW2ldKS5vdXRlckhlaWdodCh0cnVlKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiggc2Nyb2xsVG9wID4gaXRlbUN1ciApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckNsYXNzID0gY3VyLmF0dHIoJ2NsYXNzJykuc3BsaXQoJyAnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJMaW5rID0gX2xpbmtzLmZpbHRlcihcIltkYXRhLWhyZWY9XCIrY3VyQ2xhc3NbMF0rXCJdXCIpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfbGlua3MucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VyTGluay5hZGRDbGFzcygnYWN0aXZlJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiggc2Nyb2xsVG9wID4gKCBpdGVtQ3VyICsgaXRlbUhlaWdodCApICl7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9saW5rcy5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIF9vYmpbMF0ub2JqID0gX3NlbGY7XG4gICAgICAgICAgICAgICAgX2FkZEV2ZW50cygpO1xuICAgICAgICAgICAgICAgIF9jaGFuZ2VBY3RpdmUoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG4gICAgdmFyIFNsaWRlcyA9IGZ1bmN0aW9uIChvYmopIHtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKHdpbmRvdyk7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9hZGRFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbih7XG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2NoZWNrU2Nyb2xsKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfY2hlY2tTY3JvbGwgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIHZhciBjdXJTY3JvbGwgPSBfd2luZG93LnNjcm9sbFRvcCgpLFxuICAgICAgICAgICAgICAgICAgICB3aW5kb3dIID0gX3dpbmRvdy5oZWlnaHQoKSxcbiAgICAgICAgICAgICAgICAgICAgdG9wUG9zID0gX29iai5vZmZzZXQoKS50b3AsXG4gICAgICAgICAgICAgICAgICAgIHRvcEluV2luZG93ID0gdG9wUG9zLWN1clNjcm9sbCxcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZVBlcmNlbnQgPSAxLSh0b3BJbldpbmRvdy93aW5kb3dIKTtcblxuICAgICAgICAgICAgICAgIGlmKCB2aXNpYmxlUGVyY2VudCA+IC41ICl7XG4gICAgICAgICAgICAgICAgICAgIGlmKCAhX29iai5oYXNDbGFzcygnc2xpZGVzX2FjdGl2ZScpICl7XG4gICAgICAgICAgICAgICAgICAgICAgICBfb2JqLmFkZENsYXNzKCdzbGlkZXNfYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfb2JqWzBdLnNsaWRlcyA9IF9zZWxmO1xuICAgICAgICAgICAgICAgIF9hZGRFdmVudHMoKTtcbiAgICAgICAgICAgICAgICBfY2hlY2tTY3JvbGwoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgLy9wdWJsaWMgcHJvcGVydGllc1xuXG4gICAgICAgIC8vcHVibGljIG1ldGhvZHNcblxuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxufSApKCk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG4oIGZ1bmN0aW9uKCl7XG5cbiAgICAkKCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgJC5lYWNoKCAkKCcucHJvZHVjdC1zaW5nbGVfX2dhbGxlcnknICksIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgbmV3IFN3aXBlckdhbGxlcnkoICQodGhpcykgKTtcblxuICAgICAgICB9ICk7XG5cbiAgICB9ICk7XG5cbiAgICB2YXIgU3dpcGVyR2FsbGVyeSA9IGZ1bmN0aW9uIChvYmopIHtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX2dhbGxlcnlUb3AgPSBvYmouZmluZCgnLmdhbGxlcnlfX3RvcCcpLFxuICAgICAgICAgICAgX2dhbGxlcnlUaHVtYnMgPSBvYmouZmluZCgnLmdhbGxlcnlfX3RodW1icycpO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfaW5pdFN3aXBlciA9IGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgICAgICAgICB2YXIgZ2FsbGVyeVRvcCA9IG5ldyBTd2lwZXIoX2dhbGxlcnlUb3AsIHtcbiAgICAgICAgICAgICAgICAgICAgc3BhY2VCZXR3ZWVuOiAxMCxcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtwb2ludHM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIDEwMjQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlZmZlY3Q6ICdmYWRlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWRlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyb3NzRmFkZTogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG9uU2xpZGVDaGFuZ2VTdGFydDogZnVuY3Rpb24oc3dpcGVyKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhY3RpdmVJbmRleCA9IHN3aXBlci5hY3RpdmVJbmRleDtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoZ2FsbGVyeVRodW1icy5zbGlkZXMpLnJlbW92ZUNsYXNzKCdpcy1zZWxlY3RlZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJChnYWxsZXJ5VGh1bWJzLnNsaWRlcykuZXEoYWN0aXZlSW5kZXgpLmFkZENsYXNzKCdpcy1zZWxlY3RlZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2FsbGVyeVRodW1icy5zbGlkZVRvKGFjdGl2ZUluZGV4LCAzMDAsIHRydWUpO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgdmFyIGdhbGxlcnlUaHVtYnMgPSBuZXcgU3dpcGVyKF9nYWxsZXJ5VGh1bWJzLCB7XG4gICAgICAgICAgICAgICAgICAgIHRvdWNoUmF0aW86IDAuMixcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVzUGVyVmlldzogMixcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVUb0NsaWNrZWRTbGlkZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgb25DbGljazogZnVuY3Rpb24gKHN3aXBlciwgZXZlbnQpe1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNsaWNrZWQgPSBzd2lwZXIuY2xpY2tlZEluZGV4O1xuICAgICAgICAgICAgICAgICAgICAgICAgc3dpcGVyLmFjdGl2ZUluZGV4ID0gY2xpY2tlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXBlci51cGRhdGVDbGFzc2VzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKHN3aXBlci5zbGlkZXMpLnJlbW92ZUNsYXNzKCdpcy1zZWxlY3RlZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJChzd2lwZXIuY2xpY2tlZFNsaWRlKS5hZGRDbGFzcygnaXMtc2VsZWN0ZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdhbGxlcnlUb3Auc2xpZGVUbyhjbGlja2VkLCAzMDAsIGZhbHNlKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgZ2FsbGVyeVRvcC5wYXJhbXMuY29udHJvbCA9IGdhbGxlcnlUaHVtYnM7XG4gICAgICAgICAgICAgICAgZ2FsbGVyeVRodW1icy5wYXJhbXMuY29udHJvbCA9IGdhbGxlcnlUb3A7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfaW5pdFN3aXBlcigpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbn0gKSgpOyIsIiggZnVuY3Rpb24oKXtcblxuICAgICQoIGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgJCggJy5wb3B1cCcgKS5lYWNoKGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgICAgIG5ldyBQb3B1cCgkKHRoaXMpKTtcblxuICAgICAgICB9KTtcblxuICAgIH0pO1xuXG4gICAgdmFyIFBvcHVwID0gZnVuY3Rpb24oIG9iaiApe1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfcG9wdXBQYWRkaW5nID0gNDAsXG4gICAgICAgICAgICBfYnRuU2hvdyA9ICAkKCAnLnBvcHVwX19vcGVuJyApLFxuICAgICAgICAgICAgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF9idG5DbG9zZSA9IF9vYmouZmluZCggJy5wb3B1cF9fY2xvc2UsIC5wb3B1cF9fY2FuY2VsJyApLFxuICAgICAgICAgICAgX3dyYXAgPSBfb2JqLmZpbmQoICcucG9wdXBfX3dyYXAnICksXG4gICAgICAgICAgICBfY29udGVudHMgPSBfb2JqLmZpbmQoICcucG9wdXBfX2NvbnRlbnQnICksXG4gICAgICAgICAgICBfc2Nyb2xsQ29udGVpbmVyID0gJCggJ2h0bWwnICksXG4gICAgICAgICAgICBfd2luZG93ID0gJCggd2luZG93ICksXG4gICAgICAgICAgICBfZ2xvYmFsV2lkdGgsXG4gICAgICAgICAgICBfdGltZXIgPSBzZXRUaW1lb3V0KCBmdW5jdGlvbigpe30sIDEgKTtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX2NlbnRlcldyYXAgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIGlmICggX3dpbmRvdy5oZWlnaHQoKSAtICggX3BvcHVwUGFkZGluZyAqIDIgKSAtIF93cmFwLmhlaWdodCgpID4gMCApIHtcbiAgICAgICAgICAgICAgICAgICAgX3dyYXAuY3NzKCB7IHRvcDogKCAoIF93aW5kb3cuaGVpZ2h0KCkgLSAoIF9wb3B1cFBhZGRpbmcgKiAyICkgKSAtIF93cmFwLmhlaWdodCgpICkgLyAyIH0gKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBfd3JhcC5jc3MoIHsgdG9wOiAwIH0gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2dldFNjcm9sbFdpZHRoID0gZnVuY3Rpb24gKCl7XG4gICAgICAgICAgICAgICAgdmFyIHNjcm9sbERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdkaXYnKSxcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsQmFyV2lkdGg7XG5cbiAgICAgICAgICAgICAgICBzY3JvbGxEaXYuY2xhc3NOYW1lID0gJ3BvcHVwX19zY3JvbGxiYXItbWVhc3VyZSc7XG5cbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKCBzY3JvbGxEaXYgKTtcblxuICAgICAgICAgICAgICAgIHNjcm9sbEJhcldpZHRoID0gc2Nyb2xsRGl2Lm9mZnNldFdpZHRoIC0gc2Nyb2xsRGl2LmNsaWVudFdpZHRoO1xuXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChzY3JvbGxEaXYpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNjcm9sbEJhcldpZHRoO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9oaWRlID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBfb2JqLmNzcygge1xuICAgICAgICAgICAgICAgICAgICBvdmVyZmxvd1k6ICdoaWRkZW4nXG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgIF9zY3JvbGxDb250ZWluZXIuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgIG92ZXJmbG93WTogJ2F1dG8nLFxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nUmlnaHQ6IDBcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBfb2JqLnJlbW92ZUNsYXNzKCAncG9wdXBfb3BlbmVkJyApO1xuICAgICAgICAgICAgICAgIF9vYmouYWRkQ2xhc3MoICdwb3B1cF9oaWRlJyApO1xuXG4gICAgICAgICAgICAgICAgX3RpbWVyID0gc2V0VGltZW91dCggZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgICAgICAgICBfb2JqLmNzcyAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3dZOiAnYXV0bydcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgX29iai5yZW1vdmVDbGFzcyggJ3BvcHVwX2hpZGUnICk7XG4gICAgICAgICAgICAgICAgfSwgMzAwICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgX29ialsgMCBdLm9iaiA9IF9zZWxmO1xuICAgICAgICAgICAgICAgIF9vbkV2ZW50cygpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9vbkV2ZW50cyA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuICAgICAgICAgICAgICAgICAgICBsb2FkOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9nbG9iYWxXaWR0aCA9IF93aW5kb3cud2lkdGgoKTtcblxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICByZXNpemU6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBfY2VudGVyV3JhcCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpID49IDEwMjQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggX2dsb2JhbFdpZHRoICE9IF93aW5kb3cud2lkdGgoKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZ2xvYmFsV2lkdGggPSBfd2luZG93LndpZHRoKCkgKyAxO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9oaWRlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgIF9idG5TaG93Lm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigpe1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggJCh0aGlzKS5oYXNDbGFzcygnY29va2llcy1pbmZvX2J0bicpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA8IDEwMjQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3Nob3coICQoIHRoaXMgKS5hdHRyKCAnZGF0YS1wb3B1cCcgKSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2hvdyggJCggdGhpcyApLmF0dHIoICdkYXRhLXBvcHVwJyApICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICBfd3JhcC5vbigge1xuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oIGUgKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgX29iai5vbigge1xuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgX2J0bkNsb3NlLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgX2hpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfc2hvdyA9IGZ1bmN0aW9uKCBjbGFzc05hbWUgKXtcbiAgICAgICAgICAgICAgICBfc2V0UG9wdXBDb250ZW50KCBjbGFzc05hbWUgKTtcblxuICAgICAgICAgICAgICAgIF9zY3JvbGxDb250ZWluZXIuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgIG92ZXJmbG93WTogJ2hpZGRlbicsXG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmdSaWdodDogX2dldFNjcm9sbFdpZHRoKClcbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgX29iai5hZGRDbGFzcyggJ3BvcHVwX29wZW5lZCcgKTtcbiAgICAgICAgICAgICAgICBfY2VudGVyV3JhcCgpO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3NldFBvcHVwQ29udGVudCA9IGZ1bmN0aW9uKCBjbGFzc05hbWUgKXtcbiAgICAgICAgICAgICAgICB2YXIgY3VyQ29udGVudCA9IF9jb250ZW50cy5maWx0ZXIoICcucG9wdXBfXycgKyBjbGFzc05hbWUgKTtcblxuICAgICAgICAgICAgICAgIF9jb250ZW50cy5jc3MoIHsgZGlzcGxheTogJ25vbmUnIH0gKTtcbiAgICAgICAgICAgICAgICBjdXJDb250ZW50LmNzcyggeyBkaXNwbGF5OiAnYmxvY2snIH0gKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgLy9wdWJsaWMgcHJvcGVydGllc1xuXG4gICAgICAgIC8vcHVibGljIG1ldGhvZHNcblxuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxufSApKCk7XG5cbiIsIlwidXNlIHN0cmljdFwiO1xuKCBmdW5jdGlvbigpe1xuXG4gICAgJCggZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICQuZWFjaCggJCgnLmNvdW50LXByb2R1Y3QnKSwgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBuZXcgU3Bpbm5lciggJCh0aGlzKSApO1xuXG4gICAgICAgIH0gKTtcblxuICAgIH0gKTtcblxuICAgIHZhciBTcGlubmVyID0gZnVuY3Rpb24gKG9iaikge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX2lucHV0ID0gX29iai5maW5kKCcuY291bnQtcHJvZHVjdF9faW5wdXQnKSxcbiAgICAgICAgICAgIF9idG5VcCA9IF9vYmouZmluZCgnLmNvdW50LXByb2R1Y3RfYWRkJyksXG4gICAgICAgICAgICBfYnRuRG93biA9IF9vYmouZmluZCgnLmNvdW50LXByb2R1Y3RfZGVsJyk7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9hZGRFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfaW5wdXQub24oIHtcbiAgICAgICAgICAgICAgICAgICAga2V5cHJlc3M6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCAoIGV2ZW50LndoaWNoICE9IDQ2IHx8ICQoIHRoaXMgKS52YWwoKS5pbmRleE9mKCAnLicgKSAhPSAtMSApICYmICggZXZlbnQud2hpY2ggPCA0OCB8fCBldmVudC53aGljaCA+IDU3ICkgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgX2lucHV0Lm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGtleXVwOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfaW5wdXQudmFsKCkgPT0gJycgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaW5wdXQudmFsKCAxICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgX2J0blVwLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9hZGRDb3VudCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIF9idG5Eb3duLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZWR1Y2VDb3VudCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9hZGRDb3VudCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gcGFyc2VJbnQoIF9pbnB1dC52YWwoKSApO1xuXG4gICAgICAgICAgICAgICAgX2lucHV0LnZhbCggdmFsdWUgKyAxICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfcmVkdWNlQ291bnQgPSBmdW5jdGlvbigpe1xuXG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gcGFyc2VJbnQoIF9pbnB1dC52YWwoKSApO1xuXG4gICAgICAgICAgICAgICAgaWYoIHZhbHVlICE9IDEgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgX2lucHV0LnZhbCggdmFsdWUgLSAxICk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfb2JqWzBdLm9iaiA9IF9zZWxmO1xuICAgICAgICAgICAgICAgIF9hZGRFdmVudHMoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgLy9wdWJsaWMgcHJvcGVydGllc1xuXG4gICAgICAgIC8vcHVibGljIG1ldGhvZHNcblxuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxufSApKCk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG4oIGZ1bmN0aW9uKCl7XG5cbiAgICAkKCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgJC5lYWNoKCAkKCcubXktY2FydF9fcHJvZHVjdCcpLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIG5ldyBQcm9kdWN0c0luQ2FydCggJCh0aGlzKSApO1xuXG4gICAgICAgIH0gKTtcblxuICAgICAgICAkLmVhY2goICQoJy5wcm9kdWN0LXNpbmdsZV9faW5mbycpLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIG5ldyBBZGRQcm9kdWN0c1RvQ2FydCggJCh0aGlzKSApO1xuXG4gICAgICAgIH0gKTtcblxuICAgIH0gKTtcblxuICAgIHZhciBQcm9kdWN0c0luQ2FydCA9IGZ1bmN0aW9uIChvYmopIHtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF9pbnB1dCA9IF9vYmouZmluZCgnLmNvdW50LXByb2R1Y3RfX2lucHV0JyksXG4gICAgICAgICAgICBfYnRuQ2hhbmdlQ291bnQgPSBfb2JqLmZpbmQoJy5jb3VudC1wcm9kdWN0X19idG4nKSxcbiAgICAgICAgICAgIF9idG5SZW1vdmVQcm9kdWN0ID0gX29iai5maW5kKCcubXktY2FydF9fcmVtb3ZlJyksXG4gICAgICAgICAgICBfcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpLFxuICAgICAgICAgICAgX2NhcnQgPSAkKCcuY2FydCcpLFxuICAgICAgICAgICAgX3RvdGFsUHJpY2UgPSAkKCcubXktY2FydF9fdG90YWwnKSxcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKHdpbmRvdyk7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9hZGRFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfd2luZG93Lm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGxvYWQ6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfc2V0SGVpZ2h0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcmVzaXplOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9zZXRIZWlnaHQoKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgX2lucHV0Lm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGtleXByZXNzOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggISgoIGV2ZW50LndoaWNoICE9IDQ2IHx8ICQoIHRoaXMgKS52YWwoKS5pbmRleE9mKCAnLicgKSAhPSAtMSApICYmICggZXZlbnQud2hpY2ggPCA0OCB8fCBldmVudC53aGljaCA+IDU3ICkpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlcXVlc3RDb3VudENoYW5nZSggJCh0aGlzKS5wYXJlbnRzKCcubXktY2FydF9fcHJvZHVjdCcpICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgX2J0bkNoYW5nZUNvdW50Lm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9yZXF1ZXN0Q291bnRDaGFuZ2UoICQodGhpcykucGFyZW50cygnLm15LWNhcnRfX3Byb2R1Y3QnKSApO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBfYnRuUmVtb3ZlUHJvZHVjdC5vbigge1xuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVxdWVzdFByb2R1Y3RSZW1vdmUoICQodGhpcykucGFyZW50cygnLm15LWNhcnRfX3Byb2R1Y3QnKSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9yZW1vdmVQcm9kdWN0ID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cbiAgICAgICAgICAgICAgICBlbGVtLmFkZENsYXNzKCdoaWRkZW4nKTtcblxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIGVsZW0ucmVtb3ZlKCk7XG5cbiAgICAgICAgICAgICAgICB9LCA1MDAgKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9yZXF1ZXN0UHJvZHVjdFJlbW92ZSA9IGZ1bmN0aW9uICggZWxlbSApIHtcblxuICAgICAgICAgICAgICAgIF9yZXF1ZXN0LmFib3J0KCk7XG4gICAgICAgICAgICAgICAgX3JlcXVlc3QgPSAkLmFqYXgoIHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAkKCdib2R5JykuYXR0cignZGF0YS1hY3Rpb24nKSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGVsZW0uYXR0cignZGF0YS1pZCcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmxhZzogJ3JlbW92ZSdcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJnZXRcIixcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKG0pIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlbW92ZVByb2R1Y3QoIGVsZW0gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIHBhcnNlSW50KG0uY2FydENvdW50UHJvZHVjdHMpID09IDAgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2FydC5maW5kKCdkaXYnKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2FydC5yZW1vdmVDbGFzcygnY2FydF9maWxsJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLnNpdGVfX2hlYWRlcicpLnJlbW92ZUNsYXNzKCdzaXRlX19oZWFkZXJfZmlsbC1jYXJ0Jyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2FydC5maW5kKCdkaXYnKS5odG1sKCBtLmNhcnRDb3VudFByb2R1Y3RzICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF90b3RhbFByaWNlLmZpbmQoJ3NwYW4nKS5odG1sKCBtLnN1YnRvdGFsICk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChYTUxIdHRwUmVxdWVzdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBYTUxIdHRwUmVxdWVzdC5zdGF0dXNUZXh0ICE9IFwiYWJvcnRcIiApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydChcIkVSUk9SISEhXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3JlcXVlc3RDb3VudENoYW5nZSA9IGZ1bmN0aW9uICggZWxlbSApIHtcblxuICAgICAgICAgICAgICAgIF9yZXF1ZXN0LmFib3J0KCk7XG4gICAgICAgICAgICAgICAgX3JlcXVlc3QgPSAkLmFqYXgoIHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAkKCdib2R5JykuYXR0cignZGF0YS1hY3Rpb24nKSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGVsZW0uYXR0cignZGF0YS1pZCcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgY291bnRQcm9kdWN0OiBlbGVtLmZpbmQoJy5jb3VudC1wcm9kdWN0X19pbnB1dCcpLnZhbCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmxhZzogJ2NoYW5nZUNvdW50J1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImdldFwiLFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAobSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtLmZpbmQoJy5teS1jYXJ0X190b3RhbC1wcmljZScpLmh0bWwoIG0udG90YWwgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90b3RhbFByaWNlLmZpbmQoJ3NwYW4nKS5odG1sKCBtLnN1YnRvdGFsICk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChYTUxIdHRwUmVxdWVzdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBYTUxIdHRwUmVxdWVzdC5zdGF0dXNUZXh0ICE9IFwiYWJvcnRcIiApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydChcIkVSUk9SISEhXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3NldEhlaWdodCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgX29iai5lYWNoKCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgY3VySXRlbSA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbiA9IGN1ckl0ZW0uZmluZCgnPmRpdicpO1xuXG4gICAgICAgICAgICAgICAgICAgIGN1ckl0ZW0uaGVpZ2h0KCBjaGlsZHJlbi5vdXRlckhlaWdodCh0cnVlKSApO1xuXG4gICAgICAgICAgICAgICAgfSApXG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfb2JqWzBdLm9iaiA9IF9zZWxmO1xuICAgICAgICAgICAgICAgIF9hZGRFdmVudHMoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgLy9wdWJsaWMgcHJvcGVydGllc1xuXG4gICAgICAgIC8vcHVibGljIG1ldGhvZHNcblxuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBBZGRQcm9kdWN0c1RvQ2FydCA9IGZ1bmN0aW9uIChvYmopIHtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF9pbnB1dCA9IF9vYmouZmluZCgnLmNvdW50LXByb2R1Y3RfX2lucHV0JyksXG4gICAgICAgICAgICBfcHJpY2UgPSBfb2JqLmZpbmQoJy5wcm9kdWN0LXNpbmdsZV9fcHJpY2UnKSxcbiAgICAgICAgICAgIF9hZGRUb0NhcnRCdG4gPSBfb2JqLmZpbmQoJy5wcm9kdWN0LXNpbmdsZV9fYWRkJyksXG4gICAgICAgICAgICBfcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpLFxuICAgICAgICAgICAgX2NhcnQgPSAkKCcuY2FydCcpLFxuICAgICAgICAgICAgX3dpbmRvdyA9ICQod2luZG93KTtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF9hZGRUb0NhcnRCdG4ub24oIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uICggZXZlbnQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAhKCBfYWRkVG9DYXJ0QnRuLmhhc0NsYXNzKCdhZGRpbmcnKSApICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlcXVlc3RQcm9kdWN0QWRkVG9DYXJ0KCBldmVudCwgJCh0aGlzKS5wYXJlbnRzKCcucHJvZHVjdC1zaW5nbGVfX2luZm8nKSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hZGRUb0NhcnRCdG4uYWRkQ2xhc3MoJ2FkZGluZycpXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfYW5pbWF0ZWRBZGRpbmcgPSBmdW5jdGlvbiggZXZlbnQsIGVsZW0gKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgcGljID0gZWxlbS5kYXRhKCdpbWFnZScpLFxuXG4gICAgICAgICAgICAgICAgZSA9IGV2ZW50IHx8IHdpbmRvdy5ldmVudDtcblxuICAgICAgICAgICAgICAgIHZhciBwYWdlWCA9IGUucGFnZVgsXG4gICAgICAgICAgICAgICAgICAgIHBhZ2VZID0gZS5wYWdlWTtcblxuICAgICAgICAgICAgICAgICQoJ2JvZHknKS5hcHBlbmQoJzxkaXYgY2xhc3M9XCJzaXRlX19wcm9kdWN0IGhpZGRlblwiPjxpbWcgc3JjPVwiJysgcGljICsnXCIgYWx0PVwiXCI+PC9kaXY+Jyk7XG4gICAgICAgICAgICAgICAgJCgnLnNpdGVfX3Byb2R1Y3QnKS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgdG9wOiAkKCcuZ2FsbGVyeV9fdG9wJykub2Zmc2V0KCkudG9wICsgJCgnLmdhbGxlcnlfX3RvcCcpLmlubmVySGVpZ2h0KCkvMiAtICQoJy5zaXRlX19wcm9kdWN0JykuaGVpZ2h0KCkvMiAsXG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6ICQoJy5nYWxsZXJ5X190b3AnKS5vZmZzZXQoKS5sZWZ0ICsgJCgnLmdhbGxlcnlfX3RvcCcpLmlubmVyV2lkdGgoKS8yIC0gJCgnLnNpdGVfX3Byb2R1Y3QnKS53aWR0aCgpLzJcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAkKCcuc2l0ZV9fcHJvZHVjdCcpLmFkZENsYXNzKCd2aXNpYmxlJyk7XG4gICAgICAgICAgICAgICAgICAgICQoJy5zaXRlX19wcm9kdWN0JykuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b3A6IF9jYXJ0Lm9mZnNldCgpLnRvcCArIF9jYXJ0LmlubmVySGVpZ2h0KCkvMiAtICQoJy5zaXRlX19wcm9kdWN0JykuaGVpZ2h0KCkvMiAsXG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiBfY2FydC5vZmZzZXQoKS5sZWZ0ICsgX2NhcnQuaW5uZXJXaWR0aCgpLzIgLSAkKCcuc2l0ZV9fcHJvZHVjdCcpLndpZHRoKCkvMlxuICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICB9LCAxMDAgKTtcblxuXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgJCgnLnNpdGVfX3Byb2R1Y3QnKS5yZW1vdmVDbGFzcygndmlzaWJsZScpO1xuXG4gICAgICAgICAgICAgICAgfSwgNTAwICk7XG5cbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAkKCcuc2l0ZV9fcHJvZHVjdCcpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICBfYWRkVG9DYXJ0QnRuLnJlbW92ZUNsYXNzKCdhZGRpbmcnKTtcblxuICAgICAgICAgICAgICAgIH0sIDcwMCApO1xuXG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5mb0FkZGluZyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgdmFyIGl0ZW1UZXh0ID0gJyc7XG5cbiAgICAgICAgICAgICAgICBpZiggcGFyc2VJbnQoIF9pbnB1dC52YWwoKSApID09IDEgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaXRlbVRleHQgPSAnIGl0ZW0nO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICBpdGVtVGV4dCA9ICcgaXRlbXMnO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgJCgnLnByb2R1Y3Qtc2luZ2xlJykuYXBwZW5kKCc8ZGl2IGNsYXNzPVwicHJvZHVjdC1zaW5nbGVfX2luZm8tbWVzc2FnZSBoaWRkZW5cIj4nKyBfaW5wdXQudmFsKCkgKyBpdGVtVGV4dCArJyBhZGRlZCB0byBjYXJ0PC9kaXY+Jyk7XG4gICAgICAgICAgICAgICAgJCgnLnByb2R1Y3Qtc2luZ2xlX19pbmZvLW1lc3NhZ2UgJykuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgIHRvcDogX2FkZFRvQ2FydEJ0bi5vZmZzZXQoKS50b3AgKyBfYWRkVG9DYXJ0QnRuLmlubmVySGVpZ2h0KCkgKyAxMCxcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogX2FkZFRvQ2FydEJ0bi5vZmZzZXQoKS5sZWZ0XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgJCgnLnByb2R1Y3Qtc2luZ2xlX19pbmZvLW1lc3NhZ2UnKS5hZGRDbGFzcygndmlzaWJsZScpO1xuXG4gICAgICAgICAgICAgICAgfSwgMjAwICk7XG5cbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAkKCcucHJvZHVjdC1zaW5nbGVfX2luZm8tbWVzc2FnZScpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICBfYWRkVG9DYXJ0QnRuLnJlbW92ZUNsYXNzKCdhZGRpbmcnKTtcblxuICAgICAgICAgICAgICAgIH0sIDMwMDAgKTtcblxuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3JlcXVlc3RQcm9kdWN0QWRkVG9DYXJ0ID0gZnVuY3Rpb24gKCBldmVudCwgZWxlbSApIHtcblxuICAgICAgICAgICAgICAgIF9yZXF1ZXN0LmFib3J0KCk7XG4gICAgICAgICAgICAgICAgX3JlcXVlc3QgPSAkLmFqYXgoIHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAkKCdib2R5JykuYXR0cignZGF0YS1hY3Rpb24nKSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGVsZW0uYXR0cignZGF0YS1pZCcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgY291bnRQcm9kdWN0OiBfaW5wdXQudmFsKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmljZTogX3ByaWNlLnRleHQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsYWc6ICdhZGRUb0NhcnQnXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiZ2V0XCIsXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChtKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBwYXJzZUludChtLmNhcnRDb3VudFByb2R1Y3RzKSAhPSBwYXJzZUludChfY2FydC5maW5kKCdkaXYnKS50ZXh0KCkpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoICEoIF9jYXJ0Lmhhc0NsYXNzKCdjYXJ0X2ZpbGwnKSApICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hbmltYXRlZEFkZGluZyggZXZlbnQsIGVsZW0gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NhcnQuYXBwZW5kKCc8ZGl2PjwvZGl2PicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NhcnQuYWRkQ2xhc3MoJ2NhcnRfZmlsbCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLnNpdGVfX2hlYWRlcicpLmFkZENsYXNzKCdzaXRlX19oZWFkZXJfZmlsbC1jYXJ0Jyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NhcnQuZmluZCgnZGl2JykuaHRtbChtLmNhcnRDb3VudFByb2R1Y3RzKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAwICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgNjAwICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2luZm9BZGRpbmcoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoWE1MSHR0cFJlcXVlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggWE1MSHR0cFJlcXVlc3Quc3RhdHVzVGV4dCAhPSBcImFib3J0XCIgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCJFUlJPUiEhIVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF9vYmpbMF0ub2JqID0gX3NlbGY7XG4gICAgICAgICAgICAgICAgX2FkZEV2ZW50cygpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAvL3B1YmxpYyBwcm9wZXJ0aWVzXG5cbiAgICAgICAgLy9wdWJsaWMgbWV0aG9kc1xuXG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG59ICkoKTsiXX0=
