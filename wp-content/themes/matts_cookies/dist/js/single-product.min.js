"use strict";!function(){var e=!0;$(function(){new i($(".preloader")),$.each($(".site__header"),function(){new n($(this))}),$.each($("[data-href]"),function(){new t($(this))}),$.each($(".slides"),function(){new o($(this))}),$.each($(".site__content-full"),function(){new s($(this))}),$.each($(".site_index"),function(){new a($(this))})});var i=function(e){var i=this,n=$(window),t=e,o=$("body"),s=function(){n.on({load:function(){d()}})},a=function(){o[0].preloader=i,s(),$("html").css({"overflow-y":"hidden"})},d=function(){t.addClass("preloader_loaded"),setTimeout(function(){t.remove(),$("html").css({"overflow-y":"scroll"}),$(".site").addClass("site__loaded")},500)};a()},n=function(i){var n=this,t=i,o=$(window),s=$("html"),a=t.find(".site__menu"),d=($(".site__content"),!1),l=!1,r=!0,c=0,h=t.find(".site__menu-btn"),f=0,u=function(){o.on({load:function(){f=o.width()},resize:function(){f!=o.width()&&(f=o.width()+1,o.width()>=1024&&(a.scrollTop(0),v(h)))},scroll:function(){d=o.scrollTop()>=2*t.innerHeight(),o.scrollTop()>=t.innerHeight()+20?r&&(r=!1,t.addClass("site__header_hide")):(r=!0,t.removeClass("site__header_hide")),d?t.hasClass("site__header_hide")&&setTimeout(function(){t.addClass("site__header_fixed"),t.removeClass("site__header_hide")},100):o.scrollTop()<=3*t.innerHeight()&&(t.removeClass("site__header_fixed"),t.removeClass("site__header_hidden")),o.scrollTop()<=10&&(t.removeClass("site__header_fixed"),t.removeClass("site__header_hidden"))},DOMMouseScroll:function(e){var i=e.originalEvent.detail;if(i){var n=i>0?1:-1;_(n)}n<0?l=!0:setTimeout(function(){l=!1},300)},mousewheel:function(e){var i=e.originalEvent.wheelDelta;if(i){var n=i>0?-1:1;_(n)}n<0?l=!0:setTimeout(function(){l=!1},300)}}),$(window).scroll(function(e){var i=$(this).scrollTop();if(i>c){_(1);var n=1}else{_(-1);var n=-1}c=i,n<0?l=!0:setTimeout(function(){l=!1},300)}),h.on({click:function(){$(this).hasClass("opened")?v($(this)):w($(this))}})},_=function(i){i>0&&!t.hasClass("site__header_hidden")&&!h.hasClass("opened")&&d&&!l&&t.addClass("site__header_hidden"),i<0&&t.hasClass("site__header_hidden")&&!h.hasClass("opened")&&d&&l&&e&&t.removeClass("site__header_hidden")},v=function(e){s.css({overflowY:"auto"}),e.removeClass("opened"),t.removeClass("opened-menu")},m=function(){t[0].obj=n,u()},w=function(e){e.addClass("opened"),t.addClass("opened-menu"),s.css({overflowY:"hidden"})};m()},t=function(i){var n=this,t=i,o=t,s=$("html"),a=$(window),d=$("html, body"),l=$(".site__header"),r=($(".popup__cookies-info"),function(){a.on({resize:function(){c()},scroll:function(){c()}}),o.on({click:function(){var i=$(this),n=i.attr("data-href"),t=$("."+n).offset().top;return $(".site__menu-nav_anchors a").removeClass("active"),i.addClass("active"),d.stop(!0,!1),d.animate({scrollTop:t},{duration:500,progress:function(){e=!1,l.addClass("site__header_hidden")},complete:function(){setTimeout(function(){e=!1},200),setTimeout(function(){e=!0},500)}}),s.css({overflowY:"auto"}),l.find(".site__menu-btn").removeClass("opened"),l.removeClass("opened-menu"),!1}})}),c=function(){for(var e=a.scrollTop(),i=$("body").find('[data-scroll="scroll"]'),n=(i.offset().top,0);n<i.length;n++){var t=$(i[n]),s=$(i[n]).offset().top-l.outerHeight(!0),d=$(i[n]).outerHeight(!0);if(e>s){var r=t.attr("class").split(" "),c=o.filter("[data-href="+r[0]+"]");o.removeClass("active"),c.addClass("active")}e>s+d&&o.removeClass("active")}},h=function(){t[0].obj=n,r()};h()},o=function(e){var i=this,n=e,t=$(window),o=function(){t.on({load:function(){s()},scroll:function(){s()}})},s=function(){var e=t.scrollTop(),i=t.height(),o=n.offset().top,s=o-e,a=1-s/i;a>.5&&(n.hasClass("slides_active")||n.addClass("slides_active"))},a=function(){n[0].slides=i,o()};a()},s=function(e){var i=this,n=e,t=$(window),o=$(".site__header"),s=0,a=function(){t.on({load:function(){s=t.width(),l()},resize:function(){s!=t.width()&&(s=t.width()+1,l())}})},d=function(){n[0].obj=i,a()},l=function(){var e=t.height();n.css({"min-height":e-o.innerHeight()-$(".site__main-title").outerHeight(!0)}),n.find(".contact-us").length&&t.width()>=1024?n.css({"min-height":""}):n.css({"min-height":e-o.innerHeight()-$(".site__main-title").outerHeight(!0)})};d()},a=function(e){var i=this,n=e,t=$(window),o=($("html, body"),function(){t.on({load:function(){setTimeout(function(){s()},100)}})}),s=function(){var e=window.location.hash.replace("#","");if(e){var i=$("."+window.location.hash.replace("#",""));i.length&&window.scrollTo(0,parseInt(i.offset().top))}},a=function(){n[0].obj=i,o()};a()}}();
"use strict";!function(){$(function(){$.each($(".product-single__gallery"),function(){new s($(this))})});var s=function(s){var o=s.find(".gallery__top"),l=s.find(".gallery__thumbs"),e=function(){o.slick({slidesToShow:1,slidesToScroll:1,arrows:!1,fade:!0,asNavFor:".gallery__thumbs",responsive:[{breakpoint:768,settings:{fade:!1}}]}),l.slick({slidesToShow:2,slidesToScroll:1,asNavFor:".gallery__top",dots:!1,arrows:!1,focusOnSelect:!0})},i=function(){e()};i()}}();
!function(){$(function(){$(".popup").each(function(){new o($(this))})});var o=function(o){var n,t=this,i=40,p=$(".popup__open"),e=o,c=e.find(".popup__close, .popup__cancel"),s=e.find(".popup__wrap"),u=e.find(".popup__content"),d=$("html"),a=$(window),h=setTimeout(function(){},1),f=function(){a.height()-2*i-s.height()>0?s.css({top:(a.height()-2*i-s.height())/2}):s.css({top:0})},l=function(){var o,n=document.createElement("div");return n.className="popup__scrollbar-measure",document.body.appendChild(n),o=n.offsetWidth-n.clientWidth,document.body.removeChild(n),o},r=function(){e.css({overflowY:"hidden"}),d.css({overflowY:"auto",paddingRight:0}),e.removeClass("popup_opened"),e.addClass("popup_hide"),h=setTimeout(function(){e.css({overflowY:"scroll"}),e.removeClass("popup_hide")},300)},_=function(){e[0].obj=t,v()},v=function(){a.on({load:function(){n=a.width()},resize:function(){f(),a.width()>=1024&&n!=a.width()&&(n=a.width()+1,r())}}),p.on({click:function(){return $(this).hasClass("cookies-info_btn")?a.width()<1024?(w($(this).attr("data-popup")),!1):void 0:(w($(this).attr("data-popup")),!1)}}),s.on({click:function(o){o.stopPropagation()}}),e.on({click:function(){return r(),!1}}),c.on({click:function(){return r(),!1}})},w=function(o){m(o),d.css({overflowY:"hidden",paddingRight:l()}),e.addClass("popup_opened"),f()},m=function(o){var n=u.filter(".popup__"+o);u.css({display:"none"}),n.css({display:"block"})};_()}}();
"use strict";!function(){$(function(){$.each($(".count-product"),function(){new n($(this))})});var n=function(n){var t=this,c=n,i=c.find(".count-product__input"),u=c.find(".count-product_add"),o=c.find(".count-product_del"),e=function(){i.on({keypress:function(){46==event.which&&$(this).val().indexOf(".")==-1||!(event.which<48||event.which>57)||event.preventDefault()}}),i.on({keyup:function(){""==i.val()&&i.val(1)}}),u.on({click:function(){return f(),!1}}),o.on({click:function(){return r(),!1}})},f=function(){var n=parseInt(i.val());i.val(n+1)},r=function(){var n=parseInt(i.val());1!=n&&i.val(n-1)},a=function(){c[0].obj=t,e()};a()}}();
"use strict";!function(){$(function(){$.each($(".my-cart__product"),function(){new t($(this))}),$.each($(".product-single__info"),function(){new a($(this))})});var t=function(t){var a=this,i=t,n=i.find(".count-product__input"),o=i.find(".count-product__btn"),e=i.find(".my-cart__remove"),d=new XMLHttpRequest,s=$(".cart"),c=0,r=$(".my-cart__total"),u=i.find(".my-cart__loading"),l=$(".my-cart__define .btn"),f=$(".my-cart__define input"),_=$(".my-cart__discount"),m=$(".my-cart__define"),p=$(".my-cart__applied"),v=$(".my-cart__invalid"),h=$(window),g=function(){h.on({load:function(){k()},resize:function(){k()}}),n.on({keypress:function(){(46==event.which&&$(this).val().indexOf(".")==-1||!(event.which<48||event.which>57))&&b($(this).parents(".my-cart__product"))}}),n.on({keyup:function(){setTimeout(function(){x(),b(i)},100)}}),o.on({click:function(){e.addClass("loading"),setTimeout(function(){b(i)},500)}}),o.on({mouseup:function(){setTimeout(function(){x()},100)}}),e.on({click:function(){var t=$(this);return t.hasClass("loading")||(u.addClass("visible"),setTimeout(function(){C(t.parents(".my-cart__product"))},500)),!1}}),l.on({click:function(){var t=$(this);return""!=f.val()?($(".my-cart__promo-loading").addClass("loading"),t.hasClass("ajax-loading")||T()):f.focus(),!1}}),v.find("a").on({click:function(){return $(".my-cart__promo-loading").removeClass("loading"),v.removeClass("visible"),m.removeClass("hidden"),!1}}),p.find("a").on({click:function(){return $(".my-cart__promo-loading").removeClass("loading"),w(),!1}})},y=function(t){t.addClass("hidden"),setTimeout(function(){t.remove()},500)},C=function(t){d.abort(),d=$.ajax({url:$("body").attr("data-action"),data:{action:"remove_cart_item",id:t.attr("data-product-key"),flag:"remove"},dataType:"json",type:"get",success:function(a){y(t),0==parseInt(a.cartCountProducts)?(s.find("div").remove(),s.removeClass("cart_fill"),$(".site__header").removeClass("site__header_fill-cart"),$(".my-cart").addClass("empty")):(s.find("div").html(a.cartCountProducts),$(".my-cart__discount").find("dd").html(a.discount)),r.find("dd").html(a.subtotal),setTimeout(function(){u.removeClass("visible")},500)},error:function(t){"abort"!=t.statusText&&alert("ERROR!!!")}})},b=function(t){d.abort(),d=$.ajax({url:$("body").attr("data-action"),data:{action:"cart_quantity_changes",id:t.attr("data-product-id"),key:t.attr("data-product-key"),countProduct:t.find(".count-product__input").val(),flag:"changeCount"},dataType:"json",type:"get",success:function(a){t.find(".my-cart__total-price").html(a.total),r.find("dd").html(a.subtotal),$(".my-cart__discount").find("dd").html(a.discount),setTimeout(function(){e.removeClass("loading")},500)},error:function(t){"abort"!=t.statusText&&alert("ERROR!!!")}})},T=function(){d.abort(),d=$.ajax({url:$("body").attr("data-action"),data:{action:"apply_coupon_to_order",inputVal:f.val(),flag:"coupon"},dataType:"json",type:"get",success:function(t){setTimeout(function(){1==t.status?(_.addClass("visible"),m.addClass("hidden"),p.addClass("visible"),r.find("dd").html(t.subtotal),_.find("dd").html(t.discount)):(m.addClass("hidden"),v.addClass("visible"),p.addClass("hidden")),l.removeClass("ajax-loading"),$(".my-cart__promo-loading").removeClass("loading")},500)},error:function(t){"abort"!=t.statusText&&alert("ERROR!!!")}})},w=function(){d.abort(),d=$.ajax({url:$("body").attr("data-action"),data:{action:"remove_coupon_to_order",inputVal:f.val(),flag:"couponRemove"},dataType:"json",type:"get",success:function(t){setTimeout(function(){r.find("dd").html(t.subtotal),_.removeClass("visible"),m.removeClass("hidden"),p.removeClass("visible"),$(".my-cart__promo-loading").removeClass("loading")},500)},error:function(t){"abort"!=t.statusText&&alert("ERROR!!!")}})},k=function(){i.each(function(){var t=$(this),a=t.find(">div");t.height(a.outerHeight(!0))})},x=function(){c=0,s.hasClass("cart_fill")?($(".my-cart__products .count-product__input").each(function(){var t=$(this),a=parseInt(t.val());c+=a}),setTimeout(function(){s.find("div").html(c+" items")},700)):($(".my-cart__products .count-product__input").each(function(){var t=$(this),a=parseInt(t.val());c+=a}),setTimeout(function(){s.append("<div></div>"),s.addClass("cart_fill"),$(".site__header").addClass("site__header_fill-cart"),setTimeout(function(){1==c?s.find("div").html(c+" item"):s.find("div").html(c+" items")},100)},600))},R=function(){i[0].obj=a,g()};R()},a=function(t){var a=this,i=t,n=i.find(".count-product__input"),o=i.find(".product-single__price"),e=i.find(".product-single__add"),d=new XMLHttpRequest,s=$(".cart"),c=0,r=0,u=($(window),function(){e.on({click:function(t){return e.hasClass("adding")||($(".gallery__top .slick-current").length?l(t):f(),_($(this).parents(".product-single__info")),e.addClass("adding")),!1}})}),l=function(t){var a=$(".gallery__top .slick-current").data("image"),i=t||window.event;i.pageX,i.pageY;$("body").append('<div class="site__product hidden" style="background-image:url('+a+')"></div>'),$(".site__product").css({top:$(".gallery__top").offset().top,left:$(".gallery__top").offset().left,width:$(".gallery__top").width(),height:$(".gallery__top").height()}),setTimeout(function(){$(".site__product").addClass("visible"),$(".site__product").css({top:s.offset().top+s.innerHeight()/2-$(".site__product").height()/2,left:s.offset().left+s.innerWidth()/2-$(".site__product").width()/2})},100),setTimeout(function(){$(".site__product").removeClass("visible"),$(".site__product").css({"-webkit-transform":"scale(0.3)",transform:"scale(0.3)"})},500),setTimeout(function(){$(".site__product").remove()},700),f()},f=function(){s.hasClass("cart_fill")?(c=parseInt(s.find("div").text()),r=parseInt(n.val())+c,setTimeout(function(){s.find("div").html(r+" items")},700)):(r=parseInt(n.val()),setTimeout(function(){s.append("<div></div>"),s.addClass("cart_fill"),$(".site__header").addClass("site__header_fill-cart"),setTimeout(function(){1==r?s.find("div").html(r+" item"):s.find("div").html(r+" items")},100)},600)),setTimeout(function(){e.removeClass("adding")},700)},_=function(t){d.abort(),d=$.ajax({url:$("body").attr("data-action"),data:{action:"single_add_product",id:t.attr("data-id"),countProduct:n.val(),price:o.text(),flag:"addToCart"},dataType:"json",type:"get",success:function(t){parseInt(t.cartCountProducts)!=r&&s.find("div").html(t.cartCountProducts)},error:function(t,a){"abort"!=t.statusText&&parseInt(a.cartCountProducts)!=r&&s.find("div").html(c+"items")}})},m=function(){i[0].obj=a,u()};m()}}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5tYWluLmpzIiwianF1ZXJ5LnNpbmdsZS1wcm9kdWN0LmpzIiwianF1ZXJ5LnBvcHVwLmpzIiwianF1ZXJ5Lm51bWJlci1zcGlubmVyLmpzIiwianF1ZXJ5LmFqYXgtY2FydC5qcyJdLCJuYW1lcyI6WyJnbG9iYWxTY3JvbGxGbGFnIiwiJCIsIlByZWxvYWRlciIsImVhY2giLCJNZW51IiwidGhpcyIsIlNjcm9sbFBhbmVsIiwiU2xpZGVzIiwiRnVsbEhlaWdodCIsIlNjcm9sbFRvSGFzaCIsIm9iaiIsIl9zZWxmIiwiX3dpbmRvdyIsIndpbmRvdyIsIl9wcmVsb2FkZXIiLCJfYm9keSIsIl9hZGRFdmVudHMiLCJvbiIsImxvYWQiLCJfc2hvd1NpdGUiLCJfaW5pdCIsInByZWxvYWRlciIsImNzcyIsIm92ZXJmbG93LXkiLCJhZGRDbGFzcyIsInNldFRpbWVvdXQiLCJyZW1vdmUiLCJfb2JqIiwiX2h0bWwiLCJfbWVudSIsImZpbmQiLCJfYWN0aW9uIiwiX2FjdGlvbjIiLCJfZmxhZ0hpZGUiLCJsYXN0U2Nyb2xsVG9wIiwiX3Nob3dNZW51QnRuIiwiX2dsb2JhbFdpZHRoIiwid2lkdGgiLCJyZXNpemUiLCJzY3JvbGxUb3AiLCJfY2xvc2VNZW51Iiwic2Nyb2xsIiwiaW5uZXJIZWlnaHQiLCJyZW1vdmVDbGFzcyIsImhhc0NsYXNzIiwiRE9NTW91c2VTY3JvbGwiLCJlIiwiZGVsdGEiLCJvcmlnaW5hbEV2ZW50IiwiZGV0YWlsIiwiZGlyZWN0aW9uIiwiX2NoZWNrU2Nyb2xsIiwibW91c2V3aGVlbCIsIndoZWVsRGVsdGEiLCJldmVudCIsInN0IiwiY2xpY2siLCJfb3Blbk1lbnUiLCJlbGVtIiwib3ZlcmZsb3dZIiwiX2xpbmtzIiwiX2RvbSIsIl9oZWFkZXIiLCJfY2hhbmdlQWN0aXZlIiwiY3VySXRlbSIsIm5ld0NsYXNzIiwiYXR0ciIsIm5leHRJdGVtVG9wIiwib2Zmc2V0IiwidG9wIiwic3RvcCIsImFuaW1hdGUiLCJkdXJhdGlvbiIsInByb2dyZXNzIiwiY29tcGxldGUiLCJpdGVtIiwiaSIsImxlbmd0aCIsImN1ciIsIml0ZW1DdXIiLCJvdXRlckhlaWdodCIsIml0ZW1IZWlnaHQiLCJjdXJDbGFzcyIsInNwbGl0IiwiY3VyTGluayIsImZpbHRlciIsImN1clNjcm9sbCIsIndpbmRvd0giLCJoZWlnaHQiLCJ0b3BQb3MiLCJ0b3BJbldpbmRvdyIsInZpc2libGVQZXJjZW50Iiwic2xpZGVzIiwiX3NldEhlaWdodCIsIm1pbi1oZWlnaHQiLCJfc2Nyb2xsVG8iLCJoYXNoIiwibG9jYXRpb24iLCJyZXBsYWNlIiwic2Nyb2xsVG8iLCJwYXJzZUludCIsIlN3aXBlckdhbGxlcnkiLCJfZ2FsbGVyeVRvcCIsIl9nYWxsZXJ5VGh1bWJzIiwiX2luaXRTbGljayIsInNsaWNrIiwic2xpZGVzVG9TaG93Iiwic2xpZGVzVG9TY3JvbGwiLCJhcnJvd3MiLCJmYWRlIiwiYXNOYXZGb3IiLCJyZXNwb25zaXZlIiwiYnJlYWtwb2ludCIsInNldHRpbmdzIiwiZG90cyIsImZvY3VzT25TZWxlY3QiLCJQb3B1cCIsIl9wb3B1cFBhZGRpbmciLCJfYnRuU2hvdyIsIl9idG5DbG9zZSIsIl93cmFwIiwiX2NvbnRlbnRzIiwiX3Njcm9sbENvbnRlaW5lciIsIl90aW1lciIsIl9jZW50ZXJXcmFwIiwiX2dldFNjcm9sbFdpZHRoIiwic2Nyb2xsQmFyV2lkdGgiLCJzY3JvbGxEaXYiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJvZmZzZXRXaWR0aCIsImNsaWVudFdpZHRoIiwicmVtb3ZlQ2hpbGQiLCJfaGlkZSIsInBhZGRpbmdSaWdodCIsIl9vbkV2ZW50cyIsIl9zaG93Iiwic3RvcFByb3BhZ2F0aW9uIiwiX3NldFBvcHVwQ29udGVudCIsImN1ckNvbnRlbnQiLCJkaXNwbGF5IiwiU3Bpbm5lciIsIl9pbnB1dCIsIl9idG5VcCIsIl9idG5Eb3duIiwia2V5cHJlc3MiLCJ3aGljaCIsInZhbCIsImluZGV4T2YiLCJwcmV2ZW50RGVmYXVsdCIsImtleXVwIiwiX2FkZENvdW50IiwiX3JlZHVjZUNvdW50IiwidmFsdWUiLCJQcm9kdWN0c0luQ2FydCIsIkFkZFByb2R1Y3RzVG9DYXJ0IiwiX2J0bkNoYW5nZUNvdW50IiwiX2J0blJlbW92ZVByb2R1Y3QiLCJfcmVxdWVzdCIsIlhNTEh0dHBSZXF1ZXN0IiwiX2NhcnQiLCJuZXdDb3VudCIsIl90b3RhbFByaWNlIiwiX2xvYWQiLCJfYnRuUHJvbW8iLCJfaW5wdXRDb3Vwb24iLCJfZGlzY291bnQiLCJfZGVmaW5lIiwiX2FwcGxpZWQiLCJfaW52YWxpZCIsIl9yZXF1ZXN0Q291bnRDaGFuZ2UiLCJwYXJlbnRzIiwiX3dyaXRlSW5DYXJ0IiwibW91c2V1cCIsImNpckl0ZW0iLCJfcmVxdWVzdFByb2R1Y3RSZW1vdmUiLCJfcmVxdWVzdENvdXBvbkRpc2NvdW50IiwiZm9jdXMiLCJfcmVxdWVzdENhbmNlbENvdXBvbkRpc2NvdW50IiwiX3JlbW92ZVByb2R1Y3QiLCJhYm9ydCIsImFqYXgiLCJ1cmwiLCJkYXRhIiwiYWN0aW9uIiwiaWQiLCJmbGFnIiwiZGF0YVR5cGUiLCJ0eXBlIiwic3VjY2VzcyIsIm0iLCJjYXJ0Q291bnRQcm9kdWN0cyIsImh0bWwiLCJkaXNjb3VudCIsInN1YnRvdGFsIiwiZXJyb3IiLCJzdGF0dXNUZXh0IiwiYWxlcnQiLCJrZXkiLCJjb3VudFByb2R1Y3QiLCJ0b3RhbCIsImlucHV0VmFsIiwic3RhdHVzIiwiY2hpbGRyZW4iLCJhcHBlbmQiLCJfcHJpY2UiLCJfYWRkVG9DYXJ0QnRuIiwib2xkQ291bnQiLCJfYW5pbWF0ZWRBZGRpbmciLCJfcmVxdWVzdFByb2R1Y3RBZGRUb0NhcnQiLCJwaWMiLCJwYWdlWCIsInBhZ2VZIiwibGVmdCIsImlubmVyV2lkdGgiLCItd2Via2l0LXRyYW5zZm9ybSIsInRyYW5zZm9ybSIsInRleHQiLCJwcmljZSJdLCJtYXBwaW5ncyI6IkFBQUEsY0FDQSxXQUVJLEdBQUlBLElBQW1CLENB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SyxPQUU1QjdILFdBQVksV0FFUjBJLEVBQU00QyxPQUFPLGVBQ2I1QyxFQUFNM0ksU0FBUyxhQUNmdkIsRUFBRSxpQkFBaUJ1QixTQUFTLDBCQUU1QkMsV0FBWSxXQUVRLEdBQVoySSxFQUVBRCxFQUFNckksS0FBSyxPQUFPcUssS0FBTS9CLEVBQVcsU0FJbkNELEVBQU1ySSxLQUFLLE9BQU9xSyxLQUFNL0IsRUFBVyxXQUl4QyxNQUVKLE1BZVAzSSxXQUFZLFdBRVJ3TCxFQUFjdEssWUFBWSxXQUUzQixNQUdQeUssRUFBMkIsU0FBVzFKLEdBRWxDdUcsRUFBU3NCLFFBQ1R0QixFQUFXaEssRUFBRXVMLE1BQ1RDLElBQUt4TCxFQUFFLFFBQVFpRSxLQUFLLGVBQ3BCd0gsTUFDSUMsT0FBUSxxQkFDUkMsR0FBSWxJLEVBQUtRLEtBQUssV0FDZHdJLGFBQWN6RCxFQUFPSyxNQUNyQnVFLE1BQU9iLEVBQU9ZLE9BQ2QvQixLQUFNLGFBRVZDLFNBQVUsT0FDVkMsS0FBTSxNQUNOQyxRQUFTLFNBQVVDLEdBRVY3RixTQUFVNkYsRUFBRUMsb0JBQXVCOUIsR0FFcENELEVBQU1ySSxLQUFLLE9BQU9xSyxLQUFNRixFQUFFQyxvQkFLbENJLE1BQU8sU0FBV3BDLEVBQWdCK0IsR0FDSSxTQUE3Qi9CLEVBQWVxQyxZQUVYbkcsU0FBVTZGLEVBQUVDLG9CQUF1QjlCLEdBRXBDRCxFQUFNckksS0FBSyxPQUFPcUssS0FBTWUsRUFBVyxhQVN2RDlMLEVBQVEsV0FDSk8sRUFBSyxHQUFHakIsSUFBTUMsRUFDZEssSUFRUkkiLCJmaWxlIjoic2luZ2xlLXByb2R1Y3QubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4oIGZ1bmN0aW9uKCl7XG5cbiAgICB2YXIgZ2xvYmFsU2Nyb2xsRmxhZyA9IHRydWU7XG5cbiAgICAkKCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgbmV3IFByZWxvYWRlciggJCgnLnByZWxvYWRlcicpICk7XG5cbiAgICAgICAgJC5lYWNoKCAkKCAnLnNpdGVfX2hlYWRlcicgKSwgZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgIG5ldyBNZW51ICggJCggdGhpcyApICk7XG5cbiAgICAgICAgfSApO1xuXG4gICAgICAgICQuZWFjaCggJCgnW2RhdGEtaHJlZl0nKSwgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBuZXcgU2Nyb2xsUGFuZWwoICQodGhpcykgKTtcblxuICAgICAgICB9ICk7XG5cbiAgICAgICAgJC5lYWNoKCAkKCcuc2xpZGVzJyksIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgbmV3IFNsaWRlcyggJCh0aGlzKSApO1xuXG4gICAgICAgIH0gKTtcblxuICAgICAgICAkLmVhY2goICQoJy5zaXRlX19jb250ZW50LWZ1bGwnKSwgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBuZXcgRnVsbEhlaWdodCggJCh0aGlzKSApO1xuXG4gICAgICAgIH0gKTtcblxuICAgICAgICAkLmVhY2goICQoJy5zaXRlX2luZGV4JyksIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgbmV3IFNjcm9sbFRvSGFzaCggJCh0aGlzKSApO1xuXG4gICAgICAgIH0gKTtcblxuICAgIH0gKTtcblxuICAgIHZhciBQcmVsb2FkZXIgPSBmdW5jdGlvbiAob2JqKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKCB3aW5kb3cgKSxcbiAgICAgICAgICAgIF9wcmVsb2FkZXIgPSBvYmosXG4gICAgICAgICAgICBfYm9keSA9ICQoJ2JvZHknKTtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF93aW5kb3cub24oIHtcbiAgICAgICAgICAgICAgICAgICAgbG9hZDogZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX3Nob3dTaXRlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX2JvZHlbMF0ucHJlbG9hZGVyID0gX3NlbGY7XG4gICAgICAgICAgICAgICAgX2FkZEV2ZW50cygpO1xuXG5cblxuICAgICAgICAgICAgICAgICQoJ2h0bWwnKS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgJ292ZXJmbG93LXknOiAnaGlkZGVuJ1xuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9zaG93U2l0ZSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgX3ByZWxvYWRlci5hZGRDbGFzcyggJ3ByZWxvYWRlcl9sb2FkZWQnICk7XG5cbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgIF9wcmVsb2FkZXIucmVtb3ZlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgJCgnaHRtbCcpLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ292ZXJmbG93LXknOiAnc2Nyb2xsJ1xuICAgICAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgICAgICQoJy5zaXRlJykuYWRkQ2xhc3MoICdzaXRlX19sb2FkZWQnICk7XG5cbiAgICAgICAgICAgICAgICB9LDUwMCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIC8vcHVibGljIHByb3BlcnRpZXNcblxuICAgICAgICAvL3B1YmxpYyBtZXRob2RzXG5cblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbiAgICB2YXIgTWVudSA9IGZ1bmN0aW9uKCBvYmogKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfd2luZG93ID0gJCh3aW5kb3cpLFxuICAgICAgICAgICAgX2h0bWwgPSAkKCdodG1sJyksXG4gICAgICAgICAgICBfbWVudSA9IF9vYmouZmluZCgnLnNpdGVfX21lbnUnKSxcbiAgICAgICAgICAgIF9jb250ZW50ID0gJCgnLnNpdGVfX2NvbnRlbnQnKSxcbiAgICAgICAgICAgIF9hY3Rpb24gPSBmYWxzZSxcbiAgICAgICAgICAgIF9hY3Rpb24yID0gZmFsc2UsXG4gICAgICAgICAgICBfZmxhZ0hpZGUgPSB0cnVlLFxuICAgICAgICAgICAgbGFzdFNjcm9sbFRvcCA9IDAsXG4gICAgICAgICAgICBfc2hvd01lbnVCdG4gPSBfb2JqLmZpbmQoJy5zaXRlX19tZW51LWJ0bicpLFxuICAgICAgICAgICAgX2dsb2JhbFdpZHRoID0gMDtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuICAgICAgICAgICAgICAgICAgICBsb2FkOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9nbG9iYWxXaWR0aCA9IF93aW5kb3cud2lkdGgoKTtcblxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICByZXNpemU6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF9nbG9iYWxXaWR0aCAhPSBfd2luZG93LndpZHRoKCkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZ2xvYmFsV2lkdGggPSBfd2luZG93LndpZHRoKCkgKyAxO1xuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpID49IDEwMjQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX21lbnUuc2Nyb2xsVG9wKDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2xvc2VNZW51KCBfc2hvd01lbnVCdG4gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICdzY3JvbGwnOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9hY3Rpb24gPSBfd2luZG93LnNjcm9sbFRvcCgpID49IF9vYmouaW5uZXJIZWlnaHQoKSAqIDI7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LnNjcm9sbFRvcCgpID49IF9vYmouaW5uZXJIZWlnaHQoKSsgMjAgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggX2ZsYWdIaWRlICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9mbGFnSGlkZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb2JqLmFkZENsYXNzKCAnc2l0ZV9faGVhZGVyX2hpZGUnICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9mbGFnSGlkZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX29iai5yZW1vdmVDbGFzcyggJ3NpdGVfX2hlYWRlcl9oaWRlJyApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF9hY3Rpb24gKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggX29iai5oYXNDbGFzcyggJ3NpdGVfX2hlYWRlcl9oaWRlJyApICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb2JqLmFkZENsYXNzKCAnc2l0ZV9faGVhZGVyX2ZpeGVkJyApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX29iai5yZW1vdmVDbGFzcyggJ3NpdGVfX2hlYWRlcl9oaWRlJyApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDEwMCApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIF93aW5kb3cuc2Nyb2xsVG9wKCkgPD0gX29iai5pbm5lckhlaWdodCgpICogMyApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vYmoucmVtb3ZlQ2xhc3MoICdzaXRlX19oZWFkZXJfZml4ZWQnICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX29iai5yZW1vdmVDbGFzcyggJ3NpdGVfX2hlYWRlcl9oaWRkZW4nICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cuc2Nyb2xsVG9wKCkgPD0gMTAgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb2JqLnJlbW92ZUNsYXNzKCAnc2l0ZV9faGVhZGVyX2ZpeGVkJyApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vYmoucmVtb3ZlQ2xhc3MoICdzaXRlX19oZWFkZXJfaGlkZGVuJyApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgJ0RPTU1vdXNlU2Nyb2xsJzogZnVuY3Rpb24gKCBlICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGVsdGEgPSBlLm9yaWdpbmFsRXZlbnQuZGV0YWlsO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGRlbHRhICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpcmVjdGlvbiA9ICggZGVsdGEgPiAwICkgPyAxIDogLTE7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2hlY2tTY3JvbGwoIGRpcmVjdGlvbiApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggZGlyZWN0aW9uIDwgMCAgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYWN0aW9uMiA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYWN0aW9uMiA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMzAwIClcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgJ21vdXNld2hlZWwnOiBmdW5jdGlvbiAoIGUgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkZWx0YSA9IGUub3JpZ2luYWxFdmVudC53aGVlbERlbHRhO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGRlbHRhICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpcmVjdGlvbiA9ICggZGVsdGEgPiAwICkgPyAtMSA6IDE7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2hlY2tTY3JvbGwoIGRpcmVjdGlvbiApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggZGlyZWN0aW9uIDwgMCAgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYWN0aW9uMiA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYWN0aW9uMiA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMzAwIClcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICQod2luZG93KS5zY3JvbGwoZnVuY3Rpb24oZXZlbnQpe1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBzdCA9ICQodGhpcykuc2Nyb2xsVG9wKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0ID4gbGFzdFNjcm9sbFRvcCl7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9jaGVja1Njcm9sbCggMSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGlyZWN0aW9uID0gMVxuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9jaGVja1Njcm9sbCggLTEgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpcmVjdGlvbiA9IC0xXG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsYXN0U2Nyb2xsVG9wID0gc3Q7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCBkaXJlY3Rpb24gPCAwICApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2FjdGlvbjIgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2FjdGlvbjIgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMzAwIClcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBfc2hvd01lbnVCdG4ub24oIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggJCggdGhpcyApLmhhc0NsYXNzKCAnb3BlbmVkJyApICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Nsb3NlTWVudSggJCggdGhpcyApIClcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX29wZW5NZW51KCAkKCB0aGlzICkgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9jaGVja1Njcm9sbCA9IGZ1bmN0aW9uKCBkaXJlY3Rpb24gKSB7XG5cbiAgICAgICAgICAgICAgICBpZiggZGlyZWN0aW9uID4gMCAmJiAhX29iai5oYXNDbGFzcyggJ3NpdGVfX2hlYWRlcl9oaWRkZW4nICkgJiYgIV9zaG93TWVudUJ0bi5oYXNDbGFzcyggJ29wZW5lZCcgKSAmJiBfYWN0aW9uICYmICFfYWN0aW9uMiApe1xuXG4gICAgICAgICAgICAgICAgICAgIF9vYmouYWRkQ2xhc3MoICdzaXRlX19oZWFkZXJfaGlkZGVuJyApO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYoIGRpcmVjdGlvbiA8IDAgJiYgX29iai5oYXNDbGFzcyggJ3NpdGVfX2hlYWRlcl9oaWRkZW4nICkgJiYgIV9zaG93TWVudUJ0bi5oYXNDbGFzcyggJ29wZW5lZCcgKSAgJiYgX2FjdGlvbiAmJiBfYWN0aW9uMiAmJiBnbG9iYWxTY3JvbGxGbGFnICl7XG5cbiAgICAgICAgICAgICAgICAgICAgX29iai5yZW1vdmVDbGFzcygnc2l0ZV9faGVhZGVyX2hpZGRlbicpO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2Nsb3NlTWVudSA9IGZ1bmN0aW9uKCBlbGVtICkge1xuXG4gICAgICAgICAgICAgICAgX2h0bWwuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgIG92ZXJmbG93WTogJ2F1dG8nXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgZWxlbS5yZW1vdmVDbGFzcyggJ29wZW5lZCcgKTtcbiAgICAgICAgICAgICAgICBfb2JqLnJlbW92ZUNsYXNzKCAnb3BlbmVkLW1lbnUnICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIF9vYmpbIDAgXS5vYmogPSBfc2VsZjtcbiAgICAgICAgICAgICAgICBfYWRkRXZlbnRzKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX29wZW5NZW51ID0gZnVuY3Rpb24oIGVsZW0gKSAge1xuXG4gICAgICAgICAgICAgICAgZWxlbS5hZGRDbGFzcyggJ29wZW5lZCcgKTtcbiAgICAgICAgICAgICAgICBfb2JqLmFkZENsYXNzKCAnb3BlbmVkLW1lbnUnICk7XG5cbiAgICAgICAgICAgICAgICBfaHRtbC5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3dZOiAnaGlkZGVuJ1xuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfTtcblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbiAgICB2YXIgU2Nyb2xsUGFuZWwgPSBmdW5jdGlvbiAoIG9iaiApIHtcblxuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF9saW5rcyA9IF9vYmosXG4gICAgICAgICAgICBfaHRtbCA9ICQoJ2h0bWwnKSxcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKHdpbmRvdyksXG4gICAgICAgICAgICBfZG9tID0gICQoICdodG1sLCBib2R5JyksXG4gICAgICAgICAgICBfaGVhZGVyID0gJCgnLnNpdGVfX2hlYWRlcicpLFxuICAgICAgICAgICAgX3BvcHVwID0gJCgnLnBvcHVwX19jb29raWVzLWluZm8nKTtcblxuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF93aW5kb3cub24oIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzaXplOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9jaGFuZ2VBY3RpdmUoKTtcblxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAnc2Nyb2xsJzogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfY2hhbmdlQWN0aXZlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgIF9saW5rcy5vbigge1xuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJJdGVtID0gJCggdGhpcyApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0NsYXNzID0gY3VySXRlbS5hdHRyKCdkYXRhLWhyZWYnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0SXRlbVRvcCA9ICQoICcuJyArIG5ld0NsYXNzICApLm9mZnNldCgpLnRvcDtcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcuc2l0ZV9fbWVudS1uYXZfYW5jaG9ycyBhJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VySXRlbS5hZGRDbGFzcygnYWN0aXZlJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9kb20uc3RvcCggdHJ1ZSwgZmFsc2UgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9kb20uYW5pbWF0ZSgge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbFRvcDogbmV4dEl0ZW1Ub3BcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA1MDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3M6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xvYmFsU2Nyb2xsRmxhZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaGVhZGVyLmFkZENsYXNzKCAnc2l0ZV9faGVhZGVyX2hpZGRlbicgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbG9iYWxTY3JvbGxGbGFnID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDIwMCApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xvYmFsU2Nyb2xsRmxhZyA9IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgNTAwICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2h0bWwuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3dZOiAnYXV0bydcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2hlYWRlci5maW5kKCcuc2l0ZV9fbWVudS1idG4nKS5yZW1vdmVDbGFzcyggJ29wZW5lZCcgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9oZWFkZXIucmVtb3ZlQ2xhc3MoICdvcGVuZWQtbWVudScgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfY2hhbmdlQWN0aXZlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgdmFyIHNjcm9sbFRvcCA9IF93aW5kb3cuc2Nyb2xsVG9wKCksXG4gICAgICAgICAgICAgICAgICAgIGl0ZW0gPSAkKCdib2R5JykuZmluZCgnW2RhdGEtc2Nyb2xsPVwic2Nyb2xsXCJdJyksXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1Qb3MgPSBpdGVtLm9mZnNldCgpLnRvcDtcblxuICAgICAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBpdGVtLmxlbmd0aDsgaSsrICkge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXIgPSAkKGl0ZW1baV0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbUN1ciA9ICQoaXRlbVtpXSkub2Zmc2V0KCkudG9wIC0gX2hlYWRlci5vdXRlckhlaWdodCh0cnVlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1IZWlnaHQgPSAkKGl0ZW1baV0pLm91dGVySGVpZ2h0KHRydWUpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKCBzY3JvbGxUb3AgPiBpdGVtQ3VyICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VyQ2xhc3MgPSBjdXIuYXR0cignY2xhc3MnKS5zcGxpdCgnICcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1ckxpbmsgPSBfbGlua3MuZmlsdGVyKFwiW2RhdGEtaHJlZj1cIitjdXJDbGFzc1swXStcIl1cIik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9saW5rcy5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJMaW5rLmFkZENsYXNzKCdhY3RpdmUnKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmKCBzY3JvbGxUb3AgPiAoIGl0ZW1DdXIgKyBpdGVtSGVpZ2h0ICkgKXtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2xpbmtzLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgX29ialswXS5vYmogPSBfc2VsZjtcbiAgICAgICAgICAgICAgICBfYWRkRXZlbnRzKCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBTbGlkZXMgPSBmdW5jdGlvbiAob2JqKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfd2luZG93ID0gJCh3aW5kb3cpO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfYWRkRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF93aW5kb3cub24oe1xuICAgICAgICAgICAgICAgICAgICBsb2FkOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jaGVja1Njcm9sbCgpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBzY3JvbGw6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jaGVja1Njcm9sbCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2NoZWNrU2Nyb2xsID0gZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgICAgIHZhciBjdXJTY3JvbGwgPSBfd2luZG93LnNjcm9sbFRvcCgpLFxuICAgICAgICAgICAgICAgICAgICB3aW5kb3dIID0gX3dpbmRvdy5oZWlnaHQoKSxcbiAgICAgICAgICAgICAgICAgICAgdG9wUG9zID0gX29iai5vZmZzZXQoKS50b3AsXG4gICAgICAgICAgICAgICAgICAgIHRvcEluV2luZG93ID0gdG9wUG9zLWN1clNjcm9sbCxcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZVBlcmNlbnQgPSAxLSh0b3BJbldpbmRvdy93aW5kb3dIKTtcblxuICAgICAgICAgICAgICAgIGlmKCB2aXNpYmxlUGVyY2VudCA+IC41ICl7XG4gICAgICAgICAgICAgICAgICAgIGlmKCAhX29iai5oYXNDbGFzcygnc2xpZGVzX2FjdGl2ZScpICl7XG4gICAgICAgICAgICAgICAgICAgICAgICBfb2JqLmFkZENsYXNzKCdzbGlkZXNfYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfb2JqWzBdLnNsaWRlcyA9IF9zZWxmO1xuICAgICAgICAgICAgICAgIF9hZGRFdmVudHMoKTtcblxuICAgICAgICAgICAgfTtcblxuICAgICAgICAvL3B1YmxpYyBwcm9wZXJ0aWVzXG5cbiAgICAgICAgLy9wdWJsaWMgbWV0aG9kc1xuXG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG4gICAgdmFyIEZ1bGxIZWlnaHQgPSBmdW5jdGlvbiAob2JqKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfd2luZG93ID0gJCh3aW5kb3cpLFxuICAgICAgICAgICAgX2hlYWRlciA9ICQoJy5zaXRlX19oZWFkZXInKSxcbiAgICAgICAgICAgIF9nbG9iYWxXaWR0aCA9IDA7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9hZGRFdmVudHMgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIF93aW5kb3cub24oIHtcbiAgICAgICAgICAgICAgICAgICAgbG9hZDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfZ2xvYmFsV2lkdGggPSBfd2luZG93LndpZHRoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfc2V0SGVpZ2h0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcmVzaXplOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfZ2xvYmFsV2lkdGggIT0gX3dpbmRvdy53aWR0aCgpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2dsb2JhbFdpZHRoID0gX3dpbmRvdy53aWR0aCgpICsgMTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zZXRIZWlnaHQoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIF9vYmpbIDAgXS5vYmogPSBfc2VsZjtcbiAgICAgICAgICAgICAgICBfYWRkRXZlbnRzKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3NldEhlaWdodCA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgdmFyIGhlaWdodCA9IF93aW5kb3cuaGVpZ2h0KCk7XG5cbiAgICAgICAgICAgICAgICBfb2JqLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAnbWluLWhlaWdodCc6IGhlaWdodCAtIF9oZWFkZXIuaW5uZXJIZWlnaHQoKSAtICQoJy5zaXRlX19tYWluLXRpdGxlJykub3V0ZXJIZWlnaHQodHJ1ZSlcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBpZiggX29iai5maW5kKCcuY29udGFjdC11cycpLmxlbmd0aCApIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpID49IDEwMjQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9vYmouY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21pbi1oZWlnaHQnOiAnJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9vYmouY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ21pbi1oZWlnaHQnOiBoZWlnaHQgLSBfaGVhZGVyLmlubmVySGVpZ2h0KCkgLSAkKCcuc2l0ZV9fbWFpbi10aXRsZScpLm91dGVySGVpZ2h0KHRydWUpXG4gICAgICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICBfb2JqLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ21pbi1oZWlnaHQnOiBoZWlnaHQgLSBfaGVhZGVyLmlubmVySGVpZ2h0KCkgLSAkKCcuc2l0ZV9fbWFpbi10aXRsZScpLm91dGVySGVpZ2h0KHRydWUpXG4gICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfTtcblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbiAgICB2YXIgU2Nyb2xsVG9IYXNoID0gZnVuY3Rpb24gKCBvYmogKSB7XG5cbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfd2luZG93ID0gJCh3aW5kb3cpLFxuICAgICAgICAgICAgX2RvbSA9ICAkKCdodG1sLCBib2R5Jyk7XG5cbiAgICAgICAgdmFyIF9hZGRFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfd2luZG93Lm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGxvYWQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2Nyb2xsVG8oKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAwICk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3Njcm9sbFRvID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgaGFzaCA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoLnJlcGxhY2UoJyMnLCAnJyk7XG5cbiAgICAgICAgICAgICAgICBpZiggaGFzaCApIHtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbSA9ICQoICcuJyArIHdpbmRvdy5sb2NhdGlvbi5oYXNoLnJlcGxhY2UoJyMnLCAnJykgKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiggZWxlbS5sZW5ndGggKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5zY3JvbGxUbyggMCwgcGFyc2VJbnQoIGVsZW0ub2Zmc2V0KCkudG9wICkgKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIF9vYmpbMF0ub2JqID0gX3NlbGY7XG4gICAgICAgICAgICAgICAgX2FkZEV2ZW50cygpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbn0gKSgpOyIsIlwidXNlIHN0cmljdFwiO1xuKCBmdW5jdGlvbigpe1xuXG4gICAgJCggZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICQuZWFjaCggJCgnLnByb2R1Y3Qtc2luZ2xlX19nYWxsZXJ5JyApLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIG5ldyBTd2lwZXJHYWxsZXJ5KCAkKHRoaXMpICk7XG5cbiAgICAgICAgfSApO1xuXG4gICAgfSApO1xuXG4gICAgdmFyIFN3aXBlckdhbGxlcnkgPSBmdW5jdGlvbiAob2JqKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9nYWxsZXJ5VG9wID0gb2JqLmZpbmQoJy5nYWxsZXJ5X190b3AnKSxcbiAgICAgICAgICAgIF9nYWxsZXJ5VGh1bWJzID0gb2JqLmZpbmQoJy5nYWxsZXJ5X190aHVtYnMnKTtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX2luaXRTbGljayA9IGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgICAgICAgICBfZ2FsbGVyeVRvcC5zbGljaygge1xuICAgICAgICAgICAgICAgICAgICBzbGlkZXNUb1Nob3c6IDEsXG4gICAgICAgICAgICAgICAgICAgIHNsaWRlc1RvU2Nyb2xsOiAxLFxuICAgICAgICAgICAgICAgICAgICBhcnJvd3M6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBmYWRlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBhc05hdkZvcjogJy5nYWxsZXJ5X190aHVtYnMnLFxuICAgICAgICAgICAgICAgICAgICByZXNwb25zaXZlOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWtwb2ludDogNzY4LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZhZGU6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgX2dhbGxlcnlUaHVtYnMuc2xpY2soIHtcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVzVG9TaG93OiAyLFxuICAgICAgICAgICAgICAgICAgICBzbGlkZXNUb1Njcm9sbDogMSxcbiAgICAgICAgICAgICAgICAgICAgYXNOYXZGb3I6ICcuZ2FsbGVyeV9fdG9wJyxcbiAgICAgICAgICAgICAgICAgICAgZG90czogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGFycm93czogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGZvY3VzT25TZWxlY3Q6IHRydWVcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfaW5pdFNsaWNrKCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxufSApKCk7IiwiKCBmdW5jdGlvbigpe1xuXG4gICAgJCggZnVuY3Rpb24oKXtcblxuICAgICAgICAkKCAnLnBvcHVwJyApLmVhY2goZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgbmV3IFBvcHVwKCQodGhpcykpO1xuXG4gICAgICAgIH0pO1xuXG4gICAgfSk7XG5cbiAgICB2YXIgUG9wdXAgPSBmdW5jdGlvbiggb2JqICl7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9wb3B1cFBhZGRpbmcgPSA0MCxcbiAgICAgICAgICAgIF9idG5TaG93ID0gICQoICcucG9wdXBfX29wZW4nICksXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX2J0bkNsb3NlID0gX29iai5maW5kKCAnLnBvcHVwX19jbG9zZSwgLnBvcHVwX19jYW5jZWwnICksXG4gICAgICAgICAgICBfd3JhcCA9IF9vYmouZmluZCggJy5wb3B1cF9fd3JhcCcgKSxcbiAgICAgICAgICAgIF9jb250ZW50cyA9IF9vYmouZmluZCggJy5wb3B1cF9fY29udGVudCcgKSxcbiAgICAgICAgICAgIF9zY3JvbGxDb250ZWluZXIgPSAkKCAnaHRtbCcgKSxcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKCB3aW5kb3cgKSxcbiAgICAgICAgICAgIF9nbG9iYWxXaWR0aCxcbiAgICAgICAgICAgIF90aW1lciA9IHNldFRpbWVvdXQoIGZ1bmN0aW9uKCl7fSwgMSApO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfY2VudGVyV3JhcCA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgaWYgKCBfd2luZG93LmhlaWdodCgpIC0gKCBfcG9wdXBQYWRkaW5nICogMiApIC0gX3dyYXAuaGVpZ2h0KCkgPiAwICkge1xuICAgICAgICAgICAgICAgICAgICBfd3JhcC5jc3MoIHsgdG9wOiAoICggX3dpbmRvdy5oZWlnaHQoKSAtICggX3BvcHVwUGFkZGluZyAqIDIgKSApIC0gX3dyYXAuaGVpZ2h0KCkgKSAvIDIgfSApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIF93cmFwLmNzcyggeyB0b3A6IDAgfSApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfZ2V0U2Nyb2xsV2lkdGggPSBmdW5jdGlvbiAoKXtcbiAgICAgICAgICAgICAgICB2YXIgc2Nyb2xsRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ2RpdicpLFxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxCYXJXaWR0aDtcblxuICAgICAgICAgICAgICAgIHNjcm9sbERpdi5jbGFzc05hbWUgPSAncG9wdXBfX3Njcm9sbGJhci1tZWFzdXJlJztcblxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoIHNjcm9sbERpdiApO1xuXG4gICAgICAgICAgICAgICAgc2Nyb2xsQmFyV2lkdGggPSBzY3JvbGxEaXYub2Zmc2V0V2lkdGggLSBzY3JvbGxEaXYuY2xpZW50V2lkdGg7XG5cbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHNjcm9sbERpdik7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gc2Nyb2xsQmFyV2lkdGg7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2hpZGUgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIF9vYmouY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgIG92ZXJmbG93WTogJ2hpZGRlbidcbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgX3Njcm9sbENvbnRlaW5lci5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3dZOiAnYXV0bycsXG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmdSaWdodDogMFxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIF9vYmoucmVtb3ZlQ2xhc3MoICdwb3B1cF9vcGVuZWQnICk7XG4gICAgICAgICAgICAgICAgX29iai5hZGRDbGFzcyggJ3BvcHVwX2hpZGUnICk7XG5cbiAgICAgICAgICAgICAgICBfdGltZXIgPSBzZXRUaW1lb3V0KCBmdW5jdGlvbigpe1xuXG4gICAgICAgICAgICAgICAgICAgIF9vYmouY3NzICh7XG4gICAgICAgICAgICAgICAgICAgICAgICBvdmVyZmxvd1k6ICdzY3JvbGwnXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIF9vYmoucmVtb3ZlQ2xhc3MoICdwb3B1cF9oaWRlJyApO1xuICAgICAgICAgICAgICAgIH0sIDMwMCApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIF9vYmpbIDAgXS5vYmogPSBfc2VsZjtcbiAgICAgICAgICAgICAgICBfb25FdmVudHMoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfb25FdmVudHMgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIF93aW5kb3cub24oIHtcbiAgICAgICAgICAgICAgICAgICAgbG9hZDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfZ2xvYmFsV2lkdGggPSBfd2luZG93LndpZHRoKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcmVzaXplOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgX2NlbnRlcldyYXAoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA+PSAxMDI0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF9nbG9iYWxXaWR0aCAhPSBfd2luZG93LndpZHRoKCkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2dsb2JhbFdpZHRoID0gX3dpbmRvdy53aWR0aCgpICsgMTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaGlkZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICBfYnRuU2hvdy5vbigge1xuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoICQodGhpcykuaGFzQ2xhc3MoJ2Nvb2tpZXMtaW5mb19idG4nKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPCAxMDI0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zaG93KCAkKCB0aGlzICkuYXR0ciggJ2RhdGEtcG9wdXAnICkgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3Nob3coICQoIHRoaXMgKS5hdHRyKCAnZGF0YS1wb3B1cCcgKSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgX3dyYXAub24oIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCBlICl7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgIF9vYmoub24oIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgIF9idG5DbG9zZS5vbigge1xuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3Nob3cgPSBmdW5jdGlvbiggY2xhc3NOYW1lICl7XG4gICAgICAgICAgICAgICAgX3NldFBvcHVwQ29udGVudCggY2xhc3NOYW1lICk7XG5cbiAgICAgICAgICAgICAgICBfc2Nyb2xsQ29udGVpbmVyLmNzcygge1xuICAgICAgICAgICAgICAgICAgICBvdmVyZmxvd1k6ICdoaWRkZW4nLFxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nUmlnaHQ6IF9nZXRTY3JvbGxXaWR0aCgpXG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgIF9vYmouYWRkQ2xhc3MoICdwb3B1cF9vcGVuZWQnICk7XG4gICAgICAgICAgICAgICAgX2NlbnRlcldyYXAoKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9zZXRQb3B1cENvbnRlbnQgPSBmdW5jdGlvbiggY2xhc3NOYW1lICl7XG4gICAgICAgICAgICAgICAgdmFyIGN1ckNvbnRlbnQgPSBfY29udGVudHMuZmlsdGVyKCAnLnBvcHVwX18nICsgY2xhc3NOYW1lICk7XG5cbiAgICAgICAgICAgICAgICBfY29udGVudHMuY3NzKCB7IGRpc3BsYXk6ICdub25lJyB9ICk7XG4gICAgICAgICAgICAgICAgY3VyQ29udGVudC5jc3MoIHsgZGlzcGxheTogJ2Jsb2NrJyB9ICk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIC8vcHVibGljIHByb3BlcnRpZXNcblxuICAgICAgICAvL3B1YmxpYyBtZXRob2RzXG5cblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbn0gKSgpO1xuXG4iLCJcInVzZSBzdHJpY3RcIjtcbiggZnVuY3Rpb24oKXtcblxuICAgICQoIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAkLmVhY2goICQoJy5jb3VudC1wcm9kdWN0JyksIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgbmV3IFNwaW5uZXIoICQodGhpcykgKTtcblxuICAgICAgICB9ICk7XG5cbiAgICB9ICk7XG5cbiAgICB2YXIgU3Bpbm5lciA9IGZ1bmN0aW9uIChvYmopIHtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF9pbnB1dCA9IF9vYmouZmluZCgnLmNvdW50LXByb2R1Y3RfX2lucHV0JyksXG4gICAgICAgICAgICBfYnRuVXAgPSBfb2JqLmZpbmQoJy5jb3VudC1wcm9kdWN0X2FkZCcpLFxuICAgICAgICAgICAgX2J0bkRvd24gPSBfb2JqLmZpbmQoJy5jb3VudC1wcm9kdWN0X2RlbCcpO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfYWRkRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX2lucHV0Lm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGtleXByZXNzOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggKCBldmVudC53aGljaCAhPSA0NiB8fCAkKCB0aGlzICkudmFsKCkuaW5kZXhPZiggJy4nICkgIT0gLTEgKSAmJiAoIGV2ZW50LndoaWNoIDwgNDggfHwgZXZlbnQud2hpY2ggPiA1NyApICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICBfaW5wdXQub24oIHtcbiAgICAgICAgICAgICAgICAgICAga2V5dXA6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF9pbnB1dC52YWwoKSA9PSAnJyApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pbnB1dC52YWwoIDEgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgX2J0blVwLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9hZGRDb3VudCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICBfYnRuRG93bi5vbigge1xuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVkdWNlQ291bnQoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfYWRkQ291bnQgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IHBhcnNlSW50KCBfaW5wdXQudmFsKCkgKTtcblxuICAgICAgICAgICAgICAgIF9pbnB1dC52YWwoIHZhbHVlICsgMSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3JlZHVjZUNvdW50ID0gZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IHBhcnNlSW50KCBfaW5wdXQudmFsKCkgKTtcblxuICAgICAgICAgICAgICAgIGlmKCB2YWx1ZSAhPSAxICkge1xuXG4gICAgICAgICAgICAgICAgICAgIF9pbnB1dC52YWwoIHZhbHVlIC0gMSApO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX29ialswXS5vYmogPSBfc2VsZjtcbiAgICAgICAgICAgICAgICBfYWRkRXZlbnRzKCk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIC8vcHVibGljIHByb3BlcnRpZXNcblxuICAgICAgICAvL3B1YmxpYyBtZXRob2RzXG5cblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbn0gKSgpOyIsIlwidXNlIHN0cmljdFwiO1xuKCBmdW5jdGlvbigpe1xuXG4gICAgJCggZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICQuZWFjaCggJCgnLm15LWNhcnRfX3Byb2R1Y3QnKSwgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBuZXcgUHJvZHVjdHNJbkNhcnQoICQodGhpcykgKTtcblxuICAgICAgICB9ICk7XG5cbiAgICAgICAgJC5lYWNoKCAkKCcucHJvZHVjdC1zaW5nbGVfX2luZm8nKSwgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBuZXcgQWRkUHJvZHVjdHNUb0NhcnQoICQodGhpcykgKTtcblxuICAgICAgICB9ICk7XG5cbiAgICB9ICk7XG5cbiAgICB2YXIgUHJvZHVjdHNJbkNhcnQgPSBmdW5jdGlvbiAob2JqKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfaW5wdXQgPSBfb2JqLmZpbmQoJy5jb3VudC1wcm9kdWN0X19pbnB1dCcpLFxuICAgICAgICAgICAgX2J0bkNoYW5nZUNvdW50ID0gX29iai5maW5kKCcuY291bnQtcHJvZHVjdF9fYnRuJyksXG4gICAgICAgICAgICBfYnRuUmVtb3ZlUHJvZHVjdCA9IF9vYmouZmluZCgnLm15LWNhcnRfX3JlbW92ZScpLFxuICAgICAgICAgICAgX3JlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKSxcbiAgICAgICAgICAgIF9jYXJ0ID0gJCgnLmNhcnQnKSxcbiAgICAgICAgICAgIG9sZENvdW50ID0gMCxcbiAgICAgICAgICAgIG5ld0NvdW50ID0gMCxcbiAgICAgICAgICAgIF90b3RhbFByaWNlID0gJCgnLm15LWNhcnRfX3RvdGFsJyksXG4gICAgICAgICAgICBfbG9hZCA9IF9vYmouZmluZCgnLm15LWNhcnRfX2xvYWRpbmcnKSxcbiAgICAgICAgICAgIF9idG5Qcm9tbyA9ICQoJy5teS1jYXJ0X19kZWZpbmUgLmJ0bicpLFxuICAgICAgICAgICAgX2lucHV0Q291cG9uID0gJCgnLm15LWNhcnRfX2RlZmluZSBpbnB1dCcpLFxuICAgICAgICAgICAgX2Rpc2NvdW50ID0gJCgnLm15LWNhcnRfX2Rpc2NvdW50JyksXG4gICAgICAgICAgICBfZGVmaW5lID0gJCgnLm15LWNhcnRfX2RlZmluZScpLFxuICAgICAgICAgICAgX2FwcGxpZWQgPSAkKCcubXktY2FydF9fYXBwbGllZCcpLFxuICAgICAgICAgICAgX2ludmFsaWQgPSAkKCcubXktY2FydF9faW52YWxpZCcpLFxuICAgICAgICAgICAgX3dpbmRvdyA9ICQod2luZG93KTtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcblxuXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuICAgICAgICAgICAgICAgICAgICBsb2FkOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX3NldEhlaWdodCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZTogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfc2V0SGVpZ2h0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIF9pbnB1dC5vbigge1xuICAgICAgICAgICAgICAgICAgICBrZXlwcmVzczogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoICEoKCBldmVudC53aGljaCAhPSA0NiB8fCAkKCB0aGlzICkudmFsKCkuaW5kZXhPZiggJy4nICkgIT0gLTEgKSAmJiAoIGV2ZW50LndoaWNoIDwgNDggfHwgZXZlbnQud2hpY2ggPiA1NyApKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZXF1ZXN0Q291bnRDaGFuZ2UoICQodGhpcykucGFyZW50cygnLm15LWNhcnRfX3Byb2R1Y3QnKSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIF9pbnB1dC5vbigge1xuICAgICAgICAgICAgICAgICAgICBrZXl1cDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93cml0ZUluQ2FydCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZXF1ZXN0Q291bnRDaGFuZ2UoIF9vYmogKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDEwMCApO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBfYnRuQ2hhbmdlQ291bnQub24oIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2J0blJlbW92ZVByb2R1Y3QuYWRkQ2xhc3MoJ2xvYWRpbmcnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVxdWVzdENvdW50Q2hhbmdlKCBfb2JqICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgNTAwICk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIF9idG5DaGFuZ2VDb3VudC5vbigge1xuICAgICAgICAgICAgICAgICAgICBtb3VzZXVwOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dyaXRlSW5DYXJ0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDEwMCApO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBfYnRuUmVtb3ZlUHJvZHVjdC5vbigge1xuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2lySXRlbSA9ICQodGhpcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAhKCBjaXJJdGVtLmhhc0NsYXNzKCdsb2FkaW5nJykgKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9sb2FkLmFkZENsYXNzKCd2aXNpYmxlJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVxdWVzdFByb2R1Y3RSZW1vdmUoIGNpckl0ZW0ucGFyZW50cygnLm15LWNhcnRfX3Byb2R1Y3QnKSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgNTAwICk7XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIF9idG5Qcm9tby5vbigge1xuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2lySXRlbSA9ICQodGhpcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAhKCBfaW5wdXRDb3Vwb24udmFsKCkgPT0gJycgKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5teS1jYXJ0X19wcm9tby1sb2FkaW5nJykuYWRkQ2xhc3MoJ2xvYWRpbmcnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAhKCBjaXJJdGVtLmhhc0NsYXNzKCdhamF4LWxvYWRpbmcnKSApICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZXF1ZXN0Q291cG9uRGlzY291bnQoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pbnB1dENvdXBvbi5mb2N1cygpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBfaW52YWxpZC5maW5kKCdhJykub24oIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLm15LWNhcnRfX3Byb21vLWxvYWRpbmcnKS5yZW1vdmVDbGFzcygnbG9hZGluZycpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfaW52YWxpZC5yZW1vdmVDbGFzcygndmlzaWJsZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2RlZmluZS5yZW1vdmVDbGFzcygnaGlkZGVuJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgX2FwcGxpZWQuZmluZCgnYScpLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5teS1jYXJ0X19wcm9tby1sb2FkaW5nJykucmVtb3ZlQ2xhc3MoJ2xvYWRpbmcnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlcXVlc3RDYW5jZWxDb3Vwb25EaXNjb3VudCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9yZW1vdmVQcm9kdWN0ID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cbiAgICAgICAgICAgICAgICBlbGVtLmFkZENsYXNzKCdoaWRkZW4nKTtcblxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIGVsZW0ucmVtb3ZlKCk7XG5cbiAgICAgICAgICAgICAgICB9LCA1MDAgKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9yZXF1ZXN0UHJvZHVjdFJlbW92ZSA9IGZ1bmN0aW9uICggZWxlbSApIHtcblxuICAgICAgICAgICAgICAgIF9yZXF1ZXN0LmFib3J0KCk7XG4gICAgICAgICAgICAgICAgX3JlcXVlc3QgPSAkLmFqYXgoIHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAkKCdib2R5JykuYXR0cignZGF0YS1hY3Rpb24nKSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAncmVtb3ZlX2NhcnRfaXRlbScsXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogZWxlbS5hdHRyKCdkYXRhLXByb2R1Y3Qta2V5JyksXG4gICAgICAgICAgICAgICAgICAgICAgICBmbGFnOiAncmVtb3ZlJ1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImdldFwiLFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAobSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlbW92ZVByb2R1Y3QoIGVsZW0gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIHBhcnNlSW50KG0uY2FydENvdW50UHJvZHVjdHMpID09IDAgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2FydC5maW5kKCdkaXYnKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2FydC5yZW1vdmVDbGFzcygnY2FydF9maWxsJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLnNpdGVfX2hlYWRlcicpLnJlbW92ZUNsYXNzKCdzaXRlX19oZWFkZXJfZmlsbC1jYXJ0Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLm15LWNhcnQnKS5hZGRDbGFzcygnZW1wdHknKTtcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NhcnQuZmluZCgnZGl2JykuaHRtbCggbS5jYXJ0Q291bnRQcm9kdWN0cyApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5teS1jYXJ0X19kaXNjb3VudCcpLmZpbmQoJ2RkJykuaHRtbCggbS5kaXNjb3VudCApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF90b3RhbFByaWNlLmZpbmQoJ2RkJykuaHRtbCggbS5zdWJ0b3RhbCApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9sb2FkLnJlbW92ZUNsYXNzKCd2aXNpYmxlJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDUwMCApO1xuXG5cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChYTUxIdHRwUmVxdWVzdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBYTUxIdHRwUmVxdWVzdC5zdGF0dXNUZXh0ICE9IFwiYWJvcnRcIiApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydChcIkVSUk9SISEhXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3JlcXVlc3RDb3VudENoYW5nZSA9IGZ1bmN0aW9uICggZWxlbSApIHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBfcmVxdWVzdC5hYm9ydCgpO1xuICAgICAgICAgICAgICAgIF9yZXF1ZXN0ID0gJC5hamF4KCB7XG4gICAgICAgICAgICAgICAgICAgIHVybDogJCgnYm9keScpLmF0dHIoJ2RhdGEtYWN0aW9uJyksXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbjogJ2NhcnRfcXVhbnRpdHlfY2hhbmdlcycsXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogZWxlbS5hdHRyKCdkYXRhLXByb2R1Y3QtaWQnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleTogZWxlbS5hdHRyKCdkYXRhLXByb2R1Y3Qta2V5JyksXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3VudFByb2R1Y3Q6IGVsZW0uZmluZCgnLmNvdW50LXByb2R1Y3RfX2lucHV0JykudmFsKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBmbGFnOiAnY2hhbmdlQ291bnQnXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiZ2V0XCIsXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0uZmluZCgnLm15LWNhcnRfX3RvdGFsLXByaWNlJykuaHRtbCggbS50b3RhbCApO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RvdGFsUHJpY2UuZmluZCgnZGQnKS5odG1sKCBtLnN1YnRvdGFsICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcubXktY2FydF9fZGlzY291bnQnKS5maW5kKCdkZCcpLmh0bWwoIG0uZGlzY291bnQgKTtcbiAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYnRuUmVtb3ZlUHJvZHVjdC5yZW1vdmVDbGFzcygnbG9hZGluZycpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCA1MDAgKTtcblxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKFhNTEh0dHBSZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIFhNTEh0dHBSZXF1ZXN0LnN0YXR1c1RleHQgIT0gXCJhYm9ydFwiICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiRVJST1IhISFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfcmVxdWVzdENvdXBvbkRpc2NvdW50ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX3JlcXVlc3QuYWJvcnQoKTtcbiAgICAgICAgICAgICAgICBfcmVxdWVzdCA9ICQuYWpheCgge1xuICAgICAgICAgICAgICAgICAgICB1cmw6ICQoJ2JvZHknKS5hdHRyKCdkYXRhLWFjdGlvbicpLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246ICdhcHBseV9jb3Vwb25fdG9fb3JkZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRWYWw6IF9pbnB1dENvdXBvbi52YWwoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsYWc6ICdjb3Vwb24nXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiZ2V0XCIsXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChtKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIG0uc3RhdHVzID09IDEgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Rpc2NvdW50LmFkZENsYXNzKCd2aXNpYmxlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9kZWZpbmUuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYXBwbGllZC5hZGRDbGFzcygndmlzaWJsZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdG90YWxQcmljZS5maW5kKCdkZCcpLmh0bWwoIG0uc3VidG90YWwgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2Rpc2NvdW50LmZpbmQoJ2RkJykuaHRtbCggbS5kaXNjb3VudCApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZGVmaW5lLmFkZENsYXNzKCdoaWRkZW4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2ludmFsaWQuYWRkQ2xhc3MoJ3Zpc2libGUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2FwcGxpZWQuYWRkQ2xhc3MoJ2hpZGRlbicpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2J0blByb21vLnJlbW92ZUNsYXNzKCdhamF4LWxvYWRpbmcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcubXktY2FydF9fcHJvbW8tbG9hZGluZycpLnJlbW92ZUNsYXNzKCdsb2FkaW5nJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDUwMCApO1xuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoWE1MSHR0cFJlcXVlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggWE1MSHR0cFJlcXVlc3Quc3RhdHVzVGV4dCAhPSBcImFib3J0XCIgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCJFUlJPUiEhIVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9yZXF1ZXN0Q2FuY2VsQ291cG9uRGlzY291bnQgPSBmdW5jdGlvbiAoICkge1xuXG4gICAgICAgICAgICAgICAgX3JlcXVlc3QuYWJvcnQoKTtcbiAgICAgICAgICAgICAgICBfcmVxdWVzdCA9ICQuYWpheCgge1xuICAgICAgICAgICAgICAgICAgICB1cmw6ICQoJ2JvZHknKS5hdHRyKCdkYXRhLWFjdGlvbicpLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246ICdyZW1vdmVfY291cG9uX3RvX29yZGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0VmFsOiBfaW5wdXRDb3Vwb24udmFsKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBmbGFnOiAnY291cG9uUmVtb3ZlJ1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImdldFwiLFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAobSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90b3RhbFByaWNlLmZpbmQoJ2RkJykuaHRtbCggbS5zdWJ0b3RhbCApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9kaXNjb3VudC5yZW1vdmVDbGFzcygndmlzaWJsZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9kZWZpbmUucmVtb3ZlQ2xhc3MoJ2hpZGRlbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hcHBsaWVkLnJlbW92ZUNsYXNzKCd2aXNpYmxlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLm15LWNhcnRfX3Byb21vLWxvYWRpbmcnKS5yZW1vdmVDbGFzcygnbG9hZGluZycpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCA1MDAgKTtcblxuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoWE1MSHR0cFJlcXVlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggWE1MSHR0cFJlcXVlc3Quc3RhdHVzVGV4dCAhPSBcImFib3J0XCIgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCJFUlJPUiEhIVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9zZXRIZWlnaHQgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIF9vYmouZWFjaCggZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckl0ZW0gPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGRyZW4gPSBjdXJJdGVtLmZpbmQoJz5kaXYnKTtcblxuICAgICAgICAgICAgICAgICAgICBjdXJJdGVtLmhlaWdodCggY2hpbGRyZW4ub3V0ZXJIZWlnaHQodHJ1ZSkgKTtcblxuICAgICAgICAgICAgICAgIH0gKVxuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3dyaXRlSW5DYXJ0ID0gIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgbmV3Q291bnQgPSAwO1xuXG4gICAgICAgICAgICAgICAgaWYoICEoIF9jYXJ0Lmhhc0NsYXNzKCdjYXJ0X2ZpbGwnKSApICkge1xuXG4gICAgICAgICAgICAgICAgICAgICQoJy5teS1jYXJ0X19wcm9kdWN0cyAuY291bnQtcHJvZHVjdF9faW5wdXQnKS5lYWNoKCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckl0ZW0gPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gcGFyc2VJbnQoIGN1ckl0ZW0udmFsKCkgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q291bnQgKz0gdmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfY2FydC5hcHBlbmQoJzxkaXY+PC9kaXY+Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfY2FydC5hZGRDbGFzcygnY2FydF9maWxsJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcuc2l0ZV9faGVhZGVyJykuYWRkQ2xhc3MoJ3NpdGVfX2hlYWRlcl9maWxsLWNhcnQnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggbmV3Q291bnQgPT0gMSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2FydC5maW5kKCdkaXYnKS5odG1sKCBuZXdDb3VudCArICcgaXRlbScpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2FydC5maW5kKCdkaXYnKS5odG1sKCBuZXdDb3VudCArICcgaXRlbXMnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAwICk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSwgNjAwICk7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICQoJy5teS1jYXJ0X19wcm9kdWN0cyAuY291bnQtcHJvZHVjdF9faW5wdXQnKS5lYWNoKCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1ckl0ZW0gPSAkKHRoaXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gcGFyc2VJbnQoIGN1ckl0ZW0udmFsKCkgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q291bnQgKz0gdmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfY2FydC5maW5kKCdkaXYnKS5odG1sKCBuZXdDb3VudCArICcgaXRlbXMnKTtcblxuICAgICAgICAgICAgICAgICAgICB9LCA3MDAgKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF9vYmpbMF0ub2JqID0gX3NlbGY7XG4gICAgICAgICAgICAgICAgX2FkZEV2ZW50cygpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAvL3B1YmxpYyBwcm9wZXJ0aWVzXG5cbiAgICAgICAgLy9wdWJsaWMgbWV0aG9kc1xuXG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG4gICAgdmFyIEFkZFByb2R1Y3RzVG9DYXJ0ID0gZnVuY3Rpb24gKG9iaikge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX2lucHV0ID0gX29iai5maW5kKCcuY291bnQtcHJvZHVjdF9faW5wdXQnKSxcbiAgICAgICAgICAgIF9wcmljZSA9IF9vYmouZmluZCgnLnByb2R1Y3Qtc2luZ2xlX19wcmljZScpLFxuICAgICAgICAgICAgX2FkZFRvQ2FydEJ0biA9IF9vYmouZmluZCgnLnByb2R1Y3Qtc2luZ2xlX19hZGQnKSxcbiAgICAgICAgICAgIF9yZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCksXG4gICAgICAgICAgICBfY2FydCA9ICQoJy5jYXJ0JyksXG4gICAgICAgICAgICBvbGRDb3VudCA9IDAsXG4gICAgICAgICAgICBuZXdDb3VudCA9IDAsXG4gICAgICAgICAgICBfd2luZG93ID0gJCh3aW5kb3cpO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfYWRkRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX2FkZFRvQ2FydEJ0bi5vbigge1xuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24gKCBldmVudCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoICEoIF9hZGRUb0NhcnRCdG4uaGFzQ2xhc3MoJ2FkZGluZycpICkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggJCgnLmdhbGxlcnlfX3RvcCAuc2xpY2stY3VycmVudCcpLmxlbmd0aCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYW5pbWF0ZWRBZGRpbmcoIGV2ZW50ICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93cml0ZUluQ2FydCgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3JlcXVlc3RQcm9kdWN0QWRkVG9DYXJ0KCAkKHRoaXMpLnBhcmVudHMoJy5wcm9kdWN0LXNpbmdsZV9faW5mbycpICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2FkZFRvQ2FydEJ0bi5hZGRDbGFzcygnYWRkaW5nJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfYW5pbWF0ZWRBZGRpbmcgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgcGljID0gJCgnLmdhbGxlcnlfX3RvcCAuc2xpY2stY3VycmVudCcpLmRhdGEoJ2ltYWdlJyksXG5cbiAgICAgICAgICAgICAgICBlID0gZXZlbnQgfHwgd2luZG93LmV2ZW50O1xuXG4gICAgICAgICAgICAgICAgdmFyIHBhZ2VYID0gZS5wYWdlWCxcbiAgICAgICAgICAgICAgICAgICAgcGFnZVkgPSBlLnBhZ2VZO1xuXG4gICAgICAgICAgICAgICAgJCgnYm9keScpLmFwcGVuZCgnPGRpdiBjbGFzcz1cInNpdGVfX3Byb2R1Y3QgaGlkZGVuXCIgc3R5bGU9XCJiYWNrZ3JvdW5kLWltYWdlOnVybCgnKyBwaWMgKycpXCI+PC9kaXY+Jyk7XG4gICAgICAgICAgICAgICAgJCgnLnNpdGVfX3Byb2R1Y3QnKS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgdG9wOiAkKCcuZ2FsbGVyeV9fdG9wJykub2Zmc2V0KCkudG9wICxcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogJCgnLmdhbGxlcnlfX3RvcCcpLm9mZnNldCgpLmxlZnQsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiAkKCcuZ2FsbGVyeV9fdG9wJykud2lkdGgoKSxcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAkKCcuZ2FsbGVyeV9fdG9wJykuaGVpZ2h0KClcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAkKCcuc2l0ZV9fcHJvZHVjdCcpLmFkZENsYXNzKCd2aXNpYmxlJyk7XG4gICAgICAgICAgICAgICAgICAgICQoJy5zaXRlX19wcm9kdWN0JykuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b3A6IF9jYXJ0Lm9mZnNldCgpLnRvcCArIF9jYXJ0LmlubmVySGVpZ2h0KCkvMiAtICQoJy5zaXRlX19wcm9kdWN0JykuaGVpZ2h0KCkvMiAsXG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiBfY2FydC5vZmZzZXQoKS5sZWZ0ICsgX2NhcnQuaW5uZXJXaWR0aCgpLzIgLSAkKCcuc2l0ZV9fcHJvZHVjdCcpLndpZHRoKCkvMlxuICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICB9LCAxMDAgKTtcblxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICQoJy5zaXRlX19wcm9kdWN0JykucmVtb3ZlQ2xhc3MoJ3Zpc2libGUnKTtcbiAgICAgICAgICAgICAgICAgICAgJCgnLnNpdGVfX3Byb2R1Y3QnKS5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICctd2Via2l0LXRyYW5zZm9ybSc6ICdzY2FsZSgwLjMpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICd0cmFuc2Zvcm0nOiAnc2NhbGUoMC4zKSdcbiAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgfSwgNTAwICk7XG5cbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAkKCcuc2l0ZV9fcHJvZHVjdCcpLnJlbW92ZSgpO1xuXG4gICAgICAgICAgICAgICAgfSwgNzAwICk7XG5cblxuICAgICAgICAgICAgICAgIF93cml0ZUluQ2FydCgpO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3dyaXRlSW5DYXJ0ID0gIGZ1bmN0aW9uKCkge1xuXG5cbiAgICAgICAgICAgICAgICBpZiggISggX2NhcnQuaGFzQ2xhc3MoJ2NhcnRfZmlsbCcpICkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgbmV3Q291bnQgPSBwYXJzZUludCggX2lucHV0LnZhbCgpICk7XG5cbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9jYXJ0LmFwcGVuZCgnPGRpdj48L2Rpdj4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jYXJ0LmFkZENsYXNzKCdjYXJ0X2ZpbGwnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5zaXRlX19oZWFkZXInKS5hZGRDbGFzcygnc2l0ZV9faGVhZGVyX2ZpbGwtY2FydCcpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBuZXdDb3VudCA9PSAxICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jYXJ0LmZpbmQoJ2RpdicpLmh0bWwoIG5ld0NvdW50ICsgJyBpdGVtJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jYXJ0LmZpbmQoJ2RpdicpLmh0bWwoIG5ld0NvdW50ICsgJyBpdGVtcycpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAxMDAgKTtcblxuICAgICAgICAgICAgICAgICAgICB9LCA2MDAgKTtcblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgb2xkQ291bnQgPSBwYXJzZUludCggX2NhcnQuZmluZCgnZGl2JykudGV4dCgpICk7XG4gICAgICAgICAgICAgICAgICAgIG5ld0NvdW50ID0gcGFyc2VJbnQoIF9pbnB1dC52YWwoKSApICsgb2xkQ291bnQ7XG5cbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9jYXJ0LmZpbmQoJ2RpdicpLmh0bWwoIG5ld0NvdW50ICsgJyBpdGVtcycpO1xuXG4gICAgICAgICAgICAgICAgICAgIH0sIDcwMCApO1xuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgX2FkZFRvQ2FydEJ0bi5yZW1vdmVDbGFzcygnYWRkaW5nJyk7XG5cbiAgICAgICAgICAgICAgICB9LCA3MDAgKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9yZXF1ZXN0UHJvZHVjdEFkZFRvQ2FydCA9IGZ1bmN0aW9uICggZWxlbSApIHtcblxuICAgICAgICAgICAgICAgIF9yZXF1ZXN0LmFib3J0KCk7XG4gICAgICAgICAgICAgICAgX3JlcXVlc3QgPSAkLmFqYXgoIHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAkKCdib2R5JykuYXR0cignZGF0YS1hY3Rpb24nKSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnc2luZ2xlX2FkZF9wcm9kdWN0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBlbGVtLmF0dHIoJ2RhdGEtaWQnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50UHJvZHVjdDogX2lucHV0LnZhbCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJpY2U6IF9wcmljZS50ZXh0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICBmbGFnOiAnYWRkVG9DYXJ0J1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImdldFwiLFxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAobSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIHBhcnNlSW50KCBtLmNhcnRDb3VudFByb2R1Y3RzICkgIT0gbmV3Q291bnQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2FydC5maW5kKCdkaXYnKS5odG1sKCBtLmNhcnRDb3VudFByb2R1Y3RzICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKCBYTUxIdHRwUmVxdWVzdCwgbSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggWE1MSHR0cFJlcXVlc3Quc3RhdHVzVGV4dCAhPSBcImFib3J0XCIgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIHBhcnNlSW50KCBtLmNhcnRDb3VudFByb2R1Y3RzICkgIT0gbmV3Q291bnQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NhcnQuZmluZCgnZGl2JykuaHRtbCggb2xkQ291bnQgKyAnaXRlbXMnICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF9vYmpbMF0ub2JqID0gX3NlbGY7XG4gICAgICAgICAgICAgICAgX2FkZEV2ZW50cygpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAvL3B1YmxpYyBwcm9wZXJ0aWVzXG5cbiAgICAgICAgLy9wdWJsaWMgbWV0aG9kc1xuXG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG59ICkoKTsiXX0=
