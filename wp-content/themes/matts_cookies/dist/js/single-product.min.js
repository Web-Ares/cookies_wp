"use strict";!function(){var e=!0;$(function(){new n($(".preloader")),$.each($(".site__header"),function(){new i($(this))}),$.each($("[data-href]"),function(){new t($(this))}),$.each($(".slides"),function(){new o($(this))}),$.each($(".site__content-full"),function(){new s($(this))}),$.each($(".site_index"),function(){new a($(this))})});var n=function(e){var n=this,i=$(window),t=e,o=$("body"),s=function(){i.on({load:function(){d()}})},a=function(){o[0].preloader=n,s(),$("html").css({"overflow-y":"hidden"})},d=function(){t.addClass("preloader_loaded"),setTimeout(function(){t.remove(),$("html").css({"overflow-y":"scroll"}),$(".site").addClass("site__loaded")},500)};a()},i=function(n){var i=this,t=n,o=$(window),s=$("html"),a=t.find(".site__menu"),d=($(".site__content"),!1),c=!1,l=!0,r=0,h=t.find(".site__menu-btn"),u=0,f=function(){o.on({load:function(){u=o.width()},resize:function(){u!=o.width()&&(u=o.width()+1,o.width()>=1024&&(a.scrollTop(0),v(h)))},scroll:function(){d=o.scrollTop()>=2*t.innerHeight(),o.scrollTop()>=t.innerHeight()+20?l&&(l=!1,t.addClass("site__header_hide")):(l=!0,t.removeClass("site__header_hide")),d?t.hasClass("site__header_hide")&&setTimeout(function(){t.addClass("site__header_fixed"),t.removeClass("site__header_hide")},100):o.scrollTop()<=3*t.innerHeight()&&(t.removeClass("site__header_fixed"),t.removeClass("site__header_hidden")),o.scrollTop()<=10&&(t.removeClass("site__header_fixed"),t.removeClass("site__header_hidden"))},DOMMouseScroll:function(e){var n=e.originalEvent.detail;if(n){var i=n>0?1:-1;_(i)}i<0?c=!0:setTimeout(function(){c=!1},300)},mousewheel:function(e){var n=e.originalEvent.wheelDelta;if(n){var i=n>0?-1:1;_(i)}i<0?c=!0:setTimeout(function(){c=!1},300)}}),$(window).scroll(function(e){var n=$(this).scrollTop();if(n>r){_(1);var i=1}else{_(-1);var i=-1}r=n,i<0?c=!0:setTimeout(function(){c=!1},300)}),h.on({click:function(){$(this).hasClass("opened")?v($(this)):w($(this))}})},_=function(n){n>0&&!t.hasClass("site__header_hidden")&&!h.hasClass("opened")&&d&&!c&&t.addClass("site__header_hidden"),n<0&&t.hasClass("site__header_hidden")&&!h.hasClass("opened")&&d&&c&&e&&t.removeClass("site__header_hidden")},v=function(e){s.css({overflowY:"auto"}),e.removeClass("opened"),t.removeClass("opened-menu")},m=function(){t[0].obj=i,f()},w=function(e){e.addClass("opened"),t.addClass("opened-menu"),s.css({overflowY:"hidden"})};m()},t=function(n){var i=this,t=n,o=t,s=$("html"),a=$(window),d=$("html, body"),c=$(".site__header"),l=($(".popup__cookies-info"),function(){a.on({resize:function(){},scroll:function(){}}),o.on({click:function(){var n=$(this),i=n.attr("data-href"),t=$("."+i).offset().top;return $(".site__menu-nav_anchors a").removeClass("active"),n.addClass("active"),d.stop(!0,!1),d.animate({scrollTop:t},{duration:500,progress:function(){e=!1,c.addClass("site__header_hidden")},complete:function(){setTimeout(function(){e=!1},200),setTimeout(function(){e=!0},500)}}),s.css({overflowY:"auto"}),c.find(".site__menu-btn").removeClass("opened"),c.removeClass("opened-menu"),!1}})}),r=function(){t[0].obj=i,l()};r()},o=function(e){var n=this,i=e,t=$(window),o=function(){t.on({load:function(){s()},scroll:function(){s()}})},s=function(){var e=t.scrollTop(),n=t.height(),o=i.offset().top,s=o-e,a=1-s/n;a>.5&&(i.hasClass("slides_active")||i.addClass("slides_active"))},a=function(){i[0].slides=n,o()};a()},s=function(e){var n=this,i=e,t=$(window),o=$(".site__header"),s=0,a=function(){t.on({load:function(){s=t.width(),c()},resize:function(){s!=t.width()&&(s=t.width()+1,c())}})},d=function(){i[0].obj=n,a()},c=function(){var e=t.height();i.css({"min-height":e-o.innerHeight()-$(".site__main-title").outerHeight(!0)}),i.find(".contact-us").length&&t.width()>=1024?i.css({"min-height":""}):i.css({"min-height":e-o.innerHeight()-$(".site__main-title").outerHeight(!0)})};d()},a=function(e){var n=this,i=e,t=$(window),o=($("html, body"),function(){t.on({load:function(){setTimeout(function(){s()},100)}})}),s=function(){var e=window.location.hash.replace("#","");if(e){var n=$("."+window.location.hash.replace("#",""));n.length&&window.scrollTo(0,parseInt(n.offset().top))}},a=function(){i[0].obj=n,o()};a()}}();
"use strict";!function(){$(function(){$.each($(".product-single__gallery"),function(){new s($(this))})});var s=function(s){var o=s.find(".gallery__top"),l=s.find(".gallery__thumbs"),e=function(){o.slick({slidesToShow:1,slidesToScroll:1,arrows:!1,fade:!0,asNavFor:".gallery__thumbs",responsive:[{breakpoint:768,settings:{fade:!1}}]}),l.slick({slidesToShow:2,slidesToScroll:1,asNavFor:".gallery__top",dots:!1,arrows:!1,focusOnSelect:!0})},i=function(){e()};i()}}();
!function(){$(function(){$(".popup").each(function(){new o($(this))})});var o=function(o){var n,t=this,i=40,p=$(".popup__open"),e=o,c=e.find(".popup__close, .popup__cancel"),s=e.find(".popup__wrap"),u=e.find(".popup__content"),d=$("html"),a=$(window),h=setTimeout(function(){},1),f=function(){a.height()-2*i-s.height()>0?s.css({top:(a.height()-2*i-s.height())/2}):s.css({top:0})},l=function(){var o,n=document.createElement("div");return n.className="popup__scrollbar-measure",document.body.appendChild(n),o=n.offsetWidth-n.clientWidth,document.body.removeChild(n),o},r=function(){e.css({overflowY:"hidden"}),d.css({overflowY:"auto",paddingRight:0}),e.removeClass("popup_opened"),e.addClass("popup_hide"),h=setTimeout(function(){e.css({overflowY:"scroll"}),e.removeClass("popup_hide")},300)},_=function(){e[0].obj=t,v()},v=function(){a.on({load:function(){n=a.width()},resize:function(){f(),a.width()>=1024&&n!=a.width()&&(n=a.width()+1,r())}}),p.on({click:function(){return $(this).hasClass("cookies-info_btn")?a.width()<1024?(w($(this).attr("data-popup")),!1):void 0:(w($(this).attr("data-popup")),!1)}}),s.on({click:function(o){o.stopPropagation()}}),e.on({click:function(){return r(),!1}}),c.on({click:function(){return r(),!1}})},w=function(o){m(o),d.css({overflowY:"hidden",paddingRight:l()}),e.addClass("popup_opened"),f()},m=function(o){var n=u.filter(".popup__"+o);u.css({display:"none"}),n.css({display:"block"})};_()}}();
"use strict";!function(){$(function(){$.each($(".count-product"),function(){new n($(this))})});var n=function(n){var t=this,c=n,i=c.find(".count-product__input"),u=c.find(".count-product_add"),o=c.find(".count-product_del"),e=function(){i.on({keypress:function(){46==event.which&&$(this).val().indexOf(".")==-1||!(event.which<48||event.which>57)||event.preventDefault()}}),i.on({keyup:function(){""==i.val()&&i.val(1)}}),u.on({click:function(){return f(),!1}}),o.on({click:function(){return r(),!1}})},f=function(){var n=parseInt(i.val());i.val(n+1)},r=function(){var n=parseInt(i.val());1!=n&&i.val(n-1)},a=function(){c[0].obj=t,e()};a()}}();
"use strict";!function(){$(function(){$.each($(".my-cart__product"),function(){new t($(this))}),$.each($(".product-single__info"),function(){new i($(this))})});var t=function(t){var i=this,n=t,e=n.find(".count-product__input"),a=n.find(".count-product__btn"),o=n.find(".my-cart__remove"),s=new XMLHttpRequest,c=$(".cart"),d=0,r=$(".my-cart__total"),u=n.find(".my-cart__loading"),l=$(window),f=function(){l.on({load:function(){h()},resize:function(){h()}}),e.on({keypress:function(){(46==event.which&&$(this).val().indexOf(".")==-1||!(event.which<48||event.which>57))&&m($(this).parents(".my-cart__product"))}}),e.on({keyup:function(){setTimeout(function(){v(),m(n)},100)}}),a.on({click:function(){o.addClass("loading"),setTimeout(function(){m(n)},500)}}),a.on({mouseup:function(){setTimeout(function(){v()},100)}}),o.on({click:function(){var t=$(this);return t.hasClass("loading")||(u.addClass("visible"),setTimeout(function(){p(t.parents(".my-cart__product"))},500)),!1}})},_=function(t){t.addClass("hidden"),setTimeout(function(){t.remove()},500)},p=function(t){s.abort(),s=$.ajax({url:$("body").attr("data-action"),data:{action:"remove_cart_item",id:t.attr("data-product-key"),flag:"remove"},dataType:"json",type:"get",success:function(i){_(t),0==parseInt(i.cartCountProducts)?(c.find("div").remove(),c.removeClass("cart_fill"),$(".site__header").removeClass("site__header_fill-cart"),$(".my-cart").addClass("empty")):c.find("div").html(i.cartCountProducts),r.find("span").html(i.subtotal),setTimeout(function(){u.removeClass("visible")},500)},error:function(t){"abort"!=t.statusText&&alert("ERROR!!!")}})},m=function(t){s.abort(),s=$.ajax({url:$("body").attr("data-action"),data:{action:"cart_quantity_changes",id:t.attr("data-product-id"),key:t.attr("data-product-key"),countProduct:t.find(".count-product__input").val(),flag:"changeCount"},dataType:"json",type:"get",success:function(i){t.find(".my-cart__total-price").html(i.total),r.find("span").html(i.subtotal),setTimeout(function(){o.removeClass("loading")},500)},error:function(t){"abort"!=t.statusText&&alert("ERROR!!!")}})},h=function(){n.each(function(){var t=$(this),i=t.find(">div");t.height(i.outerHeight(!0))})},v=function(){d=0,c.hasClass("cart_fill")?($(".my-cart__products .count-product__input").each(function(){var t=$(this),i=parseInt(t.val());d+=i}),setTimeout(function(){c.find("div").html(d+" items")},700)):($(".my-cart__products .count-product__input").each(function(){var t=$(this),i=parseInt(t.val());d+=i}),setTimeout(function(){c.append("<div></div>"),c.addClass("cart_fill"),$(".site__header").addClass("site__header_fill-cart"),setTimeout(function(){1==d?c.find("div").html(d+" item"):c.find("div").html(d+" items")},100)},600))},g=function(){n[0].obj=i,f()};g()},i=function(t){var i=this,n=t,e=n.find(".count-product__input"),a=n.find(".product-single__price"),o=n.find(".product-single__add"),s=new XMLHttpRequest,c=$(".cart"),d=0,r=0,u=($(window),function(){o.on({click:function(t){return o.hasClass("adding")||($(".gallery__top .slick-current").length?l(t):f(),_($(this).parents(".product-single__info")),o.addClass("adding")),!1}})}),l=function(t){var i=$(".gallery__top .slick-current").data("image"),n=t||window.event;n.pageX,n.pageY;$("body").append('<div class="site__product hidden" style="background-image:url('+i+')"></div>'),$(".site__product").css({top:$(".gallery__top").offset().top,left:$(".gallery__top").offset().left,width:$(".gallery__top").width(),height:$(".gallery__top").height()}),setTimeout(function(){$(".site__product").addClass("visible"),$(".site__product").css({top:c.offset().top+c.innerHeight()/2-$(".site__product").height()/2,left:c.offset().left+c.innerWidth()/2-$(".site__product").width()/2})},100),setTimeout(function(){$(".site__product").removeClass("visible"),$(".site__product").css({"-webkit-transform":"scale(0.3)",transform:"scale(0.3)"})},500),setTimeout(function(){$(".site__product").remove()},700),f()},f=function(){c.hasClass("cart_fill")?(d=parseInt(c.find("div").text()),r=parseInt(e.val())+d,setTimeout(function(){c.find("div").html(r+" items")},700)):(r=parseInt(e.val()),setTimeout(function(){c.append("<div></div>"),c.addClass("cart_fill"),$(".site__header").addClass("site__header_fill-cart"),setTimeout(function(){1==r?c.find("div").html(r+" item"):c.find("div").html(r+" items")},100)},600)),setTimeout(function(){o.removeClass("adding")},700)},_=function(t){s.abort(),s=$.ajax({url:$("body").attr("data-action"),data:{action:"single_add_product",id:t.attr("data-id"),countProduct:e.val(),price:a.text(),flag:"addToCart"},dataType:"json",type:"get",success:function(t){parseInt(t.cartCountProducts)!=r&&c.find("div").html(t.cartCountProducts)},error:function(t,i){"abort"!=t.statusText&&parseInt(i.cartCountProducts)!=r&&c.find("div").html(d+"items")}})},p=function(){n[0].obj=i,u()};p()}}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5tYWluLmpzIiwianF1ZXJ5LnNpbmdsZS1wcm9kdWN0LmpzIiwianF1ZXJ5LnBvcHVwLmpzIiwianF1ZXJ5Lm51bWJlci1zcGlubmVyLmpzIiwianF1ZXJ5LmFqYXgtY2FydC5qcyJdLCJuYW1lcyI6WyJnbG9iYWxTY3JvbGxGbGFnIiwiJCIsIlByZWxvYWRlciIsImVhY2giLCJNZW51IiwidGhpcyIsIlNjcm9sbFBhbmVsIiwiU2xpZGVzIiwiRnVsbEhlaWdodCIsIlNjcm9sbFRvSGFzaCIsIm9iaiIsIl9zZWxmIiwiX3dpbmRvdyIsIndpbmRvdyIsIl9wcmVsb2FkZXIiLCJfYm9keSIsIl9hZGRFdmVudHMiLCJvbiIsImxvYWQiLCJfc2hvd1NpdGUiLCJfaW5pdCIsInByZWxvYWRlciIsImNzcyIsIm92ZXJmbG93LXkiLCJhZGRDbGFzcyIsInNldFRpbWVvdXQiLCJyZW1vdmUiLCJfb2JqIiwiX2h0bWwiLCJfbWVudSIsImZpbmQiLCJfYWN0aW9uIiwiX2FjdGlvbjIiLCJfZmxhZ0hpZGUiLCJsYXN0U2Nyb2xsVG9wIiwiX3Nob3dNZW51QnRuIiwiX2dsb2JhbFdpZHRoIiwid2lkdGgiLCJyZXNpemUiLCJzY3JvbGxUb3AiLCJfY2xvc2VNZW51Iiwic2Nyb2xsIiwiaW5uZXJIZWlnaHQiLCJyZW1vdmVDbGFzcyIsImhhc0NsYXNzIiwiRE9NTW91c2VTY3JvbGwiLCJlIiwiZGVsdGEiLCJvcmlnaW5hbEV2ZW50IiwiZGV0YWlsIiwiZGlyZWN0aW9uIiwiX2NoZWNrU2Nyb2xsIiwibW91c2V3aGVlbCIsIndoZWVsRGVsdGEiLCJldmVudCIsInN0IiwiY2xpY2siLCJfb3Blbk1lbnUiLCJlbGVtIiwib3ZlcmZsb3dZIiwiX2xpbmtzIiwiX2RvbSIsIl9oZWFkZXIiLCJjdXJJdGVtIiwibmV3Q2xhc3MiLCJhdHRyIiwibmV4dEl0ZW1Ub3AiLCJvZmZzZXQiLCJ0b3AiLCJzdG9wIiwiYW5pbWF0ZSIsImR1cmF0aW9uIiwicHJvZ3Jlc3MiLCJjb21wbGV0ZSIsImN1clNjcm9sbCIsIndpbmRvd0giLCJoZWlnaHQiLCJ0b3BQb3MiLCJ0b3BJbldpbmRvdyIsInZpc2libGVQZXJjZW50Iiwic2xpZGVzIiwiX3NldEhlaWdodCIsIm1pbi1oZWlnaHQiLCJvdXRlckhlaWdodCIsImxlbmd0aCIsIl9zY3JvbGxUbyIsImhhc2giLCJsb2NhdGlvbiIsInJlcGxhY2UiLCJzY3JvbGxUbyIsInBhcnNlSW50IiwiU3dpcGVyR2FsbGVyeSIsIl9nYWxsZXJ5VG9wIiwiX2dhbGxlcnlUaHVtYnMiLCJfaW5pdFNsaWNrIiwic2xpY2siLCJzbGlkZXNUb1Nob3ciLCJzbGlkZXNUb1Njcm9sbCIsImFycm93cyIsImZhZGUiLCJhc05hdkZvciIsInJlc3BvbnNpdmUiLCJicmVha3BvaW50Iiwic2V0dGluZ3MiLCJkb3RzIiwiZm9jdXNPblNlbGVjdCIsIlBvcHVwIiwiX3BvcHVwUGFkZGluZyIsIl9idG5TaG93IiwiX2J0bkNsb3NlIiwiX3dyYXAiLCJfY29udGVudHMiLCJfc2Nyb2xsQ29udGVpbmVyIiwiX3RpbWVyIiwiX2NlbnRlcldyYXAiLCJfZ2V0U2Nyb2xsV2lkdGgiLCJzY3JvbGxCYXJXaWR0aCIsInNjcm9sbERpdiIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsImJvZHkiLCJhcHBlbmRDaGlsZCIsIm9mZnNldFdpZHRoIiwiY2xpZW50V2lkdGgiLCJyZW1vdmVDaGlsZCIsIl9oaWRlIiwicGFkZGluZ1JpZ2h0IiwiX29uRXZlbnRzIiwiX3Nob3ciLCJzdG9wUHJvcGFnYXRpb24iLCJfc2V0UG9wdXBDb250ZW50IiwiY3VyQ29udGVudCIsImZpbHRlciIsImRpc3BsYXkiLCJTcGlubmVyIiwiX2lucHV0IiwiX2J0blVwIiwiX2J0bkRvd24iLCJrZXlwcmVzcyIsIndoaWNoIiwidmFsIiwiaW5kZXhPZiIsInByZXZlbnREZWZhdWx0Iiwia2V5dXAiLCJfYWRkQ291bnQiLCJfcmVkdWNlQ291bnQiLCJ2YWx1ZSIsIlByb2R1Y3RzSW5DYXJ0IiwiQWRkUHJvZHVjdHNUb0NhcnQiLCJfYnRuQ2hhbmdlQ291bnQiLCJfYnRuUmVtb3ZlUHJvZHVjdCIsIl9yZXF1ZXN0IiwiWE1MSHR0cFJlcXVlc3QiLCJfY2FydCIsIm5ld0NvdW50IiwiX3RvdGFsUHJpY2UiLCJfbG9hZCIsIl9yZXF1ZXN0Q291bnRDaGFuZ2UiLCJwYXJlbnRzIiwiX3dyaXRlSW5DYXJ0IiwibW91c2V1cCIsImNpckl0ZW0iLCJfcmVxdWVzdFByb2R1Y3RSZW1vdmUiLCJfcmVtb3ZlUHJvZHVjdCIsImFib3J0IiwiYWpheCIsInVybCIsImRhdGEiLCJhY3Rpb24iLCJpZCIsImZsYWciLCJkYXRhVHlwZSIsInR5cGUiLCJzdWNjZXNzIiwibSIsImNhcnRDb3VudFByb2R1Y3RzIiwiaHRtbCIsInN1YnRvdGFsIiwiZXJyb3IiLCJzdGF0dXNUZXh0IiwiYWxlcnQiLCJrZXkiLCJjb3VudFByb2R1Y3QiLCJ0b3RhbCIsImNoaWxkcmVuIiwiYXBwZW5kIiwiX3ByaWNlIiwiX2FkZFRvQ2FydEJ0biIsIm9sZENvdW50IiwiX2FuaW1hdGVkQWRkaW5nIiwiX3JlcXVlc3RQcm9kdWN0QWRkVG9DYXJ0IiwicGljIiwicGFnZVgiLCJwYWdlWSIsImxlZnQiLCJpbm5lcldpZHRoIiwiLXdlYmtpdC10cmFuc2Zvcm0iLCJ0cmFuc2Zvcm0iLCJ0ZXh0IiwicHJpY2UiXSwibWFwcGluZ3MiOiJBQUFBLGNBQ0EsV0FFSSxHQUFJQSxJQUFtQixDQUV2QkMsR0FBRyxXQUVDLEdBQUlDLEdBQVdELEVBQUUsZUFFakJBLEVBQUVFLEtBQU1GLEVBQUcsaUJBQW1CLFdBRTFCLEdBQUlHLEdBQU9ILEVBQUdJLFNBSWxCSixFQUFFRSxLQUFNRixFQUFFLGVBQWdCLFdBRXRCLEdBQUlLLEdBQWFMLEVBQUVJLFNBSXZCSixFQUFFRSxLQUFNRixFQUFFLFdBQVksV0FFbEIsR0FBSU0sR0FBUU4sRUFBRUksU0FJbEJKLEVBQUVFLEtBQU1GLEVBQUUsdUJBQXdCLFdBRTlCLEdBQUlPLEdBQVlQLEVBQUVJLFNB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c0gsYUFBYy9DLEVBQU9LLE1BQ3JCMkQsTUFBT2IsRUFBT1ksT0FDZDVCLEtBQU0sYUFFVkMsU0FBVSxPQUNWQyxLQUFNLE1BQ05DLFFBQVMsU0FBVUMsR0FFVnJGLFNBQVVxRixFQUFFQyxvQkFBdUJyQixHQUVwQ0QsRUFBTTVILEtBQUssT0FBT21KLEtBQU1GLEVBQUVDLG9CQUtsQ0csTUFBTyxTQUFXMUIsRUFBZ0JzQixHQUNJLFNBQTdCdEIsRUFBZTJCLFlBRVgxRixTQUFVcUYsRUFBRUMsb0JBQXVCckIsR0FFcENELEVBQU01SCxLQUFLLE9BQU9tSixLQUFNWSxFQUFXLGFBU3ZEekssRUFBUSxXQUNKTyxFQUFLLEdBQUdqQixJQUFNQyxFQUNkSyxJQVFSSSIsImZpbGUiOiJzaW5nbGUtcHJvZHVjdC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbiggZnVuY3Rpb24oKXtcblxuICAgIHZhciBnbG9iYWxTY3JvbGxGbGFnID0gdHJ1ZTtcblxuICAgICQoIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICBuZXcgUHJlbG9hZGVyKCAkKCcucHJlbG9hZGVyJykgKTtcblxuICAgICAgICAkLmVhY2goICQoICcuc2l0ZV9faGVhZGVyJyApLCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgbmV3IE1lbnUgKCAkKCB0aGlzICkgKTtcblxuICAgICAgICB9ICk7XG5cbiAgICAgICAgJC5lYWNoKCAkKCdbZGF0YS1ocmVmXScpLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIG5ldyBTY3JvbGxQYW5lbCggJCh0aGlzKSApO1xuXG4gICAgICAgIH0gKTtcblxuICAgICAgICAkLmVhY2goICQoJy5zbGlkZXMnKSwgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBuZXcgU2xpZGVzKCAkKHRoaXMpICk7XG5cbiAgICAgICAgfSApO1xuXG4gICAgICAgICQuZWFjaCggJCgnLnNpdGVfX2NvbnRlbnQtZnVsbCcpLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIG5ldyBGdWxsSGVpZ2h0KCAkKHRoaXMpICk7XG5cbiAgICAgICAgfSApO1xuXG4gICAgICAgICQuZWFjaCggJCgnLnNpdGVfaW5kZXgnKSwgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBuZXcgU2Nyb2xsVG9IYXNoKCAkKHRoaXMpICk7XG5cbiAgICAgICAgfSApO1xuXG4gICAgfSApO1xuXG4gICAgdmFyIFByZWxvYWRlciA9IGZ1bmN0aW9uIChvYmopIHtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX3dpbmRvdyA9ICQoIHdpbmRvdyApLFxuICAgICAgICAgICAgX3ByZWxvYWRlciA9IG9iaixcbiAgICAgICAgICAgIF9ib2R5ID0gJCgnYm9keScpO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfYWRkRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuICAgICAgICAgICAgICAgICAgICBsb2FkOiBmdW5jdGlvbigpe1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfc2hvd1NpdGUoKTtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICBfYm9keVswXS5wcmVsb2FkZXIgPSBfc2VsZjtcbiAgICAgICAgICAgICAgICBfYWRkRXZlbnRzKCk7XG5cblxuXG4gICAgICAgICAgICAgICAgJCgnaHRtbCcpLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAnb3ZlcmZsb3cteSc6ICdoaWRkZW4nXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3Nob3dTaXRlID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBfcHJlbG9hZGVyLmFkZENsYXNzKCAncHJlbG9hZGVyX2xvYWRlZCcgKTtcblxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgX3ByZWxvYWRlci5yZW1vdmUoKTtcblxuICAgICAgICAgICAgICAgICAgICAkKCdodG1sJykuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnb3ZlcmZsb3cteSc6ICdzY3JvbGwnXG4gICAgICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICAgICAgJCgnLnNpdGUnKS5hZGRDbGFzcyggJ3NpdGVfX2xvYWRlZCcgKTtcblxuICAgICAgICAgICAgICAgIH0sNTAwKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgLy9wdWJsaWMgcHJvcGVydGllc1xuXG4gICAgICAgIC8vcHVibGljIG1ldGhvZHNcblxuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBNZW51ID0gZnVuY3Rpb24oIG9iaiApIHtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF93aW5kb3cgPSAkKHdpbmRvdyksXG4gICAgICAgICAgICBfaHRtbCA9ICQoJ2h0bWwnKSxcbiAgICAgICAgICAgIF9tZW51ID0gX29iai5maW5kKCcuc2l0ZV9fbWVudScpLFxuICAgICAgICAgICAgX2NvbnRlbnQgPSAkKCcuc2l0ZV9fY29udGVudCcpLFxuICAgICAgICAgICAgX2FjdGlvbiA9IGZhbHNlLFxuICAgICAgICAgICAgX2FjdGlvbjIgPSBmYWxzZSxcbiAgICAgICAgICAgIF9mbGFnSGlkZSA9IHRydWUsXG4gICAgICAgICAgICBsYXN0U2Nyb2xsVG9wID0gMCxcbiAgICAgICAgICAgIF9zaG93TWVudUJ0biA9IF9vYmouZmluZCgnLnNpdGVfX21lbnUtYnRuJyksXG4gICAgICAgICAgICBfZ2xvYmFsV2lkdGggPSAwO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfYWRkRXZlbnRzID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBfd2luZG93Lm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGxvYWQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2dsb2JhbFdpZHRoID0gX3dpbmRvdy53aWR0aCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZTogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX2dsb2JhbFdpZHRoICE9IF93aW5kb3cud2lkdGgoKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9nbG9iYWxXaWR0aCA9IF93aW5kb3cud2lkdGgoKSArIDE7XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPj0gMTAyNCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbWVudS5zY3JvbGxUb3AoMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jbG9zZU1lbnUoIF9zaG93TWVudUJ0biApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgJ3Njcm9sbCc6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2FjdGlvbiA9IF93aW5kb3cuc2Nyb2xsVG9wKCkgPj0gX29iai5pbm5lckhlaWdodCgpICogMjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cuc2Nyb2xsVG9wKCkgPj0gX29iai5pbm5lckhlaWdodCgpKyAyMCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfZmxhZ0hpZGUgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2ZsYWdIaWRlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vYmouYWRkQ2xhc3MoICdzaXRlX19oZWFkZXJfaGlkZScgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2ZsYWdIaWRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb2JqLnJlbW92ZUNsYXNzKCAnc2l0ZV9faGVhZGVyX2hpZGUnICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX2FjdGlvbiApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfb2JqLmhhc0NsYXNzKCAnc2l0ZV9faGVhZGVyX2hpZGUnICkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vYmouYWRkQ2xhc3MoICdzaXRlX19oZWFkZXJfZml4ZWQnICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb2JqLnJlbW92ZUNsYXNzKCAnc2l0ZV9faGVhZGVyX2hpZGUnICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAwICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICggX3dpbmRvdy5zY3JvbGxUb3AoKSA8PSBfb2JqLmlubmVySGVpZ2h0KCkgKiAzICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX29iai5yZW1vdmVDbGFzcyggJ3NpdGVfX2hlYWRlcl9maXhlZCcgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb2JqLnJlbW92ZUNsYXNzKCAnc2l0ZV9faGVhZGVyX2hpZGRlbicgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy5zY3JvbGxUb3AoKSA8PSAxMCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9vYmoucmVtb3ZlQ2xhc3MoICdzaXRlX19oZWFkZXJfZml4ZWQnICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX29iai5yZW1vdmVDbGFzcyggJ3NpdGVfX2hlYWRlcl9oaWRkZW4nICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAnRE9NTW91c2VTY3JvbGwnOiBmdW5jdGlvbiAoIGUgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkZWx0YSA9IGUub3JpZ2luYWxFdmVudC5kZXRhaWw7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggZGVsdGEgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGlyZWN0aW9uID0gKCBkZWx0YSA+IDAgKSA/IDEgOiAtMTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jaGVja1Njcm9sbCggZGlyZWN0aW9uICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBkaXJlY3Rpb24gPCAwICApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hY3Rpb24yID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hY3Rpb24yID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAzMDAgKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAnbW91c2V3aGVlbCc6IGZ1bmN0aW9uICggZSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlbHRhID0gZS5vcmlnaW5hbEV2ZW50LndoZWVsRGVsdGE7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggZGVsdGEgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGlyZWN0aW9uID0gKCBkZWx0YSA+IDAgKSA/IC0xIDogMTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jaGVja1Njcm9sbCggZGlyZWN0aW9uICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBkaXJlY3Rpb24gPCAwICApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hY3Rpb24yID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hY3Rpb24yID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAzMDAgKVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgJCh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbihldmVudCl7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0ID0gJCh0aGlzKS5zY3JvbGxUb3AoKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoc3QgPiBsYXN0U2Nyb2xsVG9wKXtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2NoZWNrU2Nyb2xsKCAxICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaXJlY3Rpb24gPSAxXG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2NoZWNrU2Nyb2xsKCAtMSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGlyZWN0aW9uID0gLTFcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxhc3RTY3JvbGxUb3AgPSBzdDtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIGRpcmVjdGlvbiA8IDAgICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfYWN0aW9uMiA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYWN0aW9uMiA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAzMDAgKVxuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIF9zaG93TWVudUJ0bi5vbigge1xuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAkKCB0aGlzICkuaGFzQ2xhc3MoICdvcGVuZWQnICkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2xvc2VNZW51KCAkKCB0aGlzICkgKVxuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfb3Blbk1lbnUoICQoIHRoaXMgKSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2NoZWNrU2Nyb2xsID0gZnVuY3Rpb24oIGRpcmVjdGlvbiApIHtcblxuICAgICAgICAgICAgICAgIGlmKCBkaXJlY3Rpb24gPiAwICYmICFfb2JqLmhhc0NsYXNzKCAnc2l0ZV9faGVhZGVyX2hpZGRlbicgKSAmJiAhX3Nob3dNZW51QnRuLmhhc0NsYXNzKCAnb3BlbmVkJyApICYmIF9hY3Rpb24gJiYgIV9hY3Rpb24yICl7XG5cbiAgICAgICAgICAgICAgICAgICAgX29iai5hZGRDbGFzcyggJ3NpdGVfX2hlYWRlcl9oaWRkZW4nICk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiggZGlyZWN0aW9uIDwgMCAmJiBfb2JqLmhhc0NsYXNzKCAnc2l0ZV9faGVhZGVyX2hpZGRlbicgKSAmJiAhX3Nob3dNZW51QnRuLmhhc0NsYXNzKCAnb3BlbmVkJyApICAmJiBfYWN0aW9uICYmIF9hY3Rpb24yICYmIGdsb2JhbFNjcm9sbEZsYWcgKXtcblxuICAgICAgICAgICAgICAgICAgICBfb2JqLnJlbW92ZUNsYXNzKCdzaXRlX19oZWFkZXJfaGlkZGVuJyk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfY2xvc2VNZW51ID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cbiAgICAgICAgICAgICAgICBfaHRtbC5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3dZOiAnYXV0bydcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBlbGVtLnJlbW92ZUNsYXNzKCAnb3BlbmVkJyApO1xuICAgICAgICAgICAgICAgIF9vYmoucmVtb3ZlQ2xhc3MoICdvcGVuZWQtbWVudScgKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgX29ialsgMCBdLm9iaiA9IF9zZWxmO1xuICAgICAgICAgICAgICAgIF9hZGRFdmVudHMoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfb3Blbk1lbnUgPSBmdW5jdGlvbiggZWxlbSApICB7XG5cbiAgICAgICAgICAgICAgICBlbGVtLmFkZENsYXNzKCAnb3BlbmVkJyApO1xuICAgICAgICAgICAgICAgIF9vYmouYWRkQ2xhc3MoICdvcGVuZWQtbWVudScgKTtcblxuICAgICAgICAgICAgICAgIF9odG1sLmNzcygge1xuICAgICAgICAgICAgICAgICAgICBvdmVyZmxvd1k6ICdoaWRkZW4nXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBTY3JvbGxQYW5lbCA9IGZ1bmN0aW9uICggb2JqICkge1xuXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX2xpbmtzID0gX29iaixcbiAgICAgICAgICAgIF9odG1sID0gJCgnaHRtbCcpLFxuICAgICAgICAgICAgX3dpbmRvdyA9ICQod2luZG93KSxcbiAgICAgICAgICAgIF9kb20gPSAgJCggJ2h0bWwsIGJvZHknKSxcbiAgICAgICAgICAgIF9oZWFkZXIgPSAkKCcuc2l0ZV9faGVhZGVyJyksXG4gICAgICAgICAgICBfcG9wdXAgPSAkKCcucG9wdXBfX2Nvb2tpZXMtaW5mbycpO1xuXG4gICAgICAgIHZhciBfYWRkRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuICAgICAgICAgICAgICAgICAgICByZXNpemU6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy9fY2hhbmdlQWN0aXZlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgJ3Njcm9sbCc6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy9fY2hhbmdlQWN0aXZlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgIF9saW5rcy5vbigge1xuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJJdGVtID0gJCggdGhpcyApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0NsYXNzID0gY3VySXRlbS5hdHRyKCdkYXRhLWhyZWYnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXh0SXRlbVRvcCA9ICQoICcuJyArIG5ld0NsYXNzICApLm9mZnNldCgpLnRvcDtcblxuXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcuc2l0ZV9fbWVudS1uYXZfYW5jaG9ycyBhJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VySXRlbS5hZGRDbGFzcygnYWN0aXZlJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9kb20uc3RvcCggdHJ1ZSwgZmFsc2UgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9kb20uYW5pbWF0ZSgge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbFRvcDogbmV4dEl0ZW1Ub3BcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA1MDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvZ3Jlc3M6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xvYmFsU2Nyb2xsRmxhZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaGVhZGVyLmFkZENsYXNzKCAnc2l0ZV9faGVhZGVyX2hpZGRlbicgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnbG9iYWxTY3JvbGxGbGFnID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIDIwMCApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xvYmFsU2Nyb2xsRmxhZyA9IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgNTAwICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2h0bWwuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3dZOiAnYXV0bydcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2hlYWRlci5maW5kKCcuc2l0ZV9fbWVudS1idG4nKS5yZW1vdmVDbGFzcyggJ29wZW5lZCcgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9oZWFkZXIucmVtb3ZlQ2xhc3MoICdvcGVuZWQtbWVudScgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIF9vYmpbMF0ub2JqID0gX3NlbGY7XG4gICAgICAgICAgICAgICAgX2FkZEV2ZW50cygpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbiAgICB2YXIgU2xpZGVzID0gZnVuY3Rpb24gKG9iaikge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX3dpbmRvdyA9ICQod2luZG93KTtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfd2luZG93Lm9uKHtcbiAgICAgICAgICAgICAgICAgICAgbG9hZDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfY2hlY2tTY3JvbGwoKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfY2hlY2tTY3JvbGwoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9jaGVja1Njcm9sbCA9IGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgICAgICAgICB2YXIgY3VyU2Nyb2xsID0gX3dpbmRvdy5zY3JvbGxUb3AoKSxcbiAgICAgICAgICAgICAgICAgICAgd2luZG93SCA9IF93aW5kb3cuaGVpZ2h0KCksXG4gICAgICAgICAgICAgICAgICAgIHRvcFBvcyA9IF9vYmoub2Zmc2V0KCkudG9wLFxuICAgICAgICAgICAgICAgICAgICB0b3BJbldpbmRvdyA9IHRvcFBvcy1jdXJTY3JvbGwsXG4gICAgICAgICAgICAgICAgICAgIHZpc2libGVQZXJjZW50ID0gMS0odG9wSW5XaW5kb3cvd2luZG93SCk7XG5cbiAgICAgICAgICAgICAgICBpZiggdmlzaWJsZVBlcmNlbnQgPiAuNSApe1xuICAgICAgICAgICAgICAgICAgICBpZiggIV9vYmouaGFzQ2xhc3MoJ3NsaWRlc19hY3RpdmUnKSApe1xuICAgICAgICAgICAgICAgICAgICAgICAgX29iai5hZGRDbGFzcygnc2xpZGVzX2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX29ialswXS5zbGlkZXMgPSBfc2VsZjtcbiAgICAgICAgICAgICAgICBfYWRkRXZlbnRzKCk7XG5cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgLy9wdWJsaWMgcHJvcGVydGllc1xuXG4gICAgICAgIC8vcHVibGljIG1ldGhvZHNcblxuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBGdWxsSGVpZ2h0ID0gZnVuY3Rpb24gKG9iaikge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX3dpbmRvdyA9ICQod2luZG93KSxcbiAgICAgICAgICAgIF9oZWFkZXIgPSAkKCcuc2l0ZV9faGVhZGVyJyksXG4gICAgICAgICAgICBfZ2xvYmFsV2lkdGggPSAwO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfYWRkRXZlbnRzID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBfd2luZG93Lm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGxvYWQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2dsb2JhbFdpZHRoID0gX3dpbmRvdy53aWR0aCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3NldEhlaWdodCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZTogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggX2dsb2JhbFdpZHRoICE9IF93aW5kb3cud2lkdGgoKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9nbG9iYWxXaWR0aCA9IF93aW5kb3cud2lkdGgoKSArIDE7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2V0SGVpZ2h0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBfb2JqWyAwIF0ub2JqID0gX3NlbGY7XG4gICAgICAgICAgICAgICAgX2FkZEV2ZW50cygpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9zZXRIZWlnaHQgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIHZhciBoZWlnaHQgPSBfd2luZG93LmhlaWdodCgpO1xuXG4gICAgICAgICAgICAgICAgX29iai5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgJ21pbi1oZWlnaHQnOiBoZWlnaHQgLSBfaGVhZGVyLmlubmVySGVpZ2h0KCkgLSAkKCcuc2l0ZV9fbWFpbi10aXRsZScpLm91dGVySGVpZ2h0KHRydWUpXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgaWYoIF9vYmouZmluZCgnLmNvbnRhY3QtdXMnKS5sZW5ndGggKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoIF93aW5kb3cud2lkdGgoKSA+PSAxMDI0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfb2JqLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdtaW4taGVpZ2h0JzogJydcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfb2JqLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdtaW4taGVpZ2h0JzogaGVpZ2h0IC0gX2hlYWRlci5pbm5lckhlaWdodCgpIC0gJCgnLnNpdGVfX21haW4tdGl0bGUnKS5vdXRlckhlaWdodCh0cnVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgX29iai5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdtaW4taGVpZ2h0JzogaGVpZ2h0IC0gX2hlYWRlci5pbm5lckhlaWdodCgpIC0gJCgnLnNpdGVfX21haW4tdGl0bGUnKS5vdXRlckhlaWdodCh0cnVlKVxuICAgICAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG4gICAgdmFyIFNjcm9sbFRvSGFzaCA9IGZ1bmN0aW9uICggb2JqICkge1xuXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX3dpbmRvdyA9ICQod2luZG93KSxcbiAgICAgICAgICAgIF9kb20gPSAgJCgnaHRtbCwgYm9keScpO1xuXG4gICAgICAgIHZhciBfYWRkRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuICAgICAgICAgICAgICAgICAgICBsb2FkOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3Njcm9sbFRvKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDEwMCApO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9zY3JvbGxUbyA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgdmFyIGhhc2ggPSB3aW5kb3cubG9jYXRpb24uaGFzaC5yZXBsYWNlKCcjJywgJycpO1xuXG4gICAgICAgICAgICAgICAgaWYoIGhhc2ggKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW0gPSAkKCAnLicgKyB3aW5kb3cubG9jYXRpb24uaGFzaC5yZXBsYWNlKCcjJywgJycpICk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoIGVsZW0ubGVuZ3RoICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oIDAsIHBhcnNlSW50KCBlbGVtLm9mZnNldCgpLnRvcCApICk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBfb2JqWzBdLm9iaiA9IF9zZWxmO1xuICAgICAgICAgICAgICAgIF9hZGRFdmVudHMoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG59ICkoKTsiLCJcInVzZSBzdHJpY3RcIjtcbiggZnVuY3Rpb24oKXtcblxuICAgICQoIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAkLmVhY2goICQoJy5wcm9kdWN0LXNpbmdsZV9fZ2FsbGVyeScgKSwgZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICBuZXcgU3dpcGVyR2FsbGVyeSggJCh0aGlzKSApO1xuXG4gICAgICAgIH0gKTtcblxuICAgIH0gKTtcblxuICAgIHZhciBTd2lwZXJHYWxsZXJ5ID0gZnVuY3Rpb24gKG9iaikge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfZ2FsbGVyeVRvcCA9IG9iai5maW5kKCcuZ2FsbGVyeV9fdG9wJyksXG4gICAgICAgICAgICBfZ2FsbGVyeVRodW1icyA9IG9iai5maW5kKCcuZ2FsbGVyeV9fdGh1bWJzJyk7XG5cbiAgICAgICAgLy9wcml2YXRlIG1ldGhvZHNcbiAgICAgICAgdmFyIF9pbml0U2xpY2sgPSBmdW5jdGlvbigpe1xuXG4gICAgICAgICAgICAgICAgX2dhbGxlcnlUb3Auc2xpY2soIHtcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVzVG9TaG93OiAxLFxuICAgICAgICAgICAgICAgICAgICBzbGlkZXNUb1Njcm9sbDogMSxcbiAgICAgICAgICAgICAgICAgICAgYXJyb3dzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgZmFkZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgYXNOYXZGb3I6ICcuZ2FsbGVyeV9fdGh1bWJzJyxcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2l2ZTogW1xuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrcG9pbnQ6IDc2OCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWRlOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIF9nYWxsZXJ5VGh1bWJzLnNsaWNrKCB7XG4gICAgICAgICAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMixcbiAgICAgICAgICAgICAgICAgICAgc2xpZGVzVG9TY3JvbGw6IDEsXG4gICAgICAgICAgICAgICAgICAgIGFzTmF2Rm9yOiAnLmdhbGxlcnlfX3RvcCcsXG4gICAgICAgICAgICAgICAgICAgIGRvdHM6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBhcnJvd3M6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBmb2N1c09uU2VsZWN0OiB0cnVlXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2luaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX2luaXRTbGljaygpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICBfaW5pdCgpO1xuICAgIH07XG5cbn0gKSgpOyIsIiggZnVuY3Rpb24oKXtcblxuICAgICQoIGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgJCggJy5wb3B1cCcgKS5lYWNoKGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgICAgIG5ldyBQb3B1cCgkKHRoaXMpKTtcblxuICAgICAgICB9KTtcblxuICAgIH0pO1xuXG4gICAgdmFyIFBvcHVwID0gZnVuY3Rpb24oIG9iaiApe1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfcG9wdXBQYWRkaW5nID0gNDAsXG4gICAgICAgICAgICBfYnRuU2hvdyA9ICAkKCAnLnBvcHVwX19vcGVuJyApLFxuICAgICAgICAgICAgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF9idG5DbG9zZSA9IF9vYmouZmluZCggJy5wb3B1cF9fY2xvc2UsIC5wb3B1cF9fY2FuY2VsJyApLFxuICAgICAgICAgICAgX3dyYXAgPSBfb2JqLmZpbmQoICcucG9wdXBfX3dyYXAnICksXG4gICAgICAgICAgICBfY29udGVudHMgPSBfb2JqLmZpbmQoICcucG9wdXBfX2NvbnRlbnQnICksXG4gICAgICAgICAgICBfc2Nyb2xsQ29udGVpbmVyID0gJCggJ2h0bWwnICksXG4gICAgICAgICAgICBfd2luZG93ID0gJCggd2luZG93ICksXG4gICAgICAgICAgICBfZ2xvYmFsV2lkdGgsXG4gICAgICAgICAgICBfdGltZXIgPSBzZXRUaW1lb3V0KCBmdW5jdGlvbigpe30sIDEgKTtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX2NlbnRlcldyYXAgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIGlmICggX3dpbmRvdy5oZWlnaHQoKSAtICggX3BvcHVwUGFkZGluZyAqIDIgKSAtIF93cmFwLmhlaWdodCgpID4gMCApIHtcbiAgICAgICAgICAgICAgICAgICAgX3dyYXAuY3NzKCB7IHRvcDogKCAoIF93aW5kb3cuaGVpZ2h0KCkgLSAoIF9wb3B1cFBhZGRpbmcgKiAyICkgKSAtIF93cmFwLmhlaWdodCgpICkgLyAyIH0gKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBfd3JhcC5jc3MoIHsgdG9wOiAwIH0gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2dldFNjcm9sbFdpZHRoID0gZnVuY3Rpb24gKCl7XG4gICAgICAgICAgICAgICAgdmFyIHNjcm9sbERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdkaXYnKSxcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsQmFyV2lkdGg7XG5cbiAgICAgICAgICAgICAgICBzY3JvbGxEaXYuY2xhc3NOYW1lID0gJ3BvcHVwX19zY3JvbGxiYXItbWVhc3VyZSc7XG5cbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKCBzY3JvbGxEaXYgKTtcblxuICAgICAgICAgICAgICAgIHNjcm9sbEJhcldpZHRoID0gc2Nyb2xsRGl2Lm9mZnNldFdpZHRoIC0gc2Nyb2xsRGl2LmNsaWVudFdpZHRoO1xuXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChzY3JvbGxEaXYpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNjcm9sbEJhcldpZHRoO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9oaWRlID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBfb2JqLmNzcygge1xuICAgICAgICAgICAgICAgICAgICBvdmVyZmxvd1k6ICdoaWRkZW4nXG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgIF9zY3JvbGxDb250ZWluZXIuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgIG92ZXJmbG93WTogJ2F1dG8nLFxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nUmlnaHQ6IDBcbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBfb2JqLnJlbW92ZUNsYXNzKCAncG9wdXBfb3BlbmVkJyApO1xuICAgICAgICAgICAgICAgIF9vYmouYWRkQ2xhc3MoICdwb3B1cF9oaWRlJyApO1xuXG4gICAgICAgICAgICAgICAgX3RpbWVyID0gc2V0VGltZW91dCggZnVuY3Rpb24oKXtcblxuICAgICAgICAgICAgICAgICAgICBfb2JqLmNzcyAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3dZOiAnc2Nyb2xsJ1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBfb2JqLnJlbW92ZUNsYXNzKCAncG9wdXBfaGlkZScgKTtcbiAgICAgICAgICAgICAgICB9LCAzMDAgKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBfb2JqWyAwIF0ub2JqID0gX3NlbGY7XG4gICAgICAgICAgICAgICAgX29uRXZlbnRzKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX29uRXZlbnRzID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBfd2luZG93Lm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGxvYWQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2dsb2JhbFdpZHRoID0gX3dpbmRvdy53aWR0aCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZTogZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jZW50ZXJXcmFwKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfd2luZG93LndpZHRoKCkgPj0gMTAyNCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCBfZ2xvYmFsV2lkdGggIT0gX3dpbmRvdy53aWR0aCgpICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9nbG9iYWxXaWR0aCA9IF93aW5kb3cud2lkdGgoKSArIDE7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2hpZGUoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG4gICAgICAgICAgICAgICAgX2J0blNob3cub24oIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAkKHRoaXMpLmhhc0NsYXNzKCdjb29raWVzLWluZm9fYnRuJykgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggX3dpbmRvdy53aWR0aCgpIDwgMTAyNCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2hvdyggJCggdGhpcyApLmF0dHIoICdkYXRhLXBvcHVwJyApICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zaG93KCAkKCB0aGlzICkuYXR0ciggJ2RhdGEtcG9wdXAnICkgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgICAgIF93cmFwLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbiggZSApe1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICBfb2JqLm9uKCB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrOiBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgX2hpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICBfYnRuQ2xvc2Uub24oIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9zaG93ID0gZnVuY3Rpb24oIGNsYXNzTmFtZSApe1xuICAgICAgICAgICAgICAgIF9zZXRQb3B1cENvbnRlbnQoIGNsYXNzTmFtZSApO1xuXG4gICAgICAgICAgICAgICAgX3Njcm9sbENvbnRlaW5lci5jc3MoIHtcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3dZOiAnaGlkZGVuJyxcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZ1JpZ2h0OiBfZ2V0U2Nyb2xsV2lkdGgoKVxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICBfb2JqLmFkZENsYXNzKCAncG9wdXBfb3BlbmVkJyApO1xuICAgICAgICAgICAgICAgIF9jZW50ZXJXcmFwKCk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfc2V0UG9wdXBDb250ZW50ID0gZnVuY3Rpb24oIGNsYXNzTmFtZSApe1xuICAgICAgICAgICAgICAgIHZhciBjdXJDb250ZW50ID0gX2NvbnRlbnRzLmZpbHRlciggJy5wb3B1cF9fJyArIGNsYXNzTmFtZSApO1xuXG4gICAgICAgICAgICAgICAgX2NvbnRlbnRzLmNzcyggeyBkaXNwbGF5OiAnbm9uZScgfSApO1xuICAgICAgICAgICAgICAgIGN1ckNvbnRlbnQuY3NzKCB7IGRpc3BsYXk6ICdibG9jaycgfSApO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAvL3B1YmxpYyBwcm9wZXJ0aWVzXG5cbiAgICAgICAgLy9wdWJsaWMgbWV0aG9kc1xuXG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG59ICkoKTtcblxuIiwiXCJ1c2Ugc3RyaWN0XCI7XG4oIGZ1bmN0aW9uKCl7XG5cbiAgICAkKCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgJC5lYWNoKCAkKCcuY291bnQtcHJvZHVjdCcpLCBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgIG5ldyBTcGlubmVyKCAkKHRoaXMpICk7XG5cbiAgICAgICAgfSApO1xuXG4gICAgfSApO1xuXG4gICAgdmFyIFNwaW5uZXIgPSBmdW5jdGlvbiAob2JqKSB7XG5cbiAgICAgICAgLy9wcml2YXRlIHByb3BlcnRpZXNcbiAgICAgICAgdmFyIF9zZWxmID0gdGhpcyxcbiAgICAgICAgICAgIF9vYmogPSBvYmosXG4gICAgICAgICAgICBfaW5wdXQgPSBfb2JqLmZpbmQoJy5jb3VudC1wcm9kdWN0X19pbnB1dCcpLFxuICAgICAgICAgICAgX2J0blVwID0gX29iai5maW5kKCcuY291bnQtcHJvZHVjdF9hZGQnKSxcbiAgICAgICAgICAgIF9idG5Eb3duID0gX29iai5maW5kKCcuY291bnQtcHJvZHVjdF9kZWwnKTtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF9pbnB1dC5vbigge1xuICAgICAgICAgICAgICAgICAgICBrZXlwcmVzczogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoICggZXZlbnQud2hpY2ggIT0gNDYgfHwgJCggdGhpcyApLnZhbCgpLmluZGV4T2YoICcuJyApICE9IC0xICkgJiYgKCBldmVudC53aGljaCA8IDQ4IHx8IGV2ZW50LndoaWNoID4gNTcgKSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBfaW5wdXQub24oIHtcbiAgICAgICAgICAgICAgICAgICAga2V5dXA6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIF9pbnB1dC52YWwoKSA9PSAnJyApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pbnB1dC52YWwoIDEgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBfYnRuVXAub24oIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2FkZENvdW50KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgX2J0bkRvd24ub24oIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX3JlZHVjZUNvdW50KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2FkZENvdW50ID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBwYXJzZUludCggX2lucHV0LnZhbCgpICk7XG5cbiAgICAgICAgICAgICAgICBfaW5wdXQudmFsKCB2YWx1ZSArIDEgKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9yZWR1Y2VDb3VudCA9IGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBwYXJzZUludCggX2lucHV0LnZhbCgpICk7XG5cbiAgICAgICAgICAgICAgICBpZiggdmFsdWUgIT0gMSApIHtcblxuICAgICAgICAgICAgICAgICAgICBfaW5wdXQudmFsKCB2YWx1ZSAtIDEgKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9pbml0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF9vYmpbMF0ub2JqID0gX3NlbGY7XG4gICAgICAgICAgICAgICAgX2FkZEV2ZW50cygpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAvL3B1YmxpYyBwcm9wZXJ0aWVzXG5cbiAgICAgICAgLy9wdWJsaWMgbWV0aG9kc1xuXG5cbiAgICAgICAgX2luaXQoKTtcbiAgICB9O1xuXG59ICkoKTsiLCJcInVzZSBzdHJpY3RcIjtcbiggZnVuY3Rpb24oKXtcblxuICAgICQoIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAkLmVhY2goICQoJy5teS1jYXJ0X19wcm9kdWN0JyksIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgbmV3IFByb2R1Y3RzSW5DYXJ0KCAkKHRoaXMpICk7XG5cbiAgICAgICAgfSApO1xuXG4gICAgICAgICQuZWFjaCggJCgnLnByb2R1Y3Qtc2luZ2xlX19pbmZvJyksIGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgbmV3IEFkZFByb2R1Y3RzVG9DYXJ0KCAkKHRoaXMpICk7XG5cbiAgICAgICAgfSApO1xuXG4gICAgfSApO1xuXG4gICAgdmFyIFByb2R1Y3RzSW5DYXJ0ID0gZnVuY3Rpb24gKG9iaikge1xuXG4gICAgICAgIC8vcHJpdmF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBfc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBfb2JqID0gb2JqLFxuICAgICAgICAgICAgX2lucHV0ID0gX29iai5maW5kKCcuY291bnQtcHJvZHVjdF9faW5wdXQnKSxcbiAgICAgICAgICAgIF9idG5DaGFuZ2VDb3VudCA9IF9vYmouZmluZCgnLmNvdW50LXByb2R1Y3RfX2J0bicpLFxuICAgICAgICAgICAgX2J0blJlbW92ZVByb2R1Y3QgPSBfb2JqLmZpbmQoJy5teS1jYXJ0X19yZW1vdmUnKSxcbiAgICAgICAgICAgIF9yZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCksXG4gICAgICAgICAgICBfY2FydCA9ICQoJy5jYXJ0JyksXG4gICAgICAgICAgICBvbGRDb3VudCA9IDAsXG4gICAgICAgICAgICBuZXdDb3VudCA9IDAsXG4gICAgICAgICAgICBfdG90YWxQcmljZSA9ICQoJy5teS1jYXJ0X190b3RhbCcpLFxuICAgICAgICAgICAgX2xvYWQgPSBfb2JqLmZpbmQoJy5teS1jYXJ0X19sb2FkaW5nJyksXG4gICAgICAgICAgICBfd2luZG93ID0gJCh3aW5kb3cpO1xuXG4gICAgICAgIC8vcHJpdmF0ZSBtZXRob2RzXG4gICAgICAgIHZhciBfYWRkRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgX3dpbmRvdy5vbigge1xuICAgICAgICAgICAgICAgICAgICBsb2FkOiBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX3NldEhlaWdodCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHJlc2l6ZTogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfc2V0SGVpZ2h0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIF9pbnB1dC5vbigge1xuICAgICAgICAgICAgICAgICAgICBrZXlwcmVzczogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoICEoKCBldmVudC53aGljaCAhPSA0NiB8fCAkKCB0aGlzICkudmFsKCkuaW5kZXhPZiggJy4nICkgIT0gLTEgKSAmJiAoIGV2ZW50LndoaWNoIDwgNDggfHwgZXZlbnQud2hpY2ggPiA1NyApKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZXF1ZXN0Q291bnRDaGFuZ2UoICQodGhpcykucGFyZW50cygnLm15LWNhcnRfX3Byb2R1Y3QnKSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIF9pbnB1dC5vbigge1xuICAgICAgICAgICAgICAgICAgICBrZXl1cDogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF93cml0ZUluQ2FydCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZXF1ZXN0Q291bnRDaGFuZ2UoIF9vYmogKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDEwMCApO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBfYnRuQ2hhbmdlQ291bnQub24oIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2J0blJlbW92ZVByb2R1Y3QuYWRkQ2xhc3MoJ2xvYWRpbmcnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVxdWVzdENvdW50Q2hhbmdlKCBfb2JqICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgNTAwICk7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIF9idG5DaGFuZ2VDb3VudC5vbigge1xuICAgICAgICAgICAgICAgICAgICBtb3VzZXVwOiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3dyaXRlSW5DYXJ0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDEwMCApO1xuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgICAgICBfYnRuUmVtb3ZlUHJvZHVjdC5vbigge1xuICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24gKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2lySXRlbSA9ICQodGhpcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAhKCBjaXJJdGVtLmhhc0NsYXNzKCdsb2FkaW5nJykgKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9sb2FkLmFkZENsYXNzKCd2aXNpYmxlJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfcmVxdWVzdFByb2R1Y3RSZW1vdmUoIGNpckl0ZW0ucGFyZW50cygnLm15LWNhcnRfX3Byb2R1Y3QnKSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgNTAwICk7XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF9yZW1vdmVQcm9kdWN0ID0gZnVuY3Rpb24oIGVsZW0gKSB7XG5cbiAgICAgICAgICAgICAgICBlbGVtLmFkZENsYXNzKCdoaWRkZW4nKTtcblxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIGVsZW0ucmVtb3ZlKCk7XG5cbiAgICAgICAgICAgICAgICB9LCA1MDAgKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgX3JlcXVlc3RQcm9kdWN0UmVtb3ZlID0gZnVuY3Rpb24gKCBlbGVtICkge1xuXG4gICAgICAgICAgICAgICAgX3JlcXVlc3QuYWJvcnQoKTtcbiAgICAgICAgICAgICAgICBfcmVxdWVzdCA9ICQuYWpheCgge1xuICAgICAgICAgICAgICAgICAgICB1cmw6ICQoJ2JvZHknKS5hdHRyKCdkYXRhLWFjdGlvbicpLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246ICdyZW1vdmVfY2FydF9pdGVtJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBlbGVtLmF0dHIoJ2RhdGEtcHJvZHVjdC1rZXknKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZsYWc6ICdyZW1vdmUnXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiZ2V0XCIsXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChtKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVtb3ZlUHJvZHVjdCggZWxlbSApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiggcGFyc2VJbnQobS5jYXJ0Q291bnRQcm9kdWN0cykgPT0gMCApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jYXJ0LmZpbmQoJ2RpdicpLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jYXJ0LnJlbW92ZUNsYXNzKCdjYXJ0X2ZpbGwnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuc2l0ZV9faGVhZGVyJykucmVtb3ZlQ2xhc3MoJ3NpdGVfX2hlYWRlcl9maWxsLWNhcnQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcubXktY2FydCcpLmFkZENsYXNzKCdlbXB0eScpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NhcnQuZmluZCgnZGl2JykuaHRtbCggbS5jYXJ0Q291bnRQcm9kdWN0cyApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBfdG90YWxQcmljZS5maW5kKCdzcGFuJykuaHRtbCggbS5zdWJ0b3RhbCApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9sb2FkLnJlbW92ZUNsYXNzKCd2aXNpYmxlJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDUwMCApO1xuXG5cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChYTUxIdHRwUmVxdWVzdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBYTUxIdHRwUmVxdWVzdC5zdGF0dXNUZXh0ICE9IFwiYWJvcnRcIiApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydChcIkVSUk9SISEhXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX3JlcXVlc3RDb3VudENoYW5nZSA9IGZ1bmN0aW9uICggZWxlbSApIHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBfcmVxdWVzdC5hYm9ydCgpO1xuICAgICAgICAgICAgICAgIF9yZXF1ZXN0ID0gJC5hamF4KCB7XG4gICAgICAgICAgICAgICAgICAgIHVybDogJCgnYm9keScpLmF0dHIoJ2RhdGEtYWN0aW9uJyksXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbjogJ2NhcnRfcXVhbnRpdHlfY2hhbmdlcycsXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogZWxlbS5hdHRyKCdkYXRhLXByb2R1Y3QtaWQnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleTogZWxlbS5hdHRyKCdkYXRhLXByb2R1Y3Qta2V5JyksXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3VudFByb2R1Y3Q6IGVsZW0uZmluZCgnLmNvdW50LXByb2R1Y3RfX2lucHV0JykudmFsKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBmbGFnOiAnY2hhbmdlQ291bnQnXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiZ2V0XCIsXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0uZmluZCgnLm15LWNhcnRfX3RvdGFsLXByaWNlJykuaHRtbCggbS50b3RhbCApO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RvdGFsUHJpY2UuZmluZCgnc3BhbicpLmh0bWwoIG0uc3VidG90YWwgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfYnRuUmVtb3ZlUHJvZHVjdC5yZW1vdmVDbGFzcygnbG9hZGluZycpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCA1MDAgKTtcblxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKFhNTEh0dHBSZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIFhNTEh0dHBSZXF1ZXN0LnN0YXR1c1RleHQgIT0gXCJhYm9ydFwiICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiRVJST1IhISFcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfc2V0SGVpZ2h0ID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICBfb2JqLmVhY2goIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJJdGVtID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuID0gY3VySXRlbS5maW5kKCc+ZGl2Jyk7XG5cbiAgICAgICAgICAgICAgICAgICAgY3VySXRlbS5oZWlnaHQoIGNoaWxkcmVuLm91dGVySGVpZ2h0KHRydWUpICk7XG5cbiAgICAgICAgICAgICAgICB9IClcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF93cml0ZUluQ2FydCA9ICBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgIG5ld0NvdW50ID0gMDtcblxuICAgICAgICAgICAgICAgIGlmKCAhKCBfY2FydC5oYXNDbGFzcygnY2FydF9maWxsJykgKSApIHtcblxuICAgICAgICAgICAgICAgICAgICAkKCcubXktY2FydF9fcHJvZHVjdHMgLmNvdW50LXByb2R1Y3RfX2lucHV0JykuZWFjaCggZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJJdGVtID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHBhcnNlSW50KCBjdXJJdGVtLnZhbCgpICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0NvdW50ICs9IHZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2NhcnQuYXBwZW5kKCc8ZGl2PjwvZGl2PicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2NhcnQuYWRkQ2xhc3MoJ2NhcnRfZmlsbCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLnNpdGVfX2hlYWRlcicpLmFkZENsYXNzKCdzaXRlX19oZWFkZXJfZmlsbC1jYXJ0Jyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIG5ld0NvdW50ID09IDEgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NhcnQuZmluZCgnZGl2JykuaHRtbCggbmV3Q291bnQgKyAnIGl0ZW0nKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NhcnQuZmluZCgnZGl2JykuaHRtbCggbmV3Q291bnQgKyAnIGl0ZW1zJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDEwMCApO1xuXG4gICAgICAgICAgICAgICAgICAgIH0sIDYwMCApO1xuXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAkKCcubXktY2FydF9fcHJvZHVjdHMgLmNvdW50LXByb2R1Y3RfX2lucHV0JykuZWFjaCggZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJJdGVtID0gJCh0aGlzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHBhcnNlSW50KCBjdXJJdGVtLnZhbCgpICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0NvdW50ICs9IHZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2NhcnQuZmluZCgnZGl2JykuaHRtbCggbmV3Q291bnQgKyAnIGl0ZW1zJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSwgNzAwICk7XG5cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfb2JqWzBdLm9iaiA9IF9zZWxmO1xuICAgICAgICAgICAgICAgIF9hZGRFdmVudHMoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgLy9wdWJsaWMgcHJvcGVydGllc1xuXG4gICAgICAgIC8vcHVibGljIG1ldGhvZHNcblxuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxuICAgIHZhciBBZGRQcm9kdWN0c1RvQ2FydCA9IGZ1bmN0aW9uIChvYmopIHtcblxuICAgICAgICAvL3ByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICB2YXIgX3NlbGYgPSB0aGlzLFxuICAgICAgICAgICAgX29iaiA9IG9iaixcbiAgICAgICAgICAgIF9pbnB1dCA9IF9vYmouZmluZCgnLmNvdW50LXByb2R1Y3RfX2lucHV0JyksXG4gICAgICAgICAgICBfcHJpY2UgPSBfb2JqLmZpbmQoJy5wcm9kdWN0LXNpbmdsZV9fcHJpY2UnKSxcbiAgICAgICAgICAgIF9hZGRUb0NhcnRCdG4gPSBfb2JqLmZpbmQoJy5wcm9kdWN0LXNpbmdsZV9fYWRkJyksXG4gICAgICAgICAgICBfcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpLFxuICAgICAgICAgICAgX2NhcnQgPSAkKCcuY2FydCcpLFxuICAgICAgICAgICAgb2xkQ291bnQgPSAwLFxuICAgICAgICAgICAgbmV3Q291bnQgPSAwLFxuICAgICAgICAgICAgX3dpbmRvdyA9ICQod2luZG93KTtcblxuICAgICAgICAvL3ByaXZhdGUgbWV0aG9kc1xuICAgICAgICB2YXIgX2FkZEV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcblxuICAgICAgICAgICAgICAgIF9hZGRUb0NhcnRCdG4ub24oIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uICggZXZlbnQgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCAhKCBfYWRkVG9DYXJ0QnRuLmhhc0NsYXNzKCdhZGRpbmcnKSApICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoICQoJy5nYWxsZXJ5X190b3AgLnNsaWNrLWN1cnJlbnQnKS5sZW5ndGggKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2FuaW1hdGVkQWRkaW5nKCBldmVudCApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfd3JpdGVJbkNhcnQoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZXF1ZXN0UHJvZHVjdEFkZFRvQ2FydCggJCh0aGlzKS5wYXJlbnRzKCcucHJvZHVjdC1zaW5nbGVfX2luZm8nKSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hZGRUb0NhcnRCdG4uYWRkQ2xhc3MoJ2FkZGluZycpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgX2FuaW1hdGVkQWRkaW5nID0gZnVuY3Rpb24oIGV2ZW50ICkge1xuXG4gICAgICAgICAgICAgICAgdmFyIHBpYyA9ICQoJy5nYWxsZXJ5X190b3AgLnNsaWNrLWN1cnJlbnQnKS5kYXRhKCdpbWFnZScpLFxuXG4gICAgICAgICAgICAgICAgZSA9IGV2ZW50IHx8IHdpbmRvdy5ldmVudDtcblxuICAgICAgICAgICAgICAgIHZhciBwYWdlWCA9IGUucGFnZVgsXG4gICAgICAgICAgICAgICAgICAgIHBhZ2VZID0gZS5wYWdlWTtcblxuICAgICAgICAgICAgICAgICQoJ2JvZHknKS5hcHBlbmQoJzxkaXYgY2xhc3M9XCJzaXRlX19wcm9kdWN0IGhpZGRlblwiIHN0eWxlPVwiYmFja2dyb3VuZC1pbWFnZTp1cmwoJysgcGljICsnKVwiPjwvZGl2PicpO1xuICAgICAgICAgICAgICAgICQoJy5zaXRlX19wcm9kdWN0JykuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgIHRvcDogJCgnLmdhbGxlcnlfX3RvcCcpLm9mZnNldCgpLnRvcCAsXG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6ICQoJy5nYWxsZXJ5X190b3AnKS5vZmZzZXQoKS5sZWZ0LFxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogJCgnLmdhbGxlcnlfX3RvcCcpLndpZHRoKCksXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogJCgnLmdhbGxlcnlfX3RvcCcpLmhlaWdodCgpXG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgJCgnLnNpdGVfX3Byb2R1Y3QnKS5hZGRDbGFzcygndmlzaWJsZScpO1xuICAgICAgICAgICAgICAgICAgICAkKCcuc2l0ZV9fcHJvZHVjdCcpLmNzcygge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiBfY2FydC5vZmZzZXQoKS50b3AgKyBfY2FydC5pbm5lckhlaWdodCgpLzIgLSAkKCcuc2l0ZV9fcHJvZHVjdCcpLmhlaWdodCgpLzIgLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogX2NhcnQub2Zmc2V0KCkubGVmdCArIF9jYXJ0LmlubmVyV2lkdGgoKS8yIC0gJCgnLnNpdGVfX3Byb2R1Y3QnKS53aWR0aCgpLzJcbiAgICAgICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgfSwgMTAwICk7XG5cbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAkKCcuc2l0ZV9fcHJvZHVjdCcpLnJlbW92ZUNsYXNzKCd2aXNpYmxlJyk7XG4gICAgICAgICAgICAgICAgICAgICQoJy5zaXRlX19wcm9kdWN0JykuY3NzKCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnLXdlYmtpdC10cmFuc2Zvcm0nOiAnc2NhbGUoMC4zKScsXG4gICAgICAgICAgICAgICAgICAgICAgICAndHJhbnNmb3JtJzogJ3NjYWxlKDAuMyknXG4gICAgICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIH0sIDUwMCApO1xuXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgJCgnLnNpdGVfX3Byb2R1Y3QnKS5yZW1vdmUoKTtcblxuICAgICAgICAgICAgICAgIH0sIDcwMCApO1xuXG5cbiAgICAgICAgICAgICAgICBfd3JpdGVJbkNhcnQoKTtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF93cml0ZUluQ2FydCA9ICBmdW5jdGlvbigpIHtcblxuXG4gICAgICAgICAgICAgICAgaWYoICEoIF9jYXJ0Lmhhc0NsYXNzKCdjYXJ0X2ZpbGwnKSApICkge1xuXG4gICAgICAgICAgICAgICAgICAgIG5ld0NvdW50ID0gcGFyc2VJbnQoIF9pbnB1dC52YWwoKSApO1xuXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfY2FydC5hcHBlbmQoJzxkaXY+PC9kaXY+Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfY2FydC5hZGRDbGFzcygnY2FydF9maWxsJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcuc2l0ZV9faGVhZGVyJykuYWRkQ2xhc3MoJ3NpdGVfX2hlYWRlcl9maWxsLWNhcnQnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCggZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiggbmV3Q291bnQgPT0gMSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2FydC5maW5kKCdkaXYnKS5odG1sKCBuZXdDb3VudCArICcgaXRlbScpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2FydC5maW5kKCdkaXYnKS5odG1sKCBuZXdDb3VudCArICcgaXRlbXMnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMTAwICk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSwgNjAwICk7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgIG9sZENvdW50ID0gcGFyc2VJbnQoIF9jYXJ0LmZpbmQoJ2RpdicpLnRleHQoKSApO1xuICAgICAgICAgICAgICAgICAgICBuZXdDb3VudCA9IHBhcnNlSW50KCBfaW5wdXQudmFsKCkgKSArIG9sZENvdW50O1xuXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfY2FydC5maW5kKCdkaXYnKS5odG1sKCBuZXdDb3VudCArICcgaXRlbXMnKTtcblxuICAgICAgICAgICAgICAgICAgICB9LCA3MDAgKTtcblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoIGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIF9hZGRUb0NhcnRCdG4ucmVtb3ZlQ2xhc3MoJ2FkZGluZycpO1xuXG4gICAgICAgICAgICAgICAgfSwgNzAwICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfcmVxdWVzdFByb2R1Y3RBZGRUb0NhcnQgPSBmdW5jdGlvbiAoIGVsZW0gKSB7XG5cbiAgICAgICAgICAgICAgICBfcmVxdWVzdC5hYm9ydCgpO1xuICAgICAgICAgICAgICAgIF9yZXF1ZXN0ID0gJC5hamF4KCB7XG4gICAgICAgICAgICAgICAgICAgIHVybDogJCgnYm9keScpLmF0dHIoJ2RhdGEtYWN0aW9uJyksXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbjogJ3NpbmdsZV9hZGRfcHJvZHVjdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogZWxlbS5hdHRyKCdkYXRhLWlkJyksXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3VudFByb2R1Y3Q6IF9pbnB1dC52YWwoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlOiBfcHJpY2UudGV4dCgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmxhZzogJ2FkZFRvQ2FydCdcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJnZXRcIixcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKG0pIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBwYXJzZUludCggbS5jYXJ0Q291bnRQcm9kdWN0cyApICE9IG5ld0NvdW50ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NhcnQuZmluZCgnZGl2JykuaHRtbCggbS5jYXJ0Q291bnRQcm9kdWN0cyApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICggWE1MSHR0cFJlcXVlc3QsIG0gKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIFhNTEh0dHBSZXF1ZXN0LnN0YXR1c1RleHQgIT0gXCJhYm9ydFwiICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBwYXJzZUludCggbS5jYXJ0Q291bnRQcm9kdWN0cyApICE9IG5ld0NvdW50ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jYXJ0LmZpbmQoJ2RpdicpLmh0bWwoIG9sZENvdW50ICsgJ2l0ZW1zJyApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9ICk7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBfaW5pdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfb2JqWzBdLm9iaiA9IF9zZWxmO1xuICAgICAgICAgICAgICAgIF9hZGRFdmVudHMoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgLy9wdWJsaWMgcHJvcGVydGllc1xuXG4gICAgICAgIC8vcHVibGljIG1ldGhvZHNcblxuXG4gICAgICAgIF9pbml0KCk7XG4gICAgfTtcblxufSApKCk7Il19
